DISASS20.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































DISASSEMBLER20......PAGE 0002

LINE# LOC   CODE        LINE


00003  0000              ;*********************************
00004  0000              *=$1201                ;START OF BASIC WITH 32K R
AM EX
00005  1201              ;*********************************
00006  1201              ; SET BSTUB TO ONE TO ALLOW FOR
00007  1201              ; INSERTION OF BASIC STUB CODE
00008  1201              ;*********************************
00009  1201              BSTUB  = 1
00010  1201              ;*********************************
00011  1201              ;
00012  1201              ;        DISASSEMBLER20
00013  1201              ;    DISASSEMBLER.V20 V080282
00014  1201              ;    SYMBOLIC DISASSEMBLER
00015  1201              ;       BY DENTON MARLOWE
00016  1201              ;
00017  1201              ;  (C)1986 BY DENTON MARLOWE
00018  1201              ;
00019  1201              ; MACRO ASSEMBLER DEVELOPMENT SYSTEM
00020  1201              ;  (C) 1982 BY COMMODORE MACHINES
00021  1201              ;
00022  1201              ;*********************************
00023  1201              ;
00024  1201              ; BASIC FORMAT PROGRAM
00025  1201              ;
00026  1201              ; 10 SYS(4623)
00027  1201              ;
00028  1201              ;*********************************
00030  1201  0D 12              .WORD BASIC     ;NEXT LINE POINTER
00031  1203  0A                 .BYTE $0A,$00   ;LINE NUMBER
00031  1204  00 
00032  1205  9E                 .BYTE $9E       ;SYS COMMAND
00033  1206  28 34              .BYTE '(4623)'  ;ASCII (2063)
00034  120C  00                 .BYTE 0         ;END OF LINE
00035  120D  00          BASIC  .BYTE 0,0       ;END OF BASIC
00035  120E  00 
00037  120F              ;*********************************
00038  120F              ;.LIB DIS.ASM
00039  120F              ;*********************************
00040  120F              ;.LIB OPTION.ASM
00041  120F              ;*********************************
00042  120F              ;.LIB UTIL.ASM
00043  120F              ;*********************************
00044  120F              ;.LIB MODE.ASM
00045  120F              ;*********************************
00046  120F              ;.LIB INTERNAL.ASM
00047  120F              ;*********************************
00048  120F              ;.LIB ASC.ASM
00049  120F              ;*********************************
00050  120F              ;.LIB TABLE.ASM
00051  120F              ;*********************************
00052  120F              ;.LIB SYM.ASM
00053  120F              ;*********************************
00054  120F              ;.END
00055  120F              ;*********************************
00056  120F              ; FILE DIS.ASM
00057  120F              ;*********************************






DISASSEMBLER20......PAGE 0003

LINE# LOC   CODE        LINE


00058  120F              ;
00059  120F              ;        DISASSEMBLER64
00060  120F              ;    SYMBOLIC DISASSEMBLER
00061  120F              ;       BY DENTON MARLOWE
00062  120F              ;
00063  120F              ;  (C)1986 BY DENTON MARLOWE
00064  120F              ;
00065  120F              ;*********************************
00066  120F              ; KERNAL ADDRESS
00067  120F              ;*********************************
00068  120F              VICREG=$900F           ;C64 = $D011 SCREEN REGIST
ER
00069  120F              CHROUT=$FFD2           ;OUTPUT CHARACTER
00070  120F              CHKIN  =$FFC6          ;OPEN INPUT FILE
00071  120F              CHRIN  =$FFCF          ;GET KEYBOARD INPUT
00072  120F              GETIN  =$FFE4          ;GET KEYBOARD CHAR
00073  120F              CLRCHN=$FFCC           ;RESET I/O CHANNELS
00074  120F              STOP   =$FFE1          ;CHECK FOR STOP
00075  120F              READST=$FFB7           ;READ ST
00076  120F              SETNAM=$FFBD           ;SET FILENAME
00077  120F              SETLFS=$FFBA           ;SET LOGICAL FILE
00078  120F              OPEN   =$FFC0          ;OPEN FILE
00079  120F              CHKOUT=$FFC9           ;OPEN OUTPUT CHANNEL
00080  120F              CLOSE  =$FFC3          ;CLOSE LOGICAL FILE
00081  120F              WREADY=$C474           ;$E391 = $A474 BASIC RETUR
N
00082  120F              ZEROUR=$02             ;ZEROPAGE POINTER
00083  120F              MEMSIZ=$37             ;TOP OF FREE RAM+1
00084  120F              ;*********************************
00085  120F              ;        ENTRY POINT
00086  120F              ;*********************************
00087  120F  4C 22 14    STARTD JMP DISASS
00088  1212              ;*********************************
00089  1212              ;       VARIABLES
00090  1212              ;*********************************
00091  1212  31          PASS   .BYTE '1'       ;PASS INDICATOR
00092  1213  31          IPASS  .BYTE '1'       ;INTERNAL PASS
00093  1214  32          EPASS  .BYTE '2'       ;EXTERNAL PASS
00094  1215  33          CPASS  .BYTE '3'       ;PRINTING PASS
00095  1216  34          SPASS  .BYTE '4'       ;SYMBOL PASS
00096  1217              ;*********************************
00097  1217  AA          XOPT   .BYTE $AA       ;LABEL GENERATION
00098  1218  AA          ROPT   .BYTE $AA       ;REL ADDRESS OPT
00099  1219  AA          DEVICE .BYTE $AA       ;OUTPUT DEVICE
00100  121A  AA          OUTPUT .BYTE $AA       ;OUTPUT FLAG
00101  121B  AA          WINDOW .BYTE $AA       ;WINDOW FLAG
00102  121C  AA          FOROPT .BYTE $AA       ;FORMAT FLAG
00103  121D  AA          COMOPT .BYTE $AA       ;COMMENT FLAG
00104  121E              ;*********************************
00105  121E              ; DISASSEMBLY ADDRESS POINTERS
00106  121E              ;*********************************
00107  121E  AA AA       SA     .WORD $AAAA     ;START ADDRESS
00108  1220  AA AA       EA     .WORD $AAAA     ;END ADDRESS
00109  1222  AA AA       SELECT .WORD $AAAA     ;BYTE POINTER
00110  1224  AA AA       OFFSET .WORD $AAAA     ;ADDRESS OFFSET
00111  1226  AA AA       SAGOL  .WORD $AAAA     ;GOLBAL START
00112  1228  AA AA       EAGOL  .WORD $AAAA     ;GOLBAL END






DISASSEMBLER20......PAGE 0004

LINE# LOC   CODE        LINE


00113  122A  AA AA       SAOUT  .WORD $AAAA     ;START ADDRESS
00114  122C  AA AA       EAOUT  .WORD $AAAA     ;END ADDRESS
00115  122E              ;*********************************
00116  122E              ; INTERNAL ADDRESS TABLE
00117  122E              ;*********************************
00118  122E  AA AA       TABINP .WORD $AAAA     ;TABLE POINTER
00119  1230  AA AA       TABINS .WORD $AAAA     ;TABLE START
00120  1232  AA AA       TABINE .WORD $AAAA     ;TABLE END
00121  1234              ;*********************************
00122  1234              ; SORT TABLE POINTERS
00123  1234              ;*********************************
00124  1234  AA AA       SMALLS .WORD $AAAA     ;TABLE START
00125  1236  AA AA       SMALLP .WORD $AAAA     ;TABLE POINTER
00126  1238              ;*********************************
00127  1238              ; SYMBOL TABLE
00128  1238              ;*********************************
00129  1238  AA          SYMBOL .BYTE $AA       ;SYMBOL OPTION
00130  1239  AA AA       SYMBOP .WORD $AAAA     ;TABLE POINTER
00131  123B  AA AA       SYMBOS .WORD $AAAA     ;TABLE START
00132  123D  AA AA       SYMBOE .WORD $AAAA     ;TABLE END
00133  123F              ;*********************************
00134  123F              ; UNDEFINED SYMBOL TABLE
00135  123F              ;*********************************
00136  123F  AA AA       UYMBOP .WORD $AAAA     ;TABLE POINTER
00137  1241  AA AA       UYMBOS .WORD $AAAA     ;TABLE START
00138  1243  AA AA       UYMBOE .WORD $AAAA     ;TABLE END
00139  1245              ;*********************************
00140  1245              ; TEMP WORKING STORAGE
00141  1245              ;*********************************
00142  1245  AA AA       WORKED .WORD $AAAA     ;TWO BYTE OP
00143  1247  AA AA       WORKER .WORD $AAAA     ;TWO BYTE OP
00144  1249  AA AA       SAVEP  .WORD $AAAA     ;TWO BYTE OP
00145  124B  AA AA       SAVES  .WORD $AAAA     ;TWO BYTE OP
00146  124D  AA AA       SAVEE  .WORD $AAAA     ;TWO BYTE OP
00147  124F              ;*********************************
00148  124F              ; OTHER VARIABLES
00149  124F              ;*********************************
00150  124F  AA AA       ADRS   .WORD $AAAA
00151  1251  AA          TEMP   .BYTE $AA
00152  1252  AA          SAVA   .BYTE $AA
00153  1253  AA          SAVX   .BYTE $AA
00154  1254  AA          SAVY   .BYTE $AA
00155  1255              ;*********************************
00156  1255              ; PRINTER OUTPUT STORAGE
00157  1255              ;*********************************
00158  1255  AA AA       PAGECT .WORD $AAAA     ;PAGE COUNT
00159  1257  AA          LISTCT .BYTE $AA       ;LINE COUNT
00160  1258  AA AA       LINECT .WORD $AAAA     ;LINE COUNT
00161  125A  AA AA       ERRCT  .WORD $AAAA     ;ERROR COUNT
00162  125C              ;*********************************
00163  125C              ; INPUT BUFFER
00164  125C              ;*********************************
00165  125C              BUF    = *
00166  125C  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00166  125D  00 






DISASSEMBLER20......PAGE 0005

LINE# LOC   CODE        LINE


00166  125E  00 
00166  125F  00 
00166  1260  00 
00166  1261  00 
00166  1262  00 
00166  1263  00 
00166  1264  00 
00166  1265  00 
00167  1266  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00167  1267  00 
00167  1268  00 
00167  1269  00 
00167  126A  00 
00167  126B  00 
00167  126C  00 
00167  126D  00 
00167  126E  00 
00167  126F  00 
00168  1270  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00168  1271  00 
00168  1272  00 
00168  1273  00 
00168  1274  00 
00168  1275  00 
00168  1276  00 
00168  1277  00 
00168  1278  00 
00168  1279  00 
00169  127A  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00169  127B  00 
00169  127C  00 
00169  127D  00 
00169  127E  00 
00169  127F  00 
00169  1280  00 
00169  1281  00 
00169  1282  00 
00169  1283  00 
00170  1284  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00170  1285  00 
00170  1286  00 
00170  1287  00 
00170  1288  00 
00170  1289  00 
00170  128A  00 
00170  128B  00 
00170  128C  00 
00170  128D  00 
00171  128E  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00171  128F  00 
00171  1290  00 
00171  1291  00 
00171  1292  00 
00171  1293  00 
00171  1294  00 






DISASSEMBLER20......PAGE 0006

LINE# LOC   CODE        LINE


00171  1295  00 
00171  1296  00 
00171  1297  00 
00172  1298  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00172  1299  00 
00172  129A  00 
00172  129B  00 
00172  129C  00 
00172  129D  00 
00172  129E  00 
00172  129F  00 
00172  12A0  00 
00172  12A1  00 
00173  12A2  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00173  12A3  00 
00173  12A4  00 
00173  12A5  00 
00173  12A6  00 
00173  12A7  00 
00173  12A8  00 
00173  12A9  00 
00173  12AA  00 
00173  12AB  00 
00174  12AC  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00174  12AD  00 
00174  12AE  00 
00174  12AF  00 
00174  12B0  00 
00174  12B1  00 
00174  12B2  00 
00174  12B3  00 
00174  12B4  00 
00174  12B5  00 
00175  12B6  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00175  12B7  00 
00175  12B8  00 
00175  12B9  00 
00175  12BA  00 
00175  12BB  00 
00175  12BC  00 
00175  12BD  00 
00175  12BE  00 
00175  12BF  00 
00176  12C0              ;*********************************
00177  12C0              ; FILE NAME BUFFER
00178  12C0              ;*********************************
00179  12C0  AA AA       LINEFL .WORD $AAAA
00180  12C2  AA          VERSON .BYTE $AA
00181  12C3  AA          NCHARS .BYTE $AA
00182  12C4              NBUF   = *
00183  12C4  30 3A              .BYTE '0:'
00184  12C6  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
00184  12C7  AA 
00184  12C8  AA 
00184  12C9  AA 






DISASSEMBLER20......PAGE 0007

LINE# LOC   CODE        LINE


00184  12CA  AA 
00184  12CB  AA 
00184  12CC  AA 
00184  12CD  AA 
00185  12CE  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
00185  12CF  AA 
00185  12D0  AA 
00185  12D1  AA 
00185  12D2  AA 
00185  12D3  AA 
00185  12D4  AA 
00185  12D5  AA 
00186  12D6  AA                 .BYTE $AA,$AA,$AA,$AA
00186  12D7  AA 
00186  12D8  AA 
00186  12D9  AA 
00187  12DA              ;*********************************
00188  12DA              ; SYMBOL TABLE BUFFER
00189  12DA              ;*********************************
00190  12DA              SYMBUF = *
00191  12DA  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA,
$AA
00191  12DB  AA 
00191  12DC  AA 
00191  12DD  AA 
00191  12DE  AA 
00191  12DF  AA 
00191  12E0  AA 
00191  12E1  AA 
00191  12E2  AA 
00191  12E3  AA 
00192  12E4              ;*********************************
00193  12E4              ; DATA TABLE
00194  12E4              ;*********************************
00195  12E4  AA AA       EAS    .WORD $AAAA
00196  12E6  AA          TEXTER .BYTE $AA
00197  12E7  AA AA       CDATA  .WORD $AAAA
00198  12E9  AA AA       NDATA  .WORD $AAAA
00199  12EB  AA AA       DATABP .WORD $AAAA     ;DATA POINT
00200  12ED  AA AA       DATABS .WORD $AAAA     ;DATA START
00201  12EF  AA AA       DATABE .WORD $AAAA     ;DATA END
00202  12F1              ;*********************************
00203  12F1              ; DATA TABLE
00204  12F1              ;*********************************
00205  12F1  AA          TDATA  .BYTE $AA
00206  12F2              ;*********************************
00207  12F2              *=*+$0100
00208  13F2              ;*********************************
00209  13F2  0D          MPASS  .BYTE $0D,$0D,'PASS',0
00209  13F3  0D 
00209  13F4  50 41 
00209  13F8  00 
00210  13F9  0D          PMSG   .BYTE $0D,$12,' PAUSE ',$92,$0D,0
00210  13FA  12 
00210  13FB  20 50 
00210  1402  92 






DISASSEMBLER20......PAGE 0008

LINE# LOC   CODE        LINE


00210  1403  0D 
00210  1404  00 
00211  1405  45 52       MSGERR .BYTE 'ERRORS = ',0
00211  140E  00 
00212  140F  45 4E       MSGDIS .BYTE 'END OF DISASSEMBLY',0
00212  1421  00 
00213  1422              ;*********************************
00214  1422              ; INITIALIZE DISASSEMBLER
00215  1422              ;*********************************
00216  1422  A2 FF       DISASS LDX #$FF
00217  1424  9A                 TXS
00218  1425  D8                 CLD
00219  1426  20 6E 15           JSR DOP         ;GET OPTIONS
00220  1429  20 50 24           JSR INITIN      ;INIT POINTERS
00221  142C  A9 31              LDA #'1'        ;PASS ONE
00222  142E  8D 12 12           STA PASS        ;SET PASS INDICATOR
00223  1431              ;*********************************
00224  1431              ; DISASSEMBLER LOOP
00225  1431              ;*********************************
00226  1431  20 3C 23    DISA   JSR INTSA       ;SET SA
00227  1434  A9 00              LDA #00         ;ZERO BYTE
00228  1436  8D E7 12           STA CDATA       ;SET TABLE NUMBER
00229  1439  A9 F2              LDA #<MPASS     ;PASS MSG
00230  143B  A0 13              LDY #>MPASS     ;
00231  143D  20 A9 1D           JSR STRPNT      ;PRINT IT
00232  1440  AD 12 12           LDA PASS        ;GET PASS
00233  1443  20 FF 1D           JSR PCHAR       ;PRINT NUMBER
00234  1446  20 E1 22           JSR CRLF        ;CR
00235  1449              ;*********************************
00236  1449  AD 12 12           LDA PASS        ;GET PASS
00237  144C  CD 15 12           CMP CPASS       ;IS IT LAST
00238  144F  F0 0E              BEQ DISB        ;IF SO PRINT
00239  1451  CD 14 12           CMP EPASS       ;IS IT EXTERNAL
00240  1454  D0 3A              BNE DLOOP       ;IF NOT GO ON
00241  1456  20 6F 24           JSR SAVINT      ;SAVE INTERNAL
00242  1459  20 23 2D           JSR EQUINT      ;SET EQUATES
00243  145C  4C 90 14           JMP DLOOP       ;GO ON
00244  145F              ;*********************************
00245  145F  A9 01       DISB   LDA #$01        ;ONE BYTE
00246  1461  8D 58 12           STA LINECT      ;SET LINE # TO 1
00247  1464  8D 55 12           STA PAGECT      ;SET PAGE TO 1
00248  1467  A9 00              LDA #$00        ;ZERO BYTE
00249  1469  8D 59 12           STA LINECT+1    ;SET LINE # TO 1
00250  146C  8D 56 12           STA PAGECT+1    ;SET PAGE TO 1
00251  146F  8D 57 12           STA LISTCT      ;SET LIST TO 0
00252  1472  8D 5A 12           STA ERRCT       ;SET ERROR TO 0
00253  1475  8D 5B 12           STA ERRCT+1     ;SET ERROR TO 0
00254  1478  8D C0 12           STA LINEFL      ;SET LINE TO 0
00255  147B  8D C1 12           STA LINEFL+1    ;SET LINE TO 0
00256  147E  AD 1A 12           LDA OUTPUT      ;GET OUTPUT
00257  1481  8D 19 12           STA DEVICE      ;SET OUTPUT
00258  1484              ;*********************************
00259  1484  20 68 1E           JSR HEADER      ;PRINT HEADER
00260  1487  20 97 17           JSR OFILED      ;OPEN DISK FILE
00261  148A  20 29 22           JSR ORGIN       ;PRINT ORGIN LABEL






DISASSEMBLER20......PAGE 0009

LINE# LOC   CODE        LINE


00262  148D  20 2E 2E           JSR EQUPRT      ;PRINT EQUATE
00263  1490              ;********************************
00264  1490  20 6B 1F    DLOOP  JSR DSLINE      ;DIS ONE LINE
00265  1493  B0 2C              BCS NEXTP       ;IF EA STOP
00266  1495  20 73 1C           JSR LINECK      ;LINE COUNT
00267  1498  20 E1 FF           JSR STOP        ;CHECK STOP
00268  149B  F0 57              BEQ QUITS       ;IF SO QUIT
00269  149D  20 E4 FF           JSR GETIN       ;GET KEY
00270  14A0  F0 EE              BEQ DLOOP       ;IF NONE NEXT
00271  14A2  C9 20              CMP #' '          ;IS IT A SPACE
00272  14A4  D0 EA              BNE DLOOP       ;IF NOT NEXT
00273  14A6              ;*********************************
00274  14A6              ; PAUSE LISTING
00275  14A6              ;********************************
00276  14A6  AD 19 12           LDA DEVICE
00277  14A9  48                 PHA
00278  14AA  A9 03              LDA #$03
00279  14AC  8D 19 12           STA DEVICE
00280  14AF  A9 F9              LDA #<PMSG
00281  14B1  A0 13              LDY #>PMSG
00282  14B3  20 A9 1D           JSR STRPNT
00283  14B6  68                 PLA
00284  14B7  8D 19 12           STA DEVICE
00285  14BA  20 E4 FF    PAUSE  JSR GETIN       ;PAUSE FOR KEY
00286  14BD  F0 FB              BEQ PAUSE       ;
00287  14BF  D0 CF              BNE DLOOP       ;NEXT LINE
00288  14C1              ;********************************
00289  14C1  EE 12 12    NEXTP  INC PASS        ;INC PASS
00290  14C4  AD 12 12           LDA PASS        ;GET PASS
00291  14C7  CD 15 12           CMP CPASS       ;LAST PASS?
00292  14CA  90 1F              BCC DISFUL      ;IF LESS AGAIN
00293  14CC  D0 20              BNE DISC        ;FINISH
00294  14CE  AD 1B 12           LDA WINDOW      ;WINDOW FLAG
00295  14D1  F0 18              BEQ DISFUL      ;FULL OUTPUT
00296  14D3              ;*********************************
00297  14D3              ; WINDOWED OUTPUT
00298  14D3              ;*********************************
00299  14D3  AD 2A 12           LDA SAOUT       ;
00300  14D6  8D 1E 12           STA SA          ;
00301  14D9  AD 2B 12           LDA SAOUT+1     ;
00302  14DC  8D 1F 12           STA SA+1        ;
00303  14DF  AD 2C 12           LDA EAOUT       ;
00304  14E2  8D 20 12           STA EA          ;
00305  14E5  AD 2D 12           LDA EAOUT+1     ;
00306  14E8  8D 21 12           STA EA+1        ;
00307  14EB              ;*********************************
00308  14EB  4C 31 14    DISFUL JMP DISA        ;LAST PASS
00309  14EE  20 11 23    DISC   JSR INCSL
00310  14F1  20 3F 22           JSR EFILE       ;END FILE MSG
00311  14F4              ;*********************************
00312  14F4  AD 19 12    QUITS  LDA DEVICE      ;CHECK DEV
00313  14F7  29 08              AND #$08        ;DISK FILE?
00314  14F9  F0 10              BEQ QUTERR      ;IF NOT BRANCH
00315  14FB  A9 08              LDA #$08        ;DISK
00316  14FD  20 C3 FF           JSR CLOSE       ;CLOSE IT






DISASSEMBLER20......PAGE 0010

LINE# LOC   CODE        LINE


00317  1500  AD 1A 12           LDA OUTPUT      ;GET OUTPUT
00318  1503  29 07              AND #07         ;MASK DISK
00319  1505  8D 1A 12           STA OUTPUT      ;RESET OUTPUT
00320  1508  8D 19 12           STA DEVICE      ;RESET OUTPUT
00321  150B              ;*********************************
00322  150B              ; PRINT ERRORS
00323  150B              ;*********************************
00324  150B  AD 1A 12    QUTERR LDA OUTPUT
00325  150E  09 03              ORA #$03
00326  1510  8D 1A 12           STA OUTPUT
00327  1513  8D 19 12           STA DEVICE
00328  1516  20 EC 1C           JSR NEWLIN
00329  1519  20 EC 1C           JSR NEWLIN
00330  151C  A9 05              LDA #<MSGERR
00331  151E  A0 14              LDY #>MSGERR
00332  1520  20 A9 1D           JSR STRPNT
00333  1523  AE 5A 12           LDX ERRCT
00334  1526  AD 5B 12           LDA ERRCT+1
00335  1529  20 C5 1D           JSR PRTNUM
00336  152C              ;*********************************
00337  152C  AD 19 12           LDA DEVICE      ;CHECK DEV
00338  152F  29 04              AND #$04        ;PRINTER?
00339  1531  F0 13              BEQ DONED       ;IF NOT DONE
00340  1533  A9 04              LDA #$04        ;DEVICE 4
00341  1535  8D 1A 12           STA OUTPUT      ;SET DEVICE
00342  1538  8D 19 12           STA DEVICE      ;SET DEVICE
00343  153B  20 21 26           JSR INTPRT      ;PRINT INTABLE
00344  153E  A9 07              LDA #$07        ;DEVICE 3 AND 4
00345  1540  8D 19 12           STA DEVICE      ;SET DEVICE
00346  1543  8D 1A 12           STA OUTPUT      ;SET DEVICE
00347  1546  20 EC 1C    DONED  JSR NEWLIN      ;NEWLINE
00348  1549  20 EC 1C           JSR NEWLIN      ;NEWLINE
00349  154C  A9 0F              LDA #<MSGDIS    ;END MSG
00350  154E  A0 14              LDY #>MSGDIS
00351  1550  20 A9 1D           JSR STRPNT      ;PRINT IT
00352  1553  20 EC 1C           JSR NEWLIN      ;NEW LINE
00353  1556  AD 19 12           LDA DEVICE      ;CHECK DEVICE
00354  1559  29 04              AND #$04        ;PRINTER
00355  155B  F0 08              BEQ DONE        ;
00356  155D  20 36 1E           JSR FINISH      ;FINISH PAGE
00357  1560  A9 04              LDA #$04        ;PRINTER
00358  1562  20 C3 FF           JSR CLOSE       ;CLOSE FILE
00359  1565              ;*********************************
00360  1565  20 CC FF    DONE   JSR CLRCHN      ;RESET I/O
00361  1568  20 F6 1E           JSR SCRON       ;TURN SCREEN ON
00362  156B  4C 74 C4           JMP WREADY      ;RETURN
00363  156E              ;*********************************
00364  156E              ;.FIL 0:OPTION.ASM
00365  156E              ;*********************************
00366  156E              ;.END
00367  156E              ;*********************************
00368  156E              ; FILE OPTION.ASM
00369  156E              ;*********************************
00370  156E              ;
00371  156E              ;        DISASSEMBLER64






DISASSEMBLER20......PAGE 0011

LINE# LOC   CODE        LINE


00372  156E              ;    SYMBOLIC DISASSEMBLER
00373  156E              ;       BY DENTON MARLOWE
00374  156E              ;
00375  156E              ;  (C)1986 BY DENTON MARLOWE
00376  156E              ;
00377  156E              ;*********************************
00378  156E              ; DISASSEMBLER OPTIONS
00379  156E              ;*********************************
00380  156E  A9 03       DOP    LDA #$03        ;DEVICE #3 SCREEN
00381  1570  8D 19 12           STA DEVICE      ;CURRENT OUTPUT
00382  1573  A9 00              LDA #$00        ;NO DEVICES
00383  1575  8D 1A 12           STA OUTPUT      ;FINAL OUTPUT
00384  1578  A9 B5              LDA #<MSG       ;START UP MSG
00385  157A  A0 19              LDY #>MSG
00386  157C  20 A9 1D           JSR STRPNT      ;PRINT IT
00387  157F              ;*********************************
00388  157F              ; READ IN DISK FILE ?
00389  157F              ;*********************************
00390  157F  A9 FF              LDA #<MSF1
00391  1581  A0 19              LDY #>MSF1
00392  1583  20 A9 1D           JSR STRPNT
00393  1586  20 0A 1D           JSR INSTNG
00394  1589  D0 03              BNE PFILE0
00395  158B  4C C6 16           JMP STARTS
00396  158E  A2 00       PFILE0 LDX #$00
00397  1590  BD 52 1A    PFILE1 LDA PROGM,X
00398  1593  99 5C 12           STA BUF,Y
00399  1596  C8                 INY
00400  1597  E8                 INX
00401  1598  E0 04              CPX #$04
00402  159A  D0 F4              BNE PFILE1
00403  159C  8C 52 12           STY SAVA
00404  159F  20 AC 16           JSR INITD
00405  15A2  20 86 16           JSR PRFILE
00406  15A5              ;*********************************
00407  15A5              ; READ IN FILE FOR SA AND EA
00408  15A5              ;*********************************
00409  15A5  A2 08              LDX #$08        ;FILE #8
00410  15A7  20 C6 FF           JSR CHKIN       ;INPUT FILE
00411  15AA  20 CF FF           JSR CHRIN       ;GET LOW BYTE SA
00412  15AD  8D 1E 12           STA SA          ;SET START
00413  15B0  20 CF FF           JSR CHRIN       ;GET HIGH BYTE SA
00414  15B3  8D 1F 12           STA SA+1        ;SET START
00415  15B6  20 3C 23           JSR INTSA       ;SET END
00416  15B9              ;*********************************
00417  15B9  A9 00              LDA #$00        ;ZERO BYTE
00418  15BB  8D 4F 12           STA ADRS        ;BYTE COUNTER
00419  15BE  8D 50 12           STA ADRS+1      ;BYTE COUNTER
00420  15C1  20 CF FF    PROGRD JSR CHRIN       ;INPUT BYTE
00421  15C4  20 B7 FF           JSR READST      ;READ STATUS
00422  15C7  D0 0D              BNE PROGED      ;IF NOT ZERO END
00423  15C9  20 11 23           JSR INCSL       ;INC END ADDRESS
00424  15CC  EE 4F 12           INC ADRS        ;INC BYTE COUNT
00425  15CF  D0 03              BNE *+5         ;
00426  15D1  EE 50 12           INC ADRS+1      ;






DISASSEMBLER20......PAGE 0012

LINE# LOC   CODE        LINE


00427  15D4  D0 EB              BNE PROGRD      ;NEXT BYTE
00428  15D6  AD 22 12    PROGED LDA SELECT      ;
00429  15D9  8D 20 12           STA EA          ;
00430  15DC  AD 23 12           LDA SELECT+1    ;
00431  15DF  8D 21 12           STA EA+1        ;
00432  15E2              ;*********************************
00433  15E2  A9 08              LDA #$08        ;FILE #8
00434  15E4  20 C3 FF           JSR CLOSE       ;CLOSE IT
00435  15E7  20 CC FF           JSR CLRCHN      ;RESET I/O
00436  15EA              ;*********************************
00437  15EA              ; PRINT PROGRAM LOAD ADDRESS
00438  15EA              ; AND END ADDRESS
00439  15EA              ;*********************************
00440  15EA  A9 1B              LDA #<MSF2
00441  15EC  A0 1A              LDY #>MSF2
00442  15EE  20 A9 1D           JSR STRPNT
00443  15F1  AD 1E 12           LDA SA
00444  15F4  8D 45 12           STA WORKED
00445  15F7  AD 1F 12           LDA SA+1
00446  15FA  8D 46 12           STA WORKED+1
00447  15FD  20 B0 22           JSR PWORKD
00448  1600              ;
00449  1600  A9 2D              LDA #'-'
00450  1602              ;
00451  1602  20 FF 1D           JSR PCHAR
00452  1605  20 BE 22           JSR DOLLAR
00453  1608  20 A4 22           JSR PSELEC
00454  160B  20 E1 22           JSR CRLF
00455  160E              ;*********************************
00456  160E              ; CALCULATE BUFFER ADDRESS
00457  160E              ;*********************************
00458  160E  A5 37              LDA MEMSIZ
00459  1610  8D 22 12           STA SELECT
00460  1613  A5 38              LDA MEMSIZ+1
00461  1615  8D 23 12           STA SELECT+1
00462  1618  20 30 23           JSR DECSL
00463  161B  38                 SEC
00464  161C  AD 22 12           LDA SELECT
00465  161F  ED 4F 12           SBC ADRS
00466  1622  8D 22 12           STA SELECT
00467  1625  AD 23 12           LDA SELECT+1
00468  1628  ED 50 12           SBC ADRS+1
00469  162B  8D 23 12           STA SELECT+1
00470  162E              ;*********************************
00471  162E              ; CALCULATE ADDRESS OFFSET
00472  162E              ;*********************************
00473  162E  38                 SEC
00474  162F  AD 22 12           LDA SELECT
00475  1632  ED 1E 12           SBC SA
00476  1635  8D 24 12           STA OFFSET
00477  1638  8D 45 12           STA WORKED
00478  163B  AD 23 12           LDA SELECT+1
00479  163E  ED 1F 12           SBC SA+1
00480  1641  8D 25 12           STA OFFSET+1
00481  1644  8D 46 12           STA WORKED+1






DISASSEMBLER20......PAGE 0013

LINE# LOC   CODE        LINE


00482  1647  A9 AE              LDA #<MSD4A
00483  1649  A0 1A              LDY #>MSD4A
00484  164B  20 A9 1D           JSR STRPNT
00485  164E  20 B0 22           JSR PWORKD
00486  1651  20 E1 22           JSR CRLF
00487  1654              ;*********************************
00488  1654              ; OPEN FILE AND READ PRG INTO BUF
00489  1654              ;*********************************
00490  1654  20 86 16           JSR PRFILE      ;OPEN FILE
00491  1657  A2 08              LDX #$08        ;FILE #8
00492  1659  20 C6 FF           JSR CHKIN       ;INPUT FILE
00493  165C  20 CF FF           JSR CHRIN       ;GET LOW BYTE SA
00494  165F  20 CF FF           JSR CHRIN       ;GET HIGH BYTE SA
00495  1662  20 CF FF    PRO2RD JSR CHRIN       ;INPUT BYTE
00496  1665  AE 22 12           LDX SELECT      ;LOW BYTE POINTER
00497  1668  86 02              STX ZEROUR      ;ZERO PAGE
00498  166A  AE 23 12           LDX SELECT+1    ;HIH BYTE POINTER
00499  166D  86 03              STX ZEROUR+1    ;ZERO PAGE
00500  166F  A0 00              LDY #$00        ;OFFSET
00501  1671  91 02              STA (ZEROUR),Y  ;STORE BYTE
00502  1673  20 11 23           JSR INCSL       ;INC POINTER
00503  1676  20 B7 FF           JSR READST      ;READ STATUS
00504  1679  F0 E7              BEQ PRO2RD      ;NEXT BYTE
00505  167B  A9 08              LDA #$08        ;FILE #8
00506  167D  20 C3 FF           JSR CLOSE       ;CLOSE IT
00507  1680  20 CC FF           JSR CLRCHN      ;RESET I/O
00508  1683  4C 08 17           JMP WINDOP      ;WINDOW OPTION
00509  1686              ;*********************************
00510  1686              ; OPEN PROGRAM FILE
00511  1686              ;*********************************
00512  1686  AD 52 12    PRFILE LDA SAVA
00513  1689  A2 5C              LDX #<BUF
00514  168B  A0 12              LDY #>BUF
00515  168D  20 BD FF           JSR SETNAM
00516  1690  A9 08              LDA #$08
00517  1692  A8                 TAY
00518  1693  AA                 TAX
00519  1694  20 BA FF           JSR SETLFS
00520  1697  20 C0 FF           JSR OPEN
00521  169A  20 B2 1C           JSR DISERR
00522  169D  90 0C              BCC PROGOK
00523  169F  A9 08              LDA #$08
00524  16A1  20 C3 FF           JSR CLOSE
00525  16A4  68                 PLA
00526  16A5  68                 PLA
00527  16A6  68                 PLA
00528  16A7  68                 PLA
00529  16A8  4C 74 C4           JMP WREADY
00530  16AB              ;*********************************
00531  16AB  60          PROGOK RTS
00532  16AC              ;*********************************
00533  16AC              ; INIT DISK
00534  16AC              ;*********************************
00535  16AC  A9 02       INITD  LDA #$02
00536  16AE  A0 1A              LDY #>INIT






DISASSEMBLER20......PAGE 0014

LINE# LOC   CODE        LINE


00537  16B0  A2 56              LDX #<INIT
00538  16B2  20 BD FF           JSR SETNAM
00539  16B5  A9 0F              LDA #$0F
00540  16B7  A2 08              LDX #$08
00541  16B9  A0 0F              LDY #$0F
00542  16BB  20 BA FF           JSR SETLFS
00543  16BE  20 C0 FF           JSR OPEN
00544  16C1  A9 0F              LDA #$0F
00545  16C3  4C C3 FF           JMP CLOSE
00546  16C6              ;*********************************
00547  16C6              ; GET START ADDRESS
00548  16C6              ;*********************************
00549  16C6  A9 72       STARTS LDA #<MSD1
00550  16C8  A0 1A              LDY #>MSD1
00551  16CA  20 A9 1D           JSR STRPNT
00552  16CD  20 19 1D           JSR GETWRD
00553  16D0  AD 4F 12           LDA ADRS
00554  16D3  8D 1E 12           STA SA
00555  16D6  AD 50 12           LDA ADRS+1
00556  16D9  8D 1F 12           STA SA+1
00557  16DC              ;*********************************
00558  16DC              ; GET END ADDRESS
00559  16DC              ;*********************************
00560  16DC  A9 84              LDA #<MSD2
00561  16DE  A0 1A              LDY #>MSD2
00562  16E0  20 A9 1D           JSR STRPNT
00563  16E3  20 19 1D           JSR GETWRD
00564  16E6  AD 4F 12           LDA ADRS
00565  16E9  8D 20 12           STA EA
00566  16EC  AD 50 12           LDA ADRS+1
00567  16EF  8D 21 12           STA EA+1
00568  16F2              ;*********************************
00569  16F2              ; ADDRRESS OFFSET
00570  16F2              ;*********************************
00571  16F2  A9 94              LDA #<MSD4
00572  16F4  A0 1A              LDY #>MSD4
00573  16F6  20 A9 1D           JSR STRPNT
00574  16F9  20 19 1D           JSR GETWRD
00575  16FC  AD 4F 12           LDA ADRS
00576  16FF  8D 24 12           STA OFFSET
00577  1702  AD 50 12           LDA ADRS+1
00578  1705  8D 25 12           STA OFFSET+1
00579  1708              ;*********************************
00580  1708              ; OUTPUT WINDOW
00581  1708              ;*********************************
00582  1708  A9 C1       WINDOP LDA #<MSD5
00583  170A  A0 1A              LDY #>MSD5
00584  170C  20 A9 1D           JSR STRPNT
00585  170F  20 7E 1D           JSR CRNO
00586  1712  B0 30              BCS WIND1
00587  1714  A9 72              LDA #<MSD1
00588  1716  A0 1A              LDY #>MSD1
00589  1718  20 A9 1D           JSR STRPNT
00590  171B  20 19 1D           JSR GETWRD
00591  171E  AD 4F 12           LDA ADRS






DISASSEMBLER20......PAGE 0015

LINE# LOC   CODE        LINE


00592  1721  8D 2A 12           STA SAOUT
00593  1724  AD 50 12           LDA ADRS+1
00594  1727  8D 2B 12           STA SAOUT+1
00595  172A  A9 84              LDA #<MSD2
00596  172C  A0 1A              LDY #>MSD2
00597  172E  20 A9 1D           JSR STRPNT
00598  1731  20 19 1D           JSR GETWRD
00599  1734  AD 4F 12           LDA ADRS
00600  1737  8D 2C 12           STA EAOUT
00601  173A  AD 50 12           LDA ADRS+1
00602  173D  8D 2D 12           STA EAOUT+1
00603  1740  A9 FF              LDA #$FF
00604  1742  30 02              BMI WIND2
00605  1744  A9 00       WIND1  LDA #$00
00606  1746  8D 1B 12    WIND2  STA WINDOW
00607  1749              ;*********************************
00608  1749              ; SETUP GOBAL POINTER
00609  1749              ;*********************************
00610  1749  AD 1E 12           LDA SA
00611  174C  8D 26 12           STA SAGOL
00612  174F  AD 1F 12           LDA SA+1
00613  1752  8D 27 12           STA SAGOL+1
00614  1755  AD 20 12           LDA EA
00615  1758  8D 28 12           STA EAGOL
00616  175B  AD 21 12           LDA EA+1
00617  175E  8D 29 12           STA EAGOL+1
00618  1761              ;*********************************
00619  1761              ; SOURCE FILE OUTPUT?
00620  1761              ;*********************************
00621  1761  A9 30       OUFILE LDA #<MSG1
00622  1763  A0 1A              LDY #>MSG1
00623  1765  20 A9 1D           JSR STRPNT
00624  1768              ;*********************************
00625  1768  A9 00              LDA #$00
00626  176A  8D C3 12           STA NCHARS
00627  176D  20 0A 1D           JSR INSTNG
00628  1770  F0 1A              BEQ NOFILE
00629  1772  A9 30              LDA #'0'
00630  1774  8D C2 12           STA VERSON
00631  1777  8C C3 12           STY NCHARS
00632  177A  A2 00              LDX #$00
00633  177C  BD 5C 12    GFILE0 LDA BUF,X
00634  177F  9D C4 12           STA NBUF,X
00635  1782  E8                 INX
00636  1783  EC C3 12           CPX NCHARS
00637  1786  D0 F4              BNE GFILE0
00638  1788              ;*********************************
00639  1788  A9 08       FILEOK LDA #$08
00640  178A  D0 02              BNE FILE
00641  178C  A9 00       NOFILE LDA #$00
00642  178E  0D 1A 12    FILE   ORA OUTPUT
00643  1791  8D 1A 12           STA OUTPUT
00644  1794  4C ED 17           JMP PRTGET
00645  1797              ;*********************************
00646  1797              ;     OPEN SOURCE DISK FILE






DISASSEMBLER20......PAGE 0016

LINE# LOC   CODE        LINE


00647  1797              ;*********************************
00648  1797  AC C3 12    OFILED LDY NCHARS
00649  179A  F0 03              BEQ NOID
00650  179C  20 AC 16           JSR INITD
00651  179F  20 E6 1E    NOID   JSR SCROFF
00652  17A2              ;*********************************
00653  17A2  AC C3 12    OFILE  LDY NCHARS
00654  17A5  F0 45              BEQ OFILE4
00655  17A7  AD C2 12           LDA VERSON
00656  17AA  C9 30              CMP #'0'
00657  17AC  F0 07              BEQ OFILE1
00658  17AE  AD C2 12           LDA VERSON
00659  17B1  99 C4 12           STA NBUF,Y
00660  17B4  C8                 INY
00661  17B5  EE C2 12    OFILE1 INC VERSON
00662  17B8  A2 00              LDX #$00
00663  17BA  BD 4E 1A    OFILE2 LDA WRITE,X
00664  17BD  99 C4 12           STA NBUF,Y
00665  17C0  C8                 INY
00666  17C1  E8                 INX
00667  17C2  E0 04              CPX #$04
00668  17C4  D0 F4              BNE OFILE2
00669  17C6  98                 TYA
00670  17C7  A0 12              LDY #>NBUF
00671  17C9  A2 C4              LDX #<NBUF
00672  17CB  20 BD FF           JSR SETNAM
00673  17CE  A9 08              LDA #$08
00674  17D0  AA                 TAX
00675  17D1  A8                 TAY
00676  17D2  20 BA FF           JSR SETLFS
00677  17D5  20 C0 FF           JSR OPEN
00678  17D8  20 B2 1C           JSR DISERR
00679  17DB  90 0F              BCC OFILE4
00680  17DD              ;*********************************
00681  17DD              ;  CLOSE OUT FILE ON ERROR
00682  17DD              ;*********************************
00683  17DD  A9 08       OFILE3 LDA #$08
00684  17DF  20 C3 FF           JSR CLOSE
00685  17E2  20 CC FF           JSR CLRCHN
00686  17E5  68                 PLA
00687  17E6  68                 PLA
00688  17E7  68                 PLA
00689  17E8  68                 PLA
00690  17E9  4C 74 C4           JMP WREADY
00691  17EC  60          OFILE4 RTS
00692  17ED              ;*********************************
00693  17ED              ; GET PRINTER OPTION
00694  17ED              ;*********************************
00695  17ED  A9 58       PRTGET LDA #<MSG2
00696  17EF  A0 1A              LDY #>MSG2
00697  17F1  20 A9 1D           JSR STRPNT
00698  17F4  20 71 1D           JSR CRYS
00699  17F7  B0 26              BCS NOPRT
00700  17F9  A9 00              LDA #$00
00701  17FB  20 BD FF           JSR SETNAM






DISASSEMBLER20......PAGE 0017

LINE# LOC   CODE        LINE


00702  17FE  A9 04              LDA #$04
00703  1800  A2 04              LDX #$04
00704  1802  A0 00              LDY #$00
00705  1804  20 BA FF           JSR SETLFS
00706  1807  20 C0 FF           JSR OPEN
00707  180A  A2 04              LDX #$04
00708  180C  20 C9 FF           JSR CHKOUT
00709  180F  20 B7 FF           JSR READST
00710  1812  29 80              AND #$80
00711  1814  08                 PHP
00712  1815  20 CC FF           JSR CLRCHN
00713  1818  28                 PLP
00714  1819  30 04              BMI NOPRT
00715  181B  A9 04              LDA #$04
00716  181D  D0 02              BNE PRINT
00717  181F  A9 03       NOPRT  LDA #$03
00718  1821  0D 1A 12    PRINT  ORA OUTPUT
00719  1824  8D 1A 12           STA OUTPUT
00720  1827              ;*********************************
00721  1827              ; GO GET SYMBOLIC OPTION
00722  1827              ;*********************************
00723  1827  20 AE 2C           JSR SOP
00724  182A              ;*********************************
00725  182A              ; GET RELATIVE ADDRESS OPTION
00726  182A              ;*********************************
00727  182A  A9 DE              LDA #<MSR1
00728  182C  A0 1A              LDY #>MSR1
00729  182E  20 A9 1D           JSR STRPNT
00730  1831  20 71 1D           JSR CRYS
00731  1834  90 04              BCC DOP2
00732  1836  A9 01              LDA #$01
00733  1838  D0 02              BNE DOP3
00734  183A  A9 00       DOP2   LDA #$00
00735  183C  8D 18 12    DOP3   STA ROPT
00736  183F              ;*********************************
00737  183F              ; GET BIT INSTRUCTION CODING OPTION
00738  183F              ;*********************************
00739  183F  20 38 39           JSR BITOPT
00740  1842              ;*********************************
00741  1842              ; DATA TABLE OPTION
00742  1842              ;*********************************
00743  1842  AD 3D 12    AOP    LDA SYMBOE
00744  1845  8D EB 12           STA DATABP
00745  1848  8D ED 12           STA DATABS
00746  184B  8D EF 12           STA DATABE
00747  184E  85 02              STA ZEROUR
00748  1850  AD 3E 12           LDA SYMBOE+1
00749  1853  8D EC 12           STA DATABP+1
00750  1856  8D EE 12           STA DATABS+1
00751  1859  8D F0 12           STA DATABE+1
00752  185C  85 03              STA ZEROUR+1
00753  185E              ;*********************************
00754  185E  A9 53              LDA #<MSAOP
00755  1860  A0 1B              LDY #>MSAOP
00756  1862  20 A9 1D           JSR STRPNT






DISASSEMBLER20......PAGE 0018

LINE# LOC   CODE        LINE


00757  1865  20 0A 1D           JSR INSTNG
00758  1868  D0 03              BNE BOP
00759  186A  4C ED 18           JMP NOTABS
00760  186D              ;*********************************
00761  186D  98          BOP    TYA
00762  186E  48                 PHA
00763  186F  20 AC 16           JSR INITD
00764  1872  68                 PLA
00765  1873  A8                 TAY
00766  1874  A2 00              LDX #$00
00767  1876  BD 17 30    AFILE  LDA NAMS,X
00768  1879  99 5C 12           STA BUF,Y
00769  187C  C8                 INY
00770  187D  E8                 INX
00771  187E  E0 04              CPX #$04
00772  1880  D0 F4              BNE AFILE
00773  1882  98                 TYA
00774  1883  A0 12              LDY #>BUF
00775  1885  A2 5C              LDX #<BUF
00776  1887  20 BD FF           JSR SETNAM
00777  188A  A9 03              LDA #$03
00778  188C  A2 08              LDX #$08
00779  188E  A0 03              LDY #$03
00780  1890  20 BA FF           JSR SETLFS
00781  1893  20 C0 FF           JSR OPEN
00782  1896  20 B2 1C           JSR DISERR
00783  1899  B0 1B              BCS AGET1
00784  189B  A2 03              LDX #$03
00785  189D  20 C6 FF           JSR CHKIN
00786  18A0              ;*********************************
00787  18A0              ; READ IN DATA TABLE
00788  18A0              ;*********************************
00789  18A0  A0 00              LDY #$00
00790  18A2  20 CF FF           JSR CHRIN
00791  18A5  8D E9 12           STA NDATA
00792  18A8  F0 0C              BEQ AGET1
00793  18AA  20 CF FF    AGET   JSR CHRIN
00794  18AD  99 F1 12           STA TDATA,Y
00795  18B0  C8                 INY
00796  18B1  20 B7 FF           JSR READST
00797  18B4  F0 F4              BEQ AGET
00798  18B6  A9 03       AGET1  LDA #$03
00799  18B8  20 C3 FF           JSR CLOSE
00800  18BB  20 CC FF           JSR CLRCHN
00801  18BE              ;*********************************
00802  18BE              ; PRINT DATA TABLE
00803  18BE              ;*********************************
00804  18BE  AD E9 12    PRTDAS LDA NDATA
00805  18C1  8D E7 12           STA CDATA
00806  18C4  A0 00              LDY #$00
00807  18C6  8C 54 12           STY SAVY
00808  18C9  20 E1 22    PRTNEX JSR CRLF
00809  18CC  A2 05              LDX #$05
00810  18CE  8E 53 12           STX SAVX
00811  18D1  AC 54 12    PRTDAL LDY SAVY






DISASSEMBLER20......PAGE 0019

LINE# LOC   CODE        LINE


00812  18D4  B9 F1 12           LDA TDATA,Y
00813  18D7  20 93 1D           JSR PRBYT
00814  18DA  20 F3 22           JSR SPACE
00815  18DD  EE 54 12           INC SAVY
00816  18E0  CE 53 12           DEC SAVX
00817  18E3  D0 EC              BNE PRTDAL
00818  18E5  CE E7 12           DEC CDATA
00819  18E8  D0 DF              BNE PRTNEX
00820  18EA              ;*********************************
00821  18EA  4C 8A 19           JMP XOP0
00822  18ED              ;*********************************
00823  18ED              ; READ DATA FOR KEYBOARD
00824  18ED              ;*********************************
00825  18ED  A9 72       NOTABS LDA #<MSA1      ;NUMBER OF DATA
00826  18EF  A0 1B              LDY #>MSA1
00827  18F1  20 A9 1D           JSR STRPNT
00828  18F4  20 19 1D           JSR GETWRD      ;INPUT HEX BYTE
00829  18F7  AD 4F 12           LDA ADRS        ;GET BYTE
00830  18FA  8D E9 12           STA NDATA       ;SET NUM TABLES
00831  18FD  D0 03              BNE AOPX        ;0 DATA THEN END
00832  18FF  4C 8A 19           JMP XOP0        ;RETURN
00833  1902  A9 00       AOPX   LDA #$00        ;ZERO OFFSET
00834  1904  8D E7 12           STA CDATA       ;FIRST TABLE
00835  1907              ;*********************************
00836  1907              ; CALCULATE TABLE OFFSET
00837  1907              ;*********************************
00838  1907  AD E7 12    AOP1   LDA CDATA       ;GET TABLE NUMBER
00839  190A  0A                 ASL A           ;*2
00840  190B  0A                 ASL A           ;*4
00841  190C  18                 CLC             ;C=0
00842  190D  6D E7 12           ADC CDATA       ;*5
00843  1910  8D 54 12           STA SAVY        ;STORE AS OFFSET
00844  1913              ;*********************************
00845  1913  A9 95              LDA #<MSA2
00846  1915  A0 1B              LDY #>MSA2
00847  1917  20 A9 1D           JSR STRPNT      ;PRINT MSG
00848  191A  20 19 1D           JSR GETWRD      ;GET ADDRESS
00849  191D  AC 54 12           LDY SAVY        ;GET OFFSET
00850  1920  AD 4F 12           LDA ADRS
00851  1923  99 F1 12           STA TDATA,Y
00852  1926  C8                 INY
00853  1927  AD 50 12           LDA ADRS+1
00854  192A  99 F1 12           STA TDATA,Y
00855  192D  C8                 INY
00856  192E  8C 54 12           STY SAVY
00857  1931              ;*********************************
00858  1931              ; END OF DATA TABLE
00859  1931              ;*********************************
00860  1931  A9 AE       AOP2   LDA #<MSA3
00861  1933  A0 1B              LDY #>MSA3
00862  1935  20 A9 1D           JSR STRPNT
00863  1938  20 19 1D           JSR GETWRD      ;GET ADDRESS
00864  193B  AC 54 12           LDY SAVY
00865  193E  AD 4F 12           LDA ADRS
00866  1941  99 F1 12           STA TDATA,Y






DISASSEMBLER20......PAGE 0020

LINE# LOC   CODE        LINE


00867  1944  C8                 INY
00868  1945  AD 50 12           LDA ADRS+1
00869  1948  99 F1 12           STA TDATA,Y
00870  194B  C8                 INY
00871  194C  8C 54 12           STY SAVY
00872  194F              ;*********************************
00873  194F              ; GET TYPE OF TABLE
00874  194F              ;*********************************
00875  194F  A9 C5              LDA #<MSG5      ;TABLE TYPE
00876  1951  A0 1B              LDY #>MSG5
00877  1953  20 A9 1D           JSR STRPNT
00878  1956  20 E4 FF    AOP3   JSR GETIN
00879  1959  F0 FB              BEQ AOP3
00880  195B  C9 30              CMP #'0'
00881  195D  F0 14              BEQ ASC
00882  195F  C9 31              CMP #'1'
00883  1961  F0 10              BEQ ASC
00884  1963  C9 32              CMP #'2'
00885  1965  F0 0C              BEQ ASC
00886  1967  C9 33              CMP #'3'
00887  1969  F0 08              BEQ ASC
00888  196B  C9 34              CMP #'4'
00889  196D  F0 04              BEQ ASC
00890  196F  C9 53              CMP #'S'
00891  1971  D0 E3              BNE AOP3
00892  1973  20 D2 FF    ASC    JSR CHROUT
00893  1976  AC 54 12           LDY SAVY
00894  1979  99 F1 12           STA TDATA,Y
00895  197C              ;*********************************
00896  197C  EE E7 12           INC CDATA       ;INC TABLE COUNT
00897  197F  AD E7 12           LDA CDATA       ;GET TABLE COUNT
00898  1982  CD E9 12           CMP NDATA       ;ALL TABLES?
00899  1985  F0 03              BEQ XOP0        ;IF NOT GET MORE
00900  1987  4C 07 19           JMP AOP1        ;IF NOT GET MORE
00901  198A              ;*********************************
00902  198A              ; GET LABEL GENERATION OPTION
00903  198A              ;*********************************
00904  198A  A9 31       XOP0   LDA #<MSB4
00905  198C  A0 1C              LDY #>MSB4
00906  198E  20 A9 1D           JSR STRPNT
00907  1991  20 71 1D           JSR CRYS
00908  1994  B0 04              BCS XOP1
00909  1996  A9 01              LDA #$01
00910  1998  D0 02              BNE XOP2
00911  199A  A9 00       XOP1   LDA #$00
00912  199C  8D 17 12    XOP2   STA XOPT
00913  199F              ;*********************************
00914  199F              ; OUTPUT FORMAT OPTION
00915  199F              ;*********************************
00916  199F  A9 52              LDA #<MSB5
00917  19A1  A0 1C              LDY #>MSB5
00918  19A3  20 A9 1D           JSR STRPNT
00919  19A6  20 71 1D           JSR CRYS
00920  19A9  B0 04              BCS FOP1
00921  19AB  A9 00              LDA #$00






DISASSEMBLER20......PAGE 0021

LINE# LOC   CODE        LINE


00922  19AD  F0 02              BEQ FOP2
00923  19AF  A9 FF       FOP1   LDA #$FF
00924  19B1  8D 1C 12    FOP2   STA FOROPT
00925  19B4              ;*********************************
00926  19B4  60                 RTS
00927  19B5              ;*********************************
00928  19B5              ;   COMMAND MESSAGES
00929  19B5              ;*********************************
00930  19B5  93          MSG    .BYTE $93       ;CLEAR SCREEN 
00931  19B6  0D          .BYTE  $0D,$0D
00931  19B7  0D 
00932  19B8  43 42       .BYTE  'CBM RESIDENT'
00933  19C4  0D          .BYTE  $0D
00934  19C5  44 49       .BYTE  'DISASSEMBLER'
00935  19D1  0D          .BYTE  $0D
00936  19D2  56 30       .BYTE  'V080282'
00937  19D9  0D          .BYTE  $0D
00938  19DA  28 43       .BYTE  '(C)1982 COMMODORE'
00939  19EB  0D          .BYTE  $0D
00940  19EC  42 55       .BYTE  'BUSINESS MACHINES'
00941  19FD  0D          .BYTE  $0D
00942  19FE  00          .BYTE  0
00943  19FF              ;*********************************
00944  19FF  0D          MSF1   .BYTE $0D
00945  1A00  50 52       .BYTE  'PROGRAM FILE'
00946  1A0C  0D          .BYTE  $0D
00947  1A0D  28 43       .BYTE  '(CR OR NAME):'
00948  1A1A  00          .BYTE  0
00949  1A1B              ;*********************************
00950  1A1B  0D          MSF2   .BYTE $0D
00951  1A1C  0D          .BYTE  $0D
00952  1A1D  50 52       .BYTE  'PROGRAM ADDRESS:'
00953  1A2D  0D          .BYTE  $0D
00954  1A2E  24          .BYTE  '$'
00955  1A2F  00          .BYTE  0
00956  1A30              ;*********************************
00957  1A30  0D          MSG1   .BYTE $0D
00958  1A31  0D          .BYTE  $0D
00959  1A32  45 44       .BYTE  'EDITOR64 FILE'
00960  1A3F  0D          .BYTE  $0D
00961  1A40  28 43       .BYTE  '(CR OR NAME):'
00962  1A4D  00          .BYTE  0
00963  1A4E              ;*********************************
00964  1A4E  2C 53       WRITE  .BYTE ',S,W'
00965  1A52  2C 50       PROGM  .BYTE ',P,R'
00966  1A56  49 30       INIT   .BYTE 'I0'
00967  1A58              ;*********************************
00968  1A58  0D          MSG2   .BYTE $0D
00969  1A59  0D          .BYTE  $0D
00970  1A5A  48 41       .BYTE  'HARD COPY'
00971  1A63  0D          .BYTE  $0D
00972  1A64  28 59       .BYTE  '(Y/CR OR N)? '
00973  1A71  00          .BYTE  0
00974  1A72              ;*********************************
00975  1A72  0D          MSD1   .BYTE $0D






DISASSEMBLER20......PAGE 0022

LINE# LOC   CODE        LINE


00976  1A73  53 54       .BYTE  'START ADDRESS :$'
00977  1A83  00          .BYTE  0
00978  1A84              ;*********************************
00979  1A84  0D          MSD2   .BYTE $0D
00980  1A85  45 4E       .BYTE  'END ADDRESS :$'
00981  1A93  00          .BYTE  0
00982  1A94              ;*********************************
00983  1A94  0D          MSD4   .BYTE $0D
00984  1A95  41 44       .BYTE  'ADDRESS OFFSET (OR CR):$'
00985  1AAD  00          .BYTE  0
00986  1AAE              ;*********************************
00987  1AAE  0D          MSD4A  .BYTE $0D
00988  1AAF  41 44       .BYTE  'ADDRESS OFFSET :$'
00989  1AC0  00          .BYTE  0
00990  1AC1              ;*********************************
00991  1AC1  0D          MSD5   .BYTE $0D
00992  1AC2  57 49       .BYTE  'WINDOW OUTPUT'
00993  1ACF  0D          .BYTE  $0D
00994  1AD0  28 59       .BYTE  '(Y OR N/CR)? '
00995  1ADD  00          .BYTE  0
00996  1ADE              ;*********************************
00997  1ADE  0D          MSR1   .BYTE $0D
00998  1ADF  0D          .BYTE  $0D
00999  1AE0  52 45       .BYTE  'RELATIVE BRANCH'
01000  1AEF  0D          .BYTE  $0D
01001  1AF0  54 4F       .BYTE  'TO LABEL'
01002  1AF8  0D          .BYTE  $0D
01003  1AF9  28 59       .BYTE  '(Y/CR OR N)? '
01004  1B06  00          .BYTE  0
01005  1B07              ;*********************************
01006  1B07  0D          MSB1   .BYTE $0D
01007  1B08  42 49              .BYTE 'BIT INSTRUCTION CODING'
01008  1B1E  0D                 .BYTE $0D,$0D
01008  1B1F  0D 
01009  1B20  30 2F              .BYTE '0/CR STD',$0D
01009  1B28  0D 
01010  1B29  31 20              .BYTE '1 $2C',$0D
01010  1B2E  0D 
01011  1B2F  32 20              .BYTE '2 $24',$0D
01011  1B34  0D 
01012  1B35  33 20              .BYTE '3 $2C & $24',$0D
01012  1B40  0D 
01013  1B41  0D                 .BYTE $0D
01014  1B42  45 4E              .BYTE 'ENTER BIT CODE: '
01015  1B52  00                 .BYTE 0
01016  1B53              ;*********************************
01017  1B53  0D          MSAOP  .BYTE $0D
01018  1B54  44 41       .BYTE  'DATA TABLE FILE (CR OR NAME):'
01019  1B71  00          .BYTE  0
01020  1B72  0D          MSA1   .BYTE $0D
01021  1B73  0D          .BYTE  $0D
01022  1B74  4E 55       .BYTE  'NUMBER OF DATA TABLES'
01023  1B89  0D          .BYTE  $0D
01024  1B8A  28 4F       .BYTE  '(OR CR) :$'
01025  1B94  00          .BYTE  0






DISASSEMBLER20......PAGE 0023

LINE# LOC   CODE        LINE


01026  1B95  0D          MSA2   .BYTE $0D
01027  1B96  0D          .BYTE  $0D
01028  1B97  54 41       .BYTE  'TABLE START ADDRESS'
01029  1BAA  0D          .BYTE  $0D
01030  1BAB  3A 24       .BYTE  ':$'
01031  1BAD  00          .BYTE  0
01032  1BAE  0D          MSA3   .BYTE $0D
01033  1BAF  0D          .BYTE  $0D
01034  1BB0  54 41       .BYTE  'TABLE END ADDRESS'
01035  1BC1  0D          .BYTE  $0D
01036  1BC2  3A 24       .BYTE  ':$'
01037  1BC4  00          .BYTE  0
01038  1BC5  0D          MSG5   .BYTE $0D,$0D
01038  1BC6  0D 
01039  1BC7  44 49              .BYTE 'DISASSEMBLY'
01040  1BD2  0D                 .BYTE $0D
01041  1BD3  4F 50              .BYTE 'OPTIONS'
01042  1BDA  0D                 .BYTE $0D,$0D
01042  1BDB  0D 
01043  1BDC  30 20              .BYTE '0 ASCII',$0D
01043  1BE3  0D 
01044  1BE4  31 20              .BYTE '1 BYTE',$0D
01044  1BEA  0D 
01045  1BEB  32 20              .BYTE '2 WORD',$0D
01045  1BF1  0D 
01046  1BF2  33 20              .BYTE '3 DBYTE',$0D
01046  1BF9  0D 
01047  1BFA  34 20              .BYTE '4 WORD-1',$0D
01047  1C02  0D 
01048  1C03  53 20              .BYTE 'S SKIP ADDRESS RANGE',$0D
01048  1C17  0D 
01049  1C18  45 4E              .BYTE 'ENTER DISASSEMBLY'
01050  1C29  0D                 .BYTE $0D
01051  1C2A  43 4F              .BYTE 'CODE: '
01052  1C30  00                 .BYTE 0
01053  1C31              ;*********************************
01054  1C31  0D          MSB4   .BYTE $0D
01055  1C32  0D          .BYTE  $0D
01056  1C33  4C 41       .BYTE  'LABLE GENERATION'
01057  1C43  0D          .BYTE  $0D
01058  1C44  28 59       .BYTE  '(Y/CR OR N)? '
01059  1C51  00          .BYTE  0
01060  1C52              ;*********************************
01061  1C52  0D          MSB5   .BYTE $0D
01062  1C53  0D          .BYTE  $0D
01063  1C54  46 4F       .BYTE  'FORMATED LISTING'
01064  1C64  0D          .BYTE  $0D
01065  1C65  28 59       .BYTE  '(Y/CR OR N)? '
01066  1C72  00          .BYTE  0
01067  1C73              ;*********************************
01068  1C73              ;.FIL 0:UTIL.ASM
01069  1C73              ;*********************************
01070  1C73              ;.END
01071  1C73              ;*********************************
01072  1C73              ; FILE UTIL.ASM






DISASSEMBLER20......PAGE 0024

LINE# LOC   CODE        LINE


01073  1C73              ;*********************************
01074  1C73              ;
01075  1C73              ;        DISASSEMBLER64
01076  1C73              ;    SYMBOLIC DISASSEMBLER
01077  1C73              ;       BY DENTON MARLOWE
01078  1C73              ;
01079  1C73              ;  (C)1986 BY DENTON MARLOWE
01080  1C73              ;
01081  1C73              ;*********************************
01082  1C73              ;      *** UTILITIES ***
01083  1C73              ;*********************************
01084  1C73              ; CHECK LINE COUNT FOR OUTPUT FILE
01085  1C73              ;*********************************
01086  1C73  AD 12 12    LINECK LDA PASS
01087  1C76  CD 15 12           CMP CPASS
01088  1C79  D0 36              BNE LINECO
01089  1C7B  AD 19 12           LDA DEVICE
01090  1C7E  29 08              AND #$08
01091  1C80  F0 2F              BEQ LINECO
01092  1C82              ;*********************************
01093  1C82              ; CLOSE SOURCE FILE AND OPEN NEXT
01094  1C82              ;*********************************
01095  1C82  38                 SEC
01096  1C83  AD C0 12           LDA LINEFL
01097  1C86  E9 20              SBC #$20
01098  1C88  8D 51 12           STA TEMP
01099  1C8B  AD C1 12           LDA LINEFL+1
01100  1C8E  E9 03              SBC #$03
01101  1C90  0D 51 12           ORA TEMP
01102  1C93  90 1C              BCC LINECO
01103  1C95  EA                 NOP
01104  1C96  EA                 NOP
01105  1C97  EA                 NOP
01106  1C98  20 3F 22           JSR EFILE
01107  1C9B  A9 08              LDA #$08
01108  1C9D  20 C3 FF           JSR CLOSE
01109  1CA0  20 A2 17           JSR OFILE
01110  1CA3  A9 00              LDA #$00
01111  1CA5  8D C0 12           STA LINEFL
01112  1CA8  8D C1 12           STA LINEFL+1
01113  1CAB  20 29 22           JSR ORGIN
01114  1CAE  20 4F 22           JSR COMENT
01115  1CB1  60          LINECO RTS
01116  1CB2              ;*********************************
01117  1CB2              ;  DISK ERROR CHECK
01118  1CB2              ;*********************************
01119  1CB2  A9 08       DISERR LDA #$08        ;DEV #8
01120  1CB4  85 BA              STA $BA         ;PUT IN DEV TABLE
01121  1CB6  20 B4 FF           JSR $FFB4       ;SEND TALK
01122  1CB9  A9 6F              LDA #$6F        ;SECONDARY ADDRESS
01123  1CBB  85 B9              STA $B9         ;PUT IN TABLE
01124  1CBD  20 96 FF           JSR $FF96       ;SEND SEC
01125  1CC0  20 A5 FF           JSR $FFA5       ;GET FIRST BYTE
01126  1CC3  C9 30              CMP #$30        ;IS IT A ZERO
01127  1CC5  D0 0C              BNE DLOOC       ;IF NOT ZERO ERROR






DISASSEMBLER20......PAGE 0025

LINE# LOC   CODE        LINE


01128  1CC7  20 A5 FF    DLOOE  JSR $FFA5       ;GET BYTE
01129  1CCA  C9 0D              CMP #$0D        ;IS IT CR?
01130  1CCC  D0 F9              BNE DLOOE       ;GET NEXT BYTE
01131  1CCE  20 AB FF           JSR $FFAB       ;UNTALK
01132  1CD1  18                 CLC             ;NO ERROR FLAG
01133  1CD2  60                 RTS             ;RETURN
01134  1CD3              ;*********************************
01135  1CD3              ; PRINT DISK ERROR
01136  1CD3              ;*********************************
01137  1CD3  48          DLOOC  PHA             ;STACK BYTE
01138  1CD4  A9 0D              LDA #$0D        ;ASCII CR
01139  1CD6  20 D2 FF           JSR CHROUT      ;PRINT IT
01140  1CD9  68                 PLA             ;GET BYTE
01141  1CDA  20 D2 FF           JSR CHROUT      ;PRINT IT
01142  1CDD  20 A5 FF    DLOOA  JSR $FFA5       ;GET NEXT BYTE
01143  1CE0  20 D2 FF           JSR CHROUT      ;PRINT IT
01144  1CE3  C9 0D              CMP #$0D        ;IS IT CR
01145  1CE5  D0 F6              BNE DLOOA       ;GET NEXT BYTE
01146  1CE7  20 AB FF           JSR $FFAB       ;UNTALK
01147  1CEA  38                 SEC             ;SET ERROR FLAG
01148  1CEB  60                 RTS             ;RETURN
01149  1CEC              ;*********************************
01150  1CEC              ; START NEW LINE AND INC COUNT
01151  1CEC              ;*********************************
01152  1CEC  EE 58 12    NEWLIN INC LINECT
01153  1CEF  D0 03              BNE *+5
01154  1CF1  EE 59 12           INC LINECT+1
01155  1CF4  EE C0 12           INC LINEFL
01156  1CF7  D0 03              BNE *+5
01157  1CF9  EE C1 12           INC LINEFL+1
01158  1CFC  20 E1 22           JSR CRLF
01159  1CFF  AD 19 12           LDA DEVICE
01160  1D02  29 04              AND #$04
01161  1D04  F0 03              BEQ NEWEXT
01162  1D06  20 5B 1E           JSR NEXLIN
01163  1D09  60          NEWEXT RTS
01164  1D0A              ;*********************************
01165  1D0A              ; INPUT UTILITIES
01166  1D0A              ;*********************************
01167  1D0A              ; INPUT STRING ROUTINE
01168  1D0A              ;*********************************
01169  1D0A  A0 00       INSTNG LDY #$00
01170  1D0C  20 CF FF    INSTN1 JSR CHRIN
01171  1D0F  99 5C 12           STA BUF,Y
01172  1D12  C8                 INY
01173  1D13  C9 0D              CMP #$0D
01174  1D15  D0 F5              BNE INSTN1
01175  1D17  88                 DEY
01176  1D18  60                 RTS
01177  1D19              ;*********************************
01178  1D19              ; INPUT HEX CHAR STRING
01179  1D19              ;*********************************
01180  1D19  A9 00       GETWRD LDA #$00
01181  1D1B  8D 4F 12           STA ADRS
01182  1D1E  8D 50 12           STA ADRS+1






DISASSEMBLER20......PAGE 0026

LINE# LOC   CODE        LINE


01183  1D21  20 0A 1D           JSR INSTNG
01184  1D24  88                 DEY
01185  1D25  30 15              BMI INEND
01186  1D27              ;*********************************
01187  1D27              ; PROCESS INPUT
01188  1D27              ;*********************************
01189  1D27  20 3D 1D           JSR GETBYT
01190  1D2A  AD 51 12           LDA TEMP
01191  1D2D  8D 4F 12           STA ADRS
01192  1D30  88                 DEY
01193  1D31  30 09              BMI INEND
01194  1D33  20 3D 1D           JSR GETBYT
01195  1D36  AD 51 12           LDA TEMP
01196  1D39  8D 50 12           STA ADRS+1
01197  1D3C  60          INEND  RTS
01198  1D3D              ;*********************************
01199  1D3D              ; COVERT BUFFER INTO BYTES
01200  1D3D              ;*********************************
01201  1D3D  B9 5C 12    GETBYT LDA BUF,Y
01202  1D40  20 5A 1D           JSR BINARY
01203  1D43  8D 51 12           STA TEMP
01204  1D46  88                 DEY
01205  1D47  30 10              BMI INENX
01206  1D49  B9 5C 12           LDA BUF,Y
01207  1D4C  20 5A 1D           JSR BINARY
01208  1D4F  0A                 ASL A
01209  1D50  0A                 ASL A
01210  1D51  0A                 ASL A
01211  1D52  0A                 ASL A
01212  1D53  0D 51 12           ORA TEMP
01213  1D56  8D 51 12           STA TEMP
01214  1D59  60          INENX  RTS
01215  1D5A              ;*********************************
01216  1D5A              ; CONVERT A INTO HEX NIBBLE
01217  1D5A              ;*********************************
01218  1D5A  38          BINARY SEC
01219  1D5B  E9 30              SBC #'0'
01220  1D5D  90 0E              BCC NOHEX
01221  1D5F  C9 0A              CMP #$0A
01222  1D61  90 0C              BCC YSHEX
01223  1D63  E9 07              SBC #$07
01224  1D65  C9 10              CMP #$10
01225  1D67  B0 04              BCS NOHEX
01226  1D69  C9 0A              CMP #$0A
01227  1D6B  B0 02              BCS YSHEX
01228  1D6D  38          NOHEX  SEC
01229  1D6E  60                 RTS
01230  1D6F  18          YSHEX  CLC
01231  1D70  60                 RTS
01232  1D71              ;*********************************
01233  1D71              ; GET OPTION (CR/Y OR N): Y=C=0
01234  1D71              ;*********************************
01235  1D71  20 CF FF    CRYS   JSR CHRIN
01236  1D74  C9 59              CMP #'Y'
01237  1D76  F0 11              BEQ CRYS1






DISASSEMBLER20......PAGE 0027

LINE# LOC   CODE        LINE


01238  1D78  C9 0D              CMP #$0D
01239  1D7A  F0 0D              BEQ CRYS1
01240  1D7C  D0 0D              BNE CRNO1
01241  1D7E              ;*********************************
01242  1D7E              ; GET OPTION (Y OR CR/N): Y=C=0
01243  1D7E              ;*********************************
01244  1D7E  20 CF FF    CRNO   JSR CHRIN
01245  1D81  C9 4E              CMP #'N'
01246  1D83  F0 06              BEQ CRNO1
01247  1D85  C9 0D              CMP #$0D
01248  1D87  F0 02              BEQ CRNO1
01249  1D89  18          CRYS1  CLC
01250  1D8A  60                 RTS
01251  1D8B  38          CRNO1  SEC
01252  1D8C  60                 RTS
01253  1D8D              ;*********************************
01254  1D8D              ; PRINT UTILITES
01255  1D8D              ;*********************************
01256  1D8D              ; PRINT WORD MSB IN Y LSB IN A
01257  1D8D              ;*********************************
01258  1D8D  48          PRBYTS PHA             ;PUT A ON STACK
01259  1D8E  98                 TYA             ;PUT HIH BYTE IN A
01260  1D8F  20 93 1D           JSR PRBYT       ;PRINT MSB
01261  1D92  68                 PLA             ;GET LSB
01262  1D93              ;*********************************
01263  1D93              ; PRINT BYTE IN A
01264  1D93              ;*********************************
01265  1D93  48          PRBYT  PHA             ;PUT BYTE ON STACK
01266  1D94  4A                 LSR A           ;4 RIGHT SHIFTS
01267  1D95  4A                 LSR A           ;TO MOVE HIGH
01268  1D96  4A                 LSR A           ;NIBBLE TO LOW
01269  1D97  4A                 LSR A           ;NIB WITH HIGH 0'S
01270  1D98  A8                 TAY             ;USE AS POINTER
01271  1D99  B9 FF 1E           LDA HEXA,Y      ;GET ASCII
01272  1D9C  20 FF 1D           JSR PCHAR       ;PRINT
01273  1D9F  68                 PLA             ;PULL BYTE OUT
01274  1DA0  29 0F              AND #$0F        ;MASK HIGH NIBBLE
01275  1DA2  A8                 TAY             ;USE AS POINTER
01276  1DA3  B9 FF 1E           LDA HEXA,Y      ;GET ASCII
01277  1DA6  4C FF 1D           JMP PCHAR       ;PRINT
01278  1DA9              ;*********************************
01279  1DA9              ; STRING OUTPUT ROUTINE
01280  1DA9              ;*********************************
01281  1DA9  85 02       STRPNT STA ZEROUR      ;POINTER TO
01282  1DAB  84 03              STY ZEROUR+1    ;MESSAGE
01283  1DAD  A0 00              LDY #$00        ;OFFSET
01284  1DAF  B1 02       SOUT   LDA (ZEROUR),Y  ;GET CHAR
01285  1DB1  F0 06              BEQ SEXIT       ;IF ZERO EXIT
01286  1DB3  20 FF 1D           JSR PCHAR       ;PRINT
01287  1DB6  C8                 INY             ;INC OFFSET
01288  1DB7  D0 F6              BNE SOUT        ;LOOP
01289  1DB9  60          SEXIT  RTS             ;RETURN
01290  1DBA              ;*********************************
01291  1DBA              ; PRINT DEC NUMBER (0000)
01292  1DBA              ;*********************************






DISASSEMBLER20......PAGE 0028

LINE# LOC   CODE        LINE


01293  1DBA  86 02       PRTPAG STX ZEROUR      ;LOW  BYTE NUM
01294  1DBC  85 03              STA ZEROUR+1    ;HIGH BYTE NUM
01295  1DBE  A2 03              LDX #$03        ;4 CHARS
01296  1DC0  8E 53 12           STX SAVX        ;SAVE COUNT
01297  1DC3  D0 09              BNE PRTNU1      ;BRANCH
01298  1DC5              ;*********************************
01299  1DC5              ; PRINT DEC NUMBER (00000)
01300  1DC5              ;*********************************
01301  1DC5  86 02       PRTNUM STX ZEROUR      ;LOW  BYTE NUM
01302  1DC7  85 03              STA ZEROUR+1    ;HIGH BYTE NUM
01303  1DC9  A2 04              LDX #$04        ;5 CHARS
01304  1DCB  8E 53 12           STX SAVX        ;SAVE COUNT
01305  1DCE              ;*********************************
01306  1DCE              ; PRINT DEC NUMBER AND LEADING 0
01307  1DCE              ;*********************************
01308  1DCE  AE 53 12    PRTNU1 LDX SAVX
01309  1DD1  A0 30              LDY #$30
01310  1DD3  D0 01              BNE PRTNU3
01311  1DD5  C8          PRTNU2 INY 
01312  1DD6  38          PRTNU3 SEC 
01313  1DD7  A5 02              LDA ZEROUR
01314  1DD9  FD 0F 1F           SBC CONST0,X
01315  1DDC  85 02              STA ZEROUR
01316  1DDE  A5 03              LDA ZEROUR+1
01317  1DE0  FD 14 1F           SBC CONST1,X
01318  1DE3  85 03              STA ZEROUR+1
01319  1DE5  B0 EE              BCS PRTNU2
01320  1DE7  A5 02              LDA ZEROUR
01321  1DE9  7D 0F 1F           ADC CONST0,X
01322  1DEC  85 02              STA ZEROUR
01323  1DEE  A5 03              LDA ZEROUR+1
01324  1DF0  7D 14 1F           ADC CONST1,X
01325  1DF3  85 03              STA ZEROUR+1
01326  1DF5  98                 TYA
01327  1DF6  20 FF 1D           JSR PCHAR
01328  1DF9  CE 53 12           DEC SAVX
01329  1DFC  10 D0              BPL PRTNU1
01330  1DFE  60                 RTS
01331  1DFF              ;*********************************
01332  1DFF              ;  OUTPUT CHAR TO OPEN CHANNEL
01333  1DFF              ;*********************************
01334  1DFF  48          PCHAR  PHA             ;SAVE CHAR
01335  1E00  AD 19 12           LDA DEVICE      ;GET FILE FLAG
01336  1E03  29 08              AND #$08        ;CHECK FOR DISK
01337  1E05  F0 0D              BEQ PRIN        ;IF NONE BRANCH
01338  1E07  A2 08              LDX #$08        ;DISK FILE #1
01339  1E09  20 C9 FF           JSR CHKOUT      ;FILE IS OUTPUT
01340  1E0C  68                 PLA             ;GET CHAR
01341  1E0D  48                 PHA             ;RESAVE CHAR
01342  1E0E  20 D2 FF           JSR CHROUT      ;OUTPUT TO DISK
01343  1E11  20 CC FF           JSR CLRCHN      ;RESET OUTPUT
01344  1E14  AD 19 12    PRIN   LDA DEVICE      ;GET DEVICE FLAG
01345  1E17  29 04              AND #$04        ;CHECK FOR PRINTER
01346  1E19  F0 0D              BEQ SCREN       ;IF NOT BRANCH
01347  1E1B  A2 04              LDX #$04        ;PRINT FILE #4






DISASSEMBLER20......PAGE 0029

LINE# LOC   CODE        LINE


01348  1E1D  20 C9 FF           JSR CHKOUT      ;FILE IS OUTPUT
01349  1E20  68                 PLA             ;GET CHAR
01350  1E21  48                 PHA             ;RESAVE CHAR
01351  1E22  20 D2 FF           JSR CHROUT      ;OUTPUT TO PRINTER
01352  1E25  20 CC FF           JSR CLRCHN      ;RESET OUTPUT
01353  1E28  AD 19 12    SCREN  LDA DEVICE      ;GET DEVICE FLAG
01354  1E2B  29 03              AND #$03        ;CHECK FOR SCREEN
01355  1E2D  F0 05              BEQ PEXIT       ;IF NOT BRANCH
01356  1E2F  68                 PLA             ;GET CHAR
01357  1E30  48                 PHA             ;RESAVE CHAR
01358  1E31  20 D2 FF           JSR CHROUT      ;OUTPUT TO SCREEN
01359  1E34  68          PEXIT  PLA             ;GET CHAR
01360  1E35  60                 RTS             ;RETURN
01361  1E36              ;*********************************
01362  1E36              ; PRINTER OUTPUT ROUTINES
01363  1E36              ;*********************************
01364  1E36              ; FINISH OUT PAGE WITH CR
01365  1E36              ;*********************************
01366  1E36  20 49 1E    FINISH JSR CRLFPR      ;PRINT CR
01367  1E39  EE 57 12           INC LISTCT      ;INC LINE COUNT
01368  1E3C  AD 57 12           LDA LISTCT      ;GET COUNT
01369  1E3F  C9 42              CMP #$42        ;66 LINES
01370  1E41  D0 F3              BNE FINISH      ;IF NOT MORE
01371  1E43  A9 00              LDA #$00        ;ZERO BYTE
01372  1E45  8D 57 12           STA LISTCT      ;RESET COUNT
01373  1E48  60                 RTS             ;RETURN
01374  1E49              ;*********************************
01375  1E49              ; PRINT CR TO PRINTER
01376  1E49              ;*********************************
01377  1E49  A9 04       CRLFPR LDA #$04        ;DEVICE #4
01378  1E4B  8D 19 12           STA DEVICE      ;SET PRINTER
01379  1E4E  20 E1 22           JSR CRLF        ;CR
01380  1E51  AD 1A 12           LDA OUTPUT      ;GET DEVICE
01381  1E54  8D 19 12           STA DEVICE      ;RESET DEVICE
01382  1E57  60                 RTS             ;RETURN
01383  1E58              ;*********************************
01384  1E58              ; START NEWLINE AND CHECK COUNT
01385  1E58              ;*********************************
01386  1E58  20 49 1E    NEXPTR JSR CRLFPR      ;PRINT CR
01387  1E5B  EE 57 12    NEXLIN INC LISTCT      ;INC LINE COUNT
01388  1E5E  AD 57 12           LDA LISTCT      ;GET COUNT
01389  1E61  C9 3C              CMP #$3C        ;48 LINES
01390  1E63  D0 45              BNE LINEOK      ;IF NOT BRANCH
01391  1E65  20 36 1E           JSR FINISH      ;FINISH PAGE
01392  1E68              ;*********************************
01393  1E68              ; START NEW PAGE WITH HEADING
01394  1E68              ;*********************************
01395  1E68  AD 19 12    HEADER LDA DEVICE      ;CHECK DEVICE
01396  1E6B  29 04              AND #$04        ;PRINTER?
01397  1E6D  F0 3B              BEQ LINEOK      ;IF NOT EXIT
01398  1E6F  20 58 1E           JSR NEXPTR      ;NEXT LINE
01399  1E72  A9 04              LDA #$04        ;DEVICE #4
01400  1E74  8D 19 12           STA DEVICE      ;SET DEVICE
01401  1E77  A9 19              LDA #<XTITLE    ;HEADER
01402  1E79  A0 1F              LDY #>XTITLE    ;






DISASSEMBLER20......PAGE 0030

LINE# LOC   CODE        LINE


01403  1E7B  20 A9 1D           JSR STRPNT      ;PRINT IT
01404  1E7E              ;*********************************
01405  1E7E              ; PRINT PAGE COUNT AND HEADER
01406  1E7E              ;*********************************
01407  1E7E  AE 55 12           LDX PAGECT
01408  1E81  AD 56 12           LDA PAGECT+1
01409  1E84  20 BA 1D           JSR PRTPAG
01410  1E87  20 58 1E           JSR NEXPTR
01411  1E8A  20 58 1E           JSR NEXPTR
01412  1E8D  A9 04              LDA #$04
01413  1E8F  8D 19 12           STA DEVICE
01414  1E92  A9 34              LDA #<LTITLE
01415  1E94  A0 1F              LDY #>LTITLE
01416  1E96  20 A9 1D           JSR STRPNT
01417  1E99  20 58 1E           JSR NEXPTR
01418  1E9C              ;*********************************
01419  1E9C              ; INC PAGE COUNT
01420  1E9C              ;*********************************
01421  1E9C  EE 55 12           INC PAGECT
01422  1E9F  D0 03              BNE PAGER1
01423  1EA1  EE 56 12           INC PAGECT+1
01424  1EA4  20 58 1E    PAGER1 JSR NEXPTR
01425  1EA7  20 58 1E           JSR NEXPTR
01426  1EAA  60          LINEOK RTS 
01427  1EAB              ;*********************************
01428  1EAB              ; SYMBOL TABLE ROUTINES
01429  1EAB              ;*********************************
01430  1EAB              ; START NEWLINE AND CHECK COUNT
01431  1EAB              ;*********************************
01432  1EAB  20 49 1E    NEXPTS JSR CRLFPR      ;PRINT CR
01433  1EAE  EE 57 12           INC LISTCT      ;INC LINE COUNT
01434  1EB1  AD 57 12           LDA LISTCT      ;GET COUNT
01435  1EB4  C9 3C              CMP #$3C        ;48 LINES
01436  1EB6  D0 1D              BNE HEADOK      ;IF NOT BRANCH
01437  1EB8  20 36 1E           JSR FINISH      ;FINISH PAGE
01438  1EBB              ;*********************************
01439  1EBB              ; START NEW PAGE WITH HEADING
01440  1EBB              ;*********************************
01441  1EBB  20 AB 1E    HEADES JSR NEXPTS      ;NEXT LINE
01442  1EBE  A9 51              LDA #<XTITLS    ;HEADER
01443  1EC0  A0 1F              LDY #>XTITLS    ;
01444  1EC2  20 A9 1D           JSR STRPNT      ;PRINT IT
01445  1EC5  20 AB 1E           JSR NEXPTS
01446  1EC8  20 AB 1E           JSR NEXPTS
01447  1ECB  A9 5E              LDA #<LTITLS
01448  1ECD  A0 1F              LDY #>LTITLS
01449  1ECF  20 A9 1D           JSR STRPNT
01450  1ED2  20 AB 1E           JSR NEXPTS
01451  1ED5  60          HEADOK RTS
01452  1ED6              ;*********************************
01453  1ED6              ; CHECK FOR NEW PAGE FOR SYMBOL
01454  1ED6              ;*********************************
01455  1ED6  AD 57 12    HEADSY LDA LISTCT
01456  1ED9  C9 35              CMP #$35
01457  1EDB  B0 06              BCS HEADFX






DISASSEMBLER20......PAGE 0031

LINE# LOC   CODE        LINE


01458  1EDD  20 AB 1E           JSR NEXPTS
01459  1EE0  4C AB 1E           JMP NEXPTS
01460  1EE3  4C 36 1E    HEADFX JMP FINISH
01461  1EE6              ;*********************************
01462  1EE6              ; SCREEN UTILITES
01463  1EE6              ;*********************************
01464  1EE6  AD 19 12    SCROFF LDA DEVICE
01465  1EE9  29 04              AND #$04
01466  1EEB  F0 08              BEQ SCRNO1
01467  1EED  AD 0F 90           LDA VICREG
01468  1EF0  29 EF              AND #$EF
01469  1EF2  8D 0F 90           STA VICREG
01470  1EF5  60          SCRNO1 RTS
01471  1EF6              ;*********************************
01472  1EF6  AD 0F 90    SCRON  LDA VICREG
01473  1EF9  09 10              ORA #$10
01474  1EFB  8D 0F 90           STA VICREG
01475  1EFE  60                 RTS
01476  1EFF              ;*********************************
01477  1EFF              ; HEX-TO-ASCII TABLE
01478  1EFF              ;*********************************
01479  1EFF  30 31       HEXA   .BYTE '0123456789ABCDEF'
01480  1F0F              ;*********************************
01481  1F0F              ; CONSTANTS FOR PRTNUM ROUTINE
01482  1F0F              ;*********************************
01483  1F0F  01          CONST0 .BYTE $01,$0A,$64,$E8,$10
01483  1F10  0A 
01483  1F11  64 
01483  1F12  E8 
01483  1F13  10 
01484  1F14  00          CONST1 .BYTE $00,$00,$00,$03,$27
01484  1F15  00 
01484  1F16  00 
01484  1F17  03 
01484  1F18  27 
01485  1F19              ;*********************************
01486  1F19              ; PAGE TITLE
01487  1F19              ;*********************************
01488  1F19  44 49       XTITLE .BYTE 'DISASSEMBLER64.......PAGE '
01489  1F33  00                 .BYTE $00
01490  1F34  4C 49       LTITLE .BYTE 'LINE# LOC   CODE        LINE'
01491  1F50  00                 .BYTE $00
01492  1F51              ;********************************
01493  1F51              ; SYMBOL PAGE TITLE
01494  1F51              ;********************************
01495  1F51  53 59       XTITLS .BYTE 'SYMBOL TABLE',0
01495  1F5D  00 
01496  1F5E  53 59       LTITLS .BYTE 'SYMBOL VALUE',0
01496  1F6A  00 
01497  1F6B              ;*********************************
01498  1F6B              ;.FIL 0:MODE.ASM
01499  1F6B              ;*********************************
01500  1F6B              ;.END
01501  1F6B              ;*********************************
01502  1F6B              ; FILE MODE.ASM






DISASSEMBLER20......PAGE 0032

LINE# LOC   CODE        LINE


01503  1F6B              ;*********************************
01504  1F6B              ;
01505  1F6B              ;        DISASSEMBLER64
01506  1F6B              ;    SYMBOLIC DISASSEMBLER
01507  1F6B              ;       BY DENTON MARLOWE
01508  1F6B              ;
01509  1F6B              ;  (C)1986 BY DENTON MARLOWE
01510  1F6B              ;
01511  1F6B              ;*********************************
01512  1F6B              ; ADDRESSING MODE UTILITIES
01513  1F6B              ;*********************************
01514  1F6B              ;      DISASSEMBLE ONE LINE
01515  1F6B              ;*********************************
01516  1F6B  20 97 26    DSLINE JSR DATAOP      ;CHECK FOR DATA
01517  1F6E  30 3D              BMI BYTT        ;N=1 THEN FOUND
01518  1F70              ;*********************************
01519  1F70              ; CHECK BIT ZP DECODING OPTIONS
01520  1F70              ;*********************************
01521  1F70  AD 65 39           LDA BITFLG      ;CHECK BIT FLAG
01522  1F73  F0 0D              BEQ DISL        ;IF ZERO NO BIT
01523  1F75                     
01524  1F75  20 1A 23           JSR GETSL       ;GET BYTE
01525  1F78  C9 24              CMP #$24        ;ZEROPAGE BIT
01526  1F7A  F0 34              BEQ BYZBIT      ;
01527  1F7C  C9 2C              CMP #$2C        ;ZEROPAGE BIT
01528  1F7E  F0 55              BEQ BYABIT      ;
01529  1F80  D0 00              BNE DISL        ;
01530  1F82              ;*********************************
01531  1F82              ; CHECK BIT ABS DECODING OPTIONS
01532  1F82              ;*********************************
01533  1F82              
01534  1F82              ;********************************
01535  1F82              ; PROCESS LINE OF CODE
01536  1F82              ;********************************
01537  1F82              DISL   = *
01538  1F82  20 1A 23           JSR GETSL       ;GET BYTE
01539  1F85  AE 12 12           LDX PASS        ;GET PASS COUNT
01540  1F88  EC 15 12           CPX CPASS       ;LAST
01541  1F8B  F0 06              BEQ DISL1       ;IF LAST BRANCH
01542  1F8D  20 5F 29           JSR OPERN1      ;IF LAST BRANCH
01543  1F90  4C AD 1F           JMP BYTT        ;NEXT INSTRUCTION
01544  1F93              ;********************************
01545  1F93              ; PRINT DISASSEMBLY ADDRESS
01546  1F93              ;********************************
01547  1F93  20 52 29    DISL1  JSR PRTASS      ;PRINT LINE DATA
01548  1F96  20 78 22           JSR PRAD        ;PRINT ADDRESS
01549  1F99  20 F3 22           JSR SPACE       ;SPACE OVER
01550  1F9C              ;********************************
01551  1F9C              ; PRINT INSTRUCTION
01552  1F9C              ;********************************
01553  1F9C  20 1A 23           JSR GETSL       ;GET BYTE
01554  1F9F  48                 PHA             ;STORE
01555  1FA0  20 33 29           JSR MNEMON      ;PRINT MNEMONIC
01556  1FA3  20 F3 22           JSR SPACE       ;SPACE OVER
01557  1FA6  68                 PLA             ;GET BYTE






DISASSEMBLER20......PAGE 0033

LINE# LOC   CODE        LINE


01558  1FA7  20 67 29           JSR OPERND      ;PRINT OPERAND
01559  1FAA  20 EC 1C    FINAL  JSR NEWLIN      ;START NEW LINE
01560  1FAD  4C F8 22    BYTT   JMP NEXTSL      ;NEXT INSTRUCTION
01561  1FB0              ;********************************
01562  1FB0              ;      BIT ZP SKIP TRICK
01563  1FB0              ;
01564  1FB0              ; THE SKIP WILL ALWAYS INVOLVE
01565  1FB0              ; A FOLLWING OPCODE THAT IS EITHER
01566  1FB0              ; AN OPCODE WITH NO OPERAND OR
01567  1FB0              ; OR ONE BYTE OPERAND LIKE A BRANCH
01568  1FB0              ; OR ZERO PAGE INSTRUCTION
01569  1FB0              ;*********************************
01570  1FB0              BYZBIT = *
01571  1FB0  AD 65 39           LDA BITFLG
01572  1FB3  29 02              AND #$02
01573  1FB5  F0 CB              BEQ DISL
01574  1FB7              ;********************************
01575  1FB7              ;      TO SKIP OR NOT
01576  1FB7              ;*********************************
01577  1FB7  20 11 23           JSR INCSL       ;INC TO OPERAND
01578  1FBA  20 1A 23           JSR GETSL       ;GET OPERAND
01579  1FBD  48                 PHA
01580  1FBE  20 30 23           JSR DECSL
01581  1FC1  68                 PLA
01582  1FC2                                     ;CHECK FOR SKIP
01583  1FC2  C9 10              CMP #$10        ;BPL SKIP
01584  1FC4  F0 40              BEQ B0000
01585  1FC6  C9 18              CMP #$18        ;CLC SKIP
01586  1FC8  F0 3C              BEQ B0000
01587  1FCA  C9 30              CMP #$30        ;BMI
01588  1FCC  F0 38              BEQ B0000
01589  1FCE  C9 38              CMP #$38        ;SEC
01590  1FD0  F0 34              BEQ B0000
01591  1FD2              ;
01592  1FD2  4C 82 1F           JMP DISL
01593  1FD5              ;********************************
01594  1FD5              ;      BIT ABS SKIP TRICK
01595  1FD5              ;*********************************
01596  1FD5              BYABIT = *
01597  1FD5  AD 65 39           LDA BITFLG
01598  1FD8  29 01              AND #$01
01599  1FDA  F0 A6              BEQ DISL
01600  1FDC              ;********************************
01601  1FDC              ;      TO SKIP OR NOT
01602  1FDC              ;*********************************
01603  1FDC  20 11 23           JSR INCSL       ;INC TO OPERAND
01604  1FDF  20 1A 23           JSR GETSL       ;GET OPERAND
01605  1FE2  48                 PHA
01606  1FE3  20 30 23           JSR DECSL
01607  1FE6  68                 PLA
01608  1FE7                                     ;CHECK FOR SKIP
01609  1FE7  C9 A1              CMP #$A1        ;LDY A IMMEDIATE SKIP
01610  1FE9  F0 1B              BEQ B0000
01611  1FEB  C9 A2              CMP #$A2        ;LDA A IMMEDIATE SKIP
01612  1FED  F0 17              BEQ B0000






DISASSEMBLER20......PAGE 0034

LINE# LOC   CODE        LINE


01613  1FEF  C9 A9              CMP #$A9        ;LDX A IMMEDIATE SKIP
01614  1FF1  F0 13              BEQ B0000
01615  1FF3                     
01616  1FF3  C9 65              CMP #$65        ;ADC ZP
01617  1FF5  F0 0F              BEQ B0000
01618  1FF7                     
01619  1FF7  C9 85              CMP #$85        ;STA ZP
01620  1FF9  F0 0B              BEQ B0000
01621  1FFB                     
01622  1FFB  C9 B1              CMP #$B1        ;LDA (ZP),Y
01623  1FFD  F0 07              BEQ B0000
01624  1FFF                     
01625  1FFF  C9 E6              CMP #$E6        ;INC
01626  2001  F0 03              BEQ B0000
01627  2003              ;
01628  2003  4C 82 1F           JMP DISL
01629  2006              ;********************************
01630  2006              ;      PRINTING PASS?
01631  2006              ;*********************************
01632  2006              B0000  = *
01633  2006  AD 12 12           LDA PASS        ;GET PASS COUNT
01634  2009  CD 15 12           CMP CPASS       ;LAST
01635  200C  D0 9F              BNE BYTT        ;IF NOT NEXT BYTE
01636  200E              ;*********************************
01637  200E              ;  PRINT LINE DATA FOR .BYTE
01638  200E              ;*********************************
01639  200E  20 4F 22           JSR COMENT      ;COMENT LINE
01640  2011              ;
01641  2011  20 F3 23           JSR PRTDAT      ;PRINT LINE DATA
01642  2014  20 80 23           JSR PRTONE      ;ONE BYTE
01643  2017  20 78 22           JSR PRAD        ;PRINT ADDRESS
01644  201A  20 F3 22           JSR SPACE       ;SPACE OVER
01645  201D  A9 49              LDA #<MSGBIT    ;.BYTE $
01646  201F  A0 23              LDY #>MSGBIT    ;
01647  2021  20 A9 1D           JSR STRPNT      ;PRINT IT
01648  2024              ;
01649  2024  20 1A 23           JSR GETSL       ;GET BYTE
01650  2027  20 93 1D           JSR PRBYT       ;PRINT BYTE
01651  202A              ;
01652  202A  A9 51              LDA #<MSGBZP    ;BIT COMMENT
01653  202C  A0 23              LDY #>MSGBZP    ;
01654  202E  20 A9 1D           JSR STRPNT      ;PRINT IT
01655  2031              ;
01656  2031  20 EC 1C           JSR NEWLIN      ;PRINT BYTE
01657  2034                                     ;JSR INCSL    ;INC SELECT
01658  2034  20 55 22           JSR COMET       ;COMENT LINE
01659  2037                                     ;JSR DECSL    ;REASET SELE
CT
01660  2037  4C AA 1F           JMP FINAL       ;CR AND NEXT BYTE
01661  203A              ;*********************************
01662  203A              ;BYTEXT JMP DISL1
01663  203A              ;*********************************
01664  203A              ; ADDRESSING MODE UTILITIES
01665  203A              ;*********************************
01666  203A              ;
01667  203A              ;*********************************






DISASSEMBLER20......PAGE 0035

LINE# LOC   CODE        LINE


01668  203A              ; ANALYSIS OPERAND ROUTINES
01669  203A              ;*********************************
01670  203A              ;    BIT ZP ONE-BYTE OPERAND
01671  203A              ; ZERO PAGE BIT IS ALMOST ALWAYS
01672  203A              ;   A BIT TRICK TO SKIP THE NEXT
01673  203A              ;          OPCODE
01674  203A              ;********************************
01675  203A  EA          ONEBIT NOP
01676  203B              ;*********************************
01677  203B              ;      ONE-BYTE OPERAND
01678  203B              ;********************************
01679  203B  20 11 23    ONEBYT JSR INCSL       ;INC TO BYTE
01680  203E  20 1A 23           JSR GETSL       ;GET BYTE
01681  2041  8D 45 12           STA WORKED      ;STORE OPERAND
01682  2044  A9 00              LDA #$00        ;ZERO BYTE
01683  2046  8D 46 12           STA WORKED+1    ;ZERO HIGH BYTE
01684  2049  AD 12 12           LDA PASS        ;GET PASS COUNT
01685  204C  CD 13 12           CMP IPASS       ;INTERNAL
01686  204F  F0 54              BEQ OPCPUT      ;TABLE OPERAND
01687  2051  CD 14 12           CMP EPASS       ;EXTERNAL
01688  2054  F0 52              BEQ OPCSYM      ;EXTERNAL EQUATE
01689  2056              ;*********************************
01690  2056              ; OUTPUT OPERAND
01691  2056              ;*********************************
01692  2056  20 4A 2D           JSR SYMOP       ;CHECK FOR SYMBOL
01693  2059  B0 50              BCS TWOB        ;SYMBOL FOUND
01694  205B  20 2A 24           JSR RANGE       ;IS IT INTERNAL
01695  205E  90 06              BCC ONEBY       ;GENERATE LABEL
01696  2060  20 BE 22           JSR DOLLAR      ;EXTERNAL
01697  2063  4C 69 20           JMP ONEBX       ;PRINT ADDRESS
01698  2066  20 6E 22    ONEBY  JSR PRLA        ;PRINT XX
01699  2069  AD 45 12    ONEBX  LDA WORKED      ;GET OPERAND
01700  206C  4C 93 1D           JMP PRBYT       ;PRINT BYTE
01701  206F              ;********************************
01702  206F              ;      BIT ABS TWO-BYTE OPERAND
01703  206F              ;********************************
01704  206F  EA          TWOBIT NOP
01705  2070              ;********************************
01706  2070              ;      TWO-BYTE OPERAND
01707  2070              ;********************************
01708  2070  20 11 23    TWOBYT JSR INCSL       ;INC TO BYTE
01709  2073  20 1A 23           JSR GETSL       ;GET BYTE
01710  2076  8D 45 12           STA WORKED      ;STORE LOW BYTE
01711  2079  20 11 23           JSR INCSL       ;INC TO BYTE
01712  207C  20 1A 23           JSR GETSL       ;GET BYTE
01713  207F  8D 46 12           STA WORKED+1    ;STORE HIGH BYTE
01714  2082  AD 12 12           LDA PASS        ;GET PASS COUNT
01715  2085  CD 13 12           CMP IPASS       ;INTERNAL
01716  2088  F0 1B              BEQ OPCPUT      ;TABLE OPERNAD
01717  208A  CD 14 12           CMP EPASS       ;EXTERNAL
01718  208D  F0 19              BEQ OPCSYM      ;EXTERNAL EQUATE
01719  208F              ;********************************
01720  208F              ;  OUTPUT OPERAND
01721  208F              ;********************************
01722  208F  20 4A 2D           JSR SYMOP       ;CHECK SYMBOL






DISASSEMBLER20......PAGE 0036

LINE# LOC   CODE        LINE


01723  2092  B0 17              BCS TWOB        ;C=1 FOUND ONE
01724  2094  20 2A 24           JSR RANGE       ;IS IT INTERNAL
01725  2097  90 06              BCC TWOBY       ;GERNERATE LABEL
01726  2099  20 BE 22           JSR DOLLAR      ;EXTERNAL
01727  209C  4C A2 20           JMP TWOBX       ;
01728  209F              ;********************************
01729  209F              ;  OUTPUT OPERAND
01730  209F              ;********************************
01731  209F              TWOBY  =*
01732  209F  20 6E 22           JSR PRLA        ;PRINT XX
01733  20A2              TWOBX  = *
01734  20A2  4C B0 22           JMP PWORKD      ;PRINT ADDRESS
01735  20A5              OPCPUT = *
01736  20A5  4C A1 24           JMP PUTI        ;PUT IN TABLE
01737  20A8              OPCSYM = *
01738  20A8  4C 4A 2D           JMP SYMOP       ;CHECK EXT EQUATE
01739  20AB              TWOB   = *
01740  20AB  60                 RTS             ;RETURN
01741  20AC              ;*********************************
01742  20AC              ; ILLEGAL MODES, UNUSED OPCODES
01743  20AC              ;
01744  20AC              ; ZZZZ XX .BYTE $XX ;'Y' ;??? ILLEGAL OPCODE
01745  20AC              ;
01746  20AC              ;*********************************
01747  20AC  EE 5A 12    ILLEGL INC ERRCT       ;INC ERROR COUNT
01748  20AF  D0 03              BNE *+5         ;SKIP NEXT LINE
01749  20B1  EE 5B 12           INC ERRCT+1     ;INC ERROR COUNT
01750  20B4  A0 29              LDY #>MBYTE     ;.BYTE
01751  20B6  A9 1A              LDA #<MBYTE     ;
01752  20B8  20 A9 1D           JSR STRPNT      ;PRINT STRING
01753  20BB  20 BE 22           JSR DOLLAR      ;PRINT $
01754  20BE  20 1A 23           JSR GETSL       ;GET ILLEGAL BYTE
01755  20C1                     
01756  20C1              ;BEGIN REV 2017-3
01757  20C1  48                 PHA             ;PUT BYTE ON STACK
01758  20C2              ;
01759  20C2  20 93 1D           JSR PRBYT       ;PRINT IT
01760  20C5  20 F3 22           JSR SPACE       ;SPACE OVER
01761  20C8              ;
01762  20C8  68                 PLA             ;POP BYTE OFF STACK
01763  20C9  20 22 28           JSR CASCII      ;IS IT PRINTABLE ASCII
01764  20CC  B0 18              BCS ISKIP       ;IF NOT EXIT
01765  20CE  48                 PHA             ;STACK IT
01766  20CF  20 F3 22           JSR SPACE       ;SPACE OVER
01767  20D2  20 B9 22           JSR SEMIC       ;COMMENT
01768  20D5  A9 27              LDA #'''        ;QUOTE
01769  20D7  20 FF 1D           JSR PCHAR       ;PRINT IT
01770  20DA  68                 PLA             ;POP IT
01771  20DB  20 FF 1D           JSR PCHAR       ;PRINT IT
01772  20DE  A9 27              LDA #'''        ;QUOTE
01773  20E0  20 FF 1D           JSR PCHAR       ;PRINT IT
01774  20E3  20 F3 22           JSR SPACE       ;SPACE OVER
01775  20E6              ;
01776  20E6              ISKIP  = *
01777  20E6              ;END REV 2017-3






DISASSEMBLER20......PAGE 0037

LINE# LOC   CODE        LINE


01778  20E6  A0 23              LDY #>ILLMSG
01779  20E8  A9 6C              LDA #<ILLMSG
01780  20EA  4C A9 1D           JMP STRPNT
01781  20ED              ;********************************
01782  20ED              ;      ACCUMULATOR MODE
01783  20ED              ;********************************
01784  20ED  A9 41       ACC    LDA #'A'        ;ASCII A
01785  20EF  4C FF 1D           JMP PCHAR       ;PRINT IT
01786  20F2              ;********************************
01787  20F2              ;       IMMEDIATE MODE
01788  20F2              ;********************************
01789  20F2  20 11 23    IMMEDT JSR INCSL       ;INC TO DATA BYTE
01790  20F5  AE 12 12           LDX PASS        ;GET PASS
01791  20F8  EC 15 12           CPX CPASS       ;LAST PASS
01792  20FB  D0 2A              BNE IMEXIT      ;EXIT
01793  20FD  A9 23              LDA #'#'        ;ASCII #
01794  20FF  20 FF 1D           JSR PCHAR       ;PRINT IT
01795  2102  20 BE 22           JSR DOLLAR      ;PRINT $
01796  2105  20 1A 23           JSR GETSL       ;GET BYTE
01797  2108  48                 PHA             ;STACK IT
01798  2109  20 93 1D           JSR PRBYT       ;PRINT IT
01799  210C  68                 PLA             ;POP IT
01800  210D  20 22 28           JSR CASCII      ;PRINTABLE ASCII
01801  2110  B0 15              BCS IMEXIT      ;IF NOT EXIT
01802  2112  48                 PHA             ;STACK IT
01803  2113  20 E6 22           JSR SPAC6       ;SPACE OVER
01804  2116  20 B9 22           JSR SEMIC       ;COMMENT
01805  2119  A9 27              LDA #'''        ;QUOTE
01806  211B  20 FF 1D           JSR PCHAR       ;PRINT IT
01807  211E  68                 PLA             ;POP IT
01808  211F  20 FF 1D           JSR PCHAR       ;PRINT IT
01809  2122  A9 27              LDA #'''        ;QUOTE
01810  2124  20 FF 1D           JSR PCHAR       ;PRINT IT
01811  2127  60          IMEXIT RTS             ;EXIT
01812  2128              ;*********************************
01813  2128              ;      BIT ZERO PAGE MODE
01814  2128              ;*********************************
01815  2128  EA          ZERBIT NOP
01816  2129              ;*********************************
01817  2129              ;      ZERO PAGE MODE
01818  2129              ;*********************************
01819  2129  4C 3B 20    ZEROPG JMP ONEBYT      ;PRINT ONE BYTE
01820  212C              ;*********************************
01821  212C              ;      ZERO PAGE,X MODE
01822  212C              ;********************************
01823  212C  20 3B 20    ZEROX  JSR ONEBYT      ;PRINT ONE BYTE
01824  212F  4C CD 22           JMP XINDEX      ;PRINT ,X
01825  2132              ;********************************
01826  2132              ;       ZERO PAGE,Y MODE
01827  2132              ;********************************
01828  2132  20 3B 20    ZEROY  JSR ONEBYT      ;PRINT ONE BYTE
01829  2135  4C D7 22           JMP YINDEX      ;PRINT ,Y
01830  2138              ;*********************************
01831  2138              ;         BIT ABSOLUTE MODE
01832  2138              ;*********************************






DISASSEMBLER20......PAGE 0038

LINE# LOC   CODE        LINE


01833  2138  EA          ABSBIT NOP
01834  2139              ;*********************************
01835  2139              ;         ABSOLUTE MODE
01836  2139              ;*********************************
01837  2139  20 70 20    ABSLUT JSR TWOBYT      ;PRINT TWO BYTE
01838  213C  20 30 23           JSR DECSL       ;DEC TO SECOND
01839  213F  20 30 23           JSR DECSL       ;DEC TO OPCODE
01840  2142  20 1A 23           JSR GETSL       ;GET BYTE
01841  2145  48                 PHA
01842  2146  20 11 23           JSR INCSL
01843  2149  20 11 23           JSR INCSL
01844  214C  68                 PLA
01845  214D  C9 4C              CMP #$4C        ;IS IT JMP
01846  214F  D0 0C              BNE ABSEXT      ;IF NOT EXIT
01847  2151  20 EC 1C           JSR NEWLIN      ;NEXT LINE
01848  2154  20 11 23           JSR INCSL
01849  2157  20 55 22           JSR COMET       ;COMMENT LINE
01850  215A  20 30 23           JSR DECSL
01851  215D  60          ABSEXT RTS             ;RETURN
01852  215E              ;*********************************
01853  215E              ;       ABSOLUTE,X MODE
01854  215E              ;********************************
01855  215E  20 70 20    ABSX   JSR TWOBYT      ;PRINT TWO BYTE
01856  2161  4C CD 22           JMP XINDEX      ;PRINT ,X
01857  2164              ;********************************
01858  2164              ;       ABSOLUTE,Y MODE
01859  2164              ;********************************
01860  2164  20 70 20    ABSY   JSR TWOBYT      ;PRINT TWO BYTE
01861  2167  4C D7 22           JMP YINDEX      ;PRINT ,Y
01862  216A              ;********************************
01863  216A              ;       IMPLIED MODE
01864  216A              ;********************************
01865  216A  20 1A 23    IMPLID JSR GETSL       ;GET BYTE
01866  216D  F0 09              BEQ IMPLI1      ;BRK
01867  216F  C9 60              CMP #$60        ;CHECK CODE
01868  2171  F0 05              BEQ IMPLI1      ;RTS
01869  2173  C9 40              CMP #$40        ;CHECK CODE
01870  2175  F0 01              BEQ IMPLI1      ;RTI
01871  2177  60          IMPONE RTS             ;RETURN
01872  2178  20 EC 1C    IMPLI1 JSR NEWLIN      ;PRINT NEW LINE
01873  217B  20 11 23           JSR INCSL
01874  217E  20 55 22           JSR COMET       ;COMMENT LINE
01875  2181  4C 30 23           JMP DECSL
01876  2184              ;********************************
01877  2184              ;       INDIRECT MODE
01878  2184              ;********************************
01879  2184  20 C3 22    INDRCT JSR LPAREN      ;PRINT (
01880  2187  20 70 20           JSR TWOBYT      ;PRINT TWO BYTE
01881  218A  20 C8 22           JSR RPAREN      ;PRINT )
01882  218D  20 EC 1C           JSR NEWLIN      ;NEXT LINE
01883  2190  20 11 23           JSR INCSL
01884  2193  20 55 22           JSR COMET       ;COMMENT LINE
01885  2196  4C 30 23           JMP DECSL
01886  2199              ;********************************
01887  2199              ;     INDIRECT,X MODE






DISASSEMBLER20......PAGE 0039

LINE# LOC   CODE        LINE


01888  2199              ;********************************
01889  2199  20 C3 22    INDX   JSR LPAREN      ;PRINT (
01890  219C  20 2C 21           JSR ZEROX       ;PRINT $HH,X
01891  219F  4C C8 22           JMP RPAREN      ;PRINT )
01892  21A2              ;********************************
01893  21A2              ;     INDIRECT,Y MODE
01894  21A2              ;********************************
01895  21A2  20 C3 22    INDY   JSR LPAREN      ;PRINT (
01896  21A5  20 3B 20           JSR ONEBYT      ;PRINT ONE BYTE
01897  21A8  20 C8 22           JSR RPAREN      ;PRINT )
01898  21AB  4C D7 22           JMP YINDEX      ;PRINT ,Y
01899  21AE              ;*********************************
01900  21AE              ;      RELATIVE MODE
01901  21AE              ;*********************************
01902  21AE  20 11 23    RELATV JSR INCSL       ;INC BYTE POINTER
01903  21B1  AD 12 12           LDA PASS        ;GET PASS COUNT
01904  21B4  CD 14 12           CMP EPASS       ;EXTERNAL
01905  21B7  F0 44              BEQ RELSYM      ;EXIT ON EXTERNAL
01906  21B9              ;
01907  21B9  AD 22 12           LDA SELECT      ;GET LOW POINTER
01908  21BC  8D 45 12           STA WORKED      ;STORE TEMP
01909  21BF  AD 23 12           LDA SELECT+1    ;GET HIGH POINTER
01910  21C2  8D 46 12           STA WORKED+1    ;STORE TEMP
01911  21C5  EE 45 12           INC WORKED      ;ADD 1 TO ADDRESS
01912  21C8  D0 03              BNE *+5         ;ZERO MEANS CARRY
01913  21CA  EE 46 12           INC WORKED+1    ;INC HIGH ADDRESS
01914  21CD              ;
01915  21CD  20 1A 23           JSR GETSL       ;GET BYTE BRANCH OFFSET
01916  21D0  C9 00              CMP #$00        ;IS IT ZERO
01917  21D2  10 03              BPL FORWRD      ;IF SO BRANCH
01918  21D4  CE 46 12           DEC WORKED+1    ;DEC HIGH POINTER
01919  21D7  18          FORWRD CLC             ;CLEAR CARRY FLAG
01920  21D8  6D 45 12           ADC WORKED      ;ADD IN OPERAND
01921  21DB  90 03              BCC RELND       ;TO SELECT ADDRES
01922  21DD  EE 46 12           INC WORKED+1    ;AND NOW POINTS
01923  21E0  8D 45 12    RELND  STA WORKED      ;TARGET ADDRESS
01924  21E3              ;
01925  21E3  AD 12 12           LDA PASS        ;GET PASS COUNT
01926  21E6  CD 13 12           CMP IPASS       ;INTERNAL
01927  21E9  F0 0F              BEQ RELPUT      ;ADDRESS TABLE
01928  21EB              ;
01929  21EB  20 4A 2D           JSR SYMOP       ;CHECK FOR SYMBOL
01930  21EE  B0 0D              BCS RELSYM      ;C=1 SYMBOL
01931  21F0              ;
01932  21F0  AD 18 12           LDA ROPT        ;CHECK OPTION
01933  21F3  C9 01              CMP #$01        ;REL TO * ?
01934  21F5  F0 07              BEQ RELPC       ;IF SO DO IT
01935  21F7              ;
01936  21F7  4C AD 22           JMP PWORK       ;PRINT ADDRESS
01937  21FA              ;
01938  21FA              RELPUT = *
01939  21FA  4C A1 24           JMP PUTI        ;PUT IN TABLE
01940  21FD              ;
01941  21FD  60          RELSYM RTS             ;RETURN
01942  21FE              ;*********************************






DISASSEMBLER20......PAGE 0040

LINE# LOC   CODE        LINE


01943  21FE              ; PRINT RELATIVE TO PC
01944  21FE              ;*********************************
01945  21FE  20 1A 23    RELPC  JSR GETSL       ;GET BRANCH DATA
01946  2201  48                 PHA             ;SAVE ON STACK
01947  2202  30 07              BMI RELNEG      ;BACKWARD ?
01948  2204  A9 5F              LDA #<POSREL
01949  2206  A0 23              LDY #>POSREL
01950  2208  4C 0F 22           JMP RELPM
01951  220B  A9 63       RELNEG LDA #<NEGREL
01952  220D  A0 23              LDY #>NEGREL
01953  220F  20 A9 1D    RELPM  JSR STRPNT
01954  2212  68                 PLA             ;GET BRANCH DATA
01955  2213  18                 CLC             ;CLEAR CARRY
01956  2214  69 02              ADC #$02        ;ADD 2 FOR BRANCH
01957  2216  10 05              BPL RELP        ;FORWARD ?
01958  2218  18                 CLC             ;CLEAR CARRY
01959  2219  49 FF              EOR #$FF        ;COMPLMENT
01960  221B  69 01              ADC #$01        ;ADD 1 FOR 2'S
01961  221D  20 93 1D    RELP   JSR PRBYT       ;PRINT BRANCH
01962  2220  20 E6 22           JSR SPAC6       ;SPACE
01963  2223  20 B9 22           JSR SEMIC       ;COMMENT CHAR
01964  2226  4C AD 22           JMP PWORK       ;PRINT ADDRESS
01965  2229              ;*********************************
01966  2229              ;  ORGIN LABEL
01967  2229              ;*********************************
01968  2229  20 17 24    ORGIN  JSR PRTOTH      ;PRINT LINE DATA
01969  222C  A9 2A              LDA #'*'        ;PC
01970  222E  20 FF 1D           JSR PCHAR       ;PRINT IT
01971  2231  A9 3D              LDA #'='        ;EQUALS
01972  2233  20 FF 1D           JSR PCHAR       ;PRINT IT
01973  2236  20 BE 22           JSR DOLLAR      ;ASCII $
01974  2239  20 A4 22           JSR PSELEC      ;PRINT ADDRESS
01975  223C  4C EC 1C           JMP NEWLIN      ;START NEWLINE
01976  223F              ;*********************************
01977  223F              ; END OF FILE LABLE
01978  223F              ;*********************************
01979  223F  20 4F 22    EFILE  JSR COMENT      ;COMMENT LINE
01980  2242  20 17 24           JSR PRTOTH      ;PRINT LINE DATA
01981  2245  A9 67              LDA #<MSGEND    ;END MESSAGE
01982  2247  A0 23              LDY #>MSGEND
01983  2249  20 A9 1D           JSR STRPNT      ;PRINT IT
01984  224C  4C EC 1C           JMP NEWLIN      ;NEW LINE
01985  224F              ;*********************************
01986  224F              ; PRINT COMMENT LINE
01987  224F              ;*********************************
01988  224F  20 55 22    COMENT JSR COMET       ;PRINT COMMENT
01989  2252  4C EC 1C           JMP NEWLIN      ;NEXT LINE
01990  2255              ;*********************************
01991  2255  20 17 24    COMET  JSR PRTOTH      ;PRINT LINE DATA
01992  2258  20 B9 22           JSR SEMIC       ;PRINT COMMENT
01993  225B  AD 1C 12           LDA FOROPT
01994  225E  D0 03              BNE CSHORT
01995  2260  A0 20              LDY #$20        ;COUNTER
01996  2262  2C                 .BYTE $2C
01997  2263  A0 10       CSHORT LDY #$10






DISASSEMBLER20......PAGE 0041

LINE# LOC   CODE        LINE


01998  2265  A9 2A       COMPT  LDA #'*'        ;STAR
01999  2267  20 FF 1D           JSR PCHAR       ;PRINT CHAR
02000  226A  88                 DEY             ;DEC COUNTER
02001  226B  D0 F8              BNE COMPT       ;20 OR 10 STARS
02002  226D  60                 RTS             ;RETURN
02003  226E              ;*********************************
02004  226E              ;     PRINT SELECTED ADDRESS
02005  226E              ;*********************************
02006  226E  A9 58       PRLA   LDA #'X'        ;XX LABEL
02007  2270  20 FF 1D           JSR PCHAR       ;
02008  2273  A9 58              LDA #'X'        ;
02009  2275  4C FF 1D           JMP PCHAR       ;
02010  2278              ;*********************************
02011  2278              ; PRINT CODE ADDRESS
02012  2278              ;*********************************
02013  2278  20 36 2D    PRAD   JSR SYM         ;CHECK FOR SYMBOLIC
02014  227B  B0 1F              BCS NPRAD1      ;C=1 SYMBOLIC LABEL
02015  227D  AD 17 12           LDA XOPT        ;CHECK GENERATION
02016  2280  F0 10              BEQ P1          ;NO LABELS
02017  2282  20 00 25           JSR INTCHA      ;IS ADDRESS IN TAB
02018  2285  B0 0B              BCS P1          ;C=1 YES
02019  2287  AD 1C 12           LDA FOROPT      ;CHECK FORMAT
02020  228A  F0 03              BEQ POVER       ;STD FORMAT
02021  228C  4C F3 22           JMP SPACE       ;ONE SPACE
02022  228F  4C E6 22    POVER  JMP SPAC6       ;SPACE OVER
02023  2292              ;*********************************
02024  2292              ; PRINT ADDRESS AS LABEL
02025  2292              ;*********************************
02026  2292  20 6E 22    P1     JSR PRLA        ;PRINT XX
02027  2295  20 A4 22           JSR PSELEC      ;PRINT ADDRESS
02028  2298  EA                 NOP
02029  2299  EA                 NOP
02030  229A  EA                 NOP
02031  229B  60          NPRAD  RTS             ;RETURN
02032  229C              ;*********************************
02033  229C  AD 1C 12    NPRAD1 LDA FOROPT
02034  229F  D0 FA              BNE NPRAD
02035  22A1  4C E7 2D           JMP FIXSYM
02036  22A4              ;*********************************
02037  22A4              ; PRINT SELECT ADDRESS
02038  22A4              ;*********************************
02039  22A4  AD 22 12    PSELEC LDA SELECT      ;LOW BYTE
02040  22A7  AC 23 12           LDY SELECT+1    ;HIGH BYTE
02041  22AA  4C 8D 1D           JMP PRBYTS      ;PRINT THEM
02042  22AD              ;*********************************
02043  22AD              ; PRINT WORKED ADDRESS WITH XX
02044  22AD              ;*********************************
02045  22AD  20 6E 22    PWORK  JSR PRLA        ;PRINT XX
02046  22B0              ;*********************************
02047  22B0              ; PRINT WORKED ADDRESS
02048  22B0              ;*********************************
02049  22B0  AD 45 12    PWORKD LDA WORKED      ;LOW BYTE
02050  22B3  AC 46 12           LDY WORKED+1    ;HIGH BYTE
02051  22B6  4C 8D 1D           JMP PRBYTS      ;PRINT THEM
02052  22B9              ;********************************






DISASSEMBLER20......PAGE 0042

LINE# LOC   CODE        LINE


02053  22B9              ; PRINT SEMICOLON FOR COMMENT
02054  22B9              ;********************************
02055  22B9  A9 3B       SEMIC  LDA #';'
02056  22BB  4C FF 1D           JMP PCHAR
02057  22BE              ;********************************
02058  22BE              ; PRINT DOLLAR SIGN FOR HEX
02059  22BE              ;********************************
02060  22BE  A9 24       DOLLAR LDA #'$'
02061  22C0  4C FF 1D           JMP PCHAR
02062  22C3              ;********************************
02063  22C3              ; PRINT LEFT PARENTTHESES
02064  22C3              ;********************************
02065  22C3  A9 28       LPAREN LDA #'('
02066  22C5  4C FF 1D           JMP PCHAR
02067  22C8              ;********************************
02068  22C8              ; PRINT RIGHT PARENTTHESES
02069  22C8              ;********************************
02070  22C8  A9 29       RPAREN LDA #')'
02071  22CA  4C FF 1D           JMP PCHAR
02072  22CD              ;********************************
02073  22CD              ; PRINT A COMMA AND AN "X"
02074  22CD              ;********************************
02075  22CD  A9 2C       XINDEX LDA #','
02076  22CF  20 FF 1D           JSR PCHAR
02077  22D2  A9 58              LDA #'X'
02078  22D4  4C FF 1D           JMP PCHAR
02079  22D7              ;********************************
02080  22D7              ; PRINT A COMMA AND A "Y"
02081  22D7              ;********************************
02082  22D7  A9 2C       YINDEX LDA #','
02083  22D9  20 FF 1D           JSR PCHAR
02084  22DC  A9 59              LDA #'Y'
02085  22DE  4C FF 1D           JMP PCHAR
02086  22E1              ;********************************
02087  22E1              ; PRINT CARRAIGE RETURN
02088  22E1              ;*********************************
02089  22E1  A9 0D       CRLF   LDA #$0D        ;ASCII CR
02090  22E3  4C FF 1D           JMP PCHAR       ;PRINT
02091  22E6              ;*********************************
02092  22E6              ; PRINT SIX SPACES
02093  22E6              ;*********************************
02094  22E6  A9 05       SPAC6  LDA #$05
02095  22E8  8D 51 12    SPACM  STA TEMP
02096  22EB  20 F3 22    SPAC   JSR SPACE
02097  22EE  CE 51 12           DEC TEMP
02098  22F1  D0 F8              BNE SPAC
02099  22F3              ;*********************************
02100  22F3              ; PRINT SPACE
02101  22F3              ;*********************************
02102  22F3  A9 20       SPACE  LDA #$20        ;ASCII SPACE
02103  22F5  4C FF 1D           JMP PCHAR       ;PRINT
02104  22F8              ;*********************************
02105  22F8              ; SELECT NEXT BYTE
02106  22F8              ;*********************************
02107  22F8  AD 23 12    NEXTSL LDA SELECT+1






DISASSEMBLER20......PAGE 0043

LINE# LOC   CODE        LINE


02108  22FB  CD 21 12           CMP EA+1
02109  22FE  90 0A              BCC SLOK
02110  2300  D0 0D              BNE NOINC
02111  2302  AD 22 12           LDA SELECT
02112  2305  CD 20 12           CMP EA
02113  2308  B0 05              BCS NOINC
02114  230A  20 11 23    SLOK   JSR INCSL
02115  230D  18                 CLC
02116  230E  60                 RTS
02117  230F  38          NOINC  SEC
02118  2310  60                 RTS
02119  2311              ;*********************************
02120  2311              ; INC SELECTED BYTE
02121  2311              ;*********************************
02122  2311  EE 22 12    INCSL  INC SELECT
02123  2314  D0 03              BNE *+5
02124  2316  EE 23 12           INC SELECT+1
02125  2319  60                 RTS
02126  231A              ;*********************************
02127  231A              ; GET SELECTED BYTE
02128  231A              ;*********************************
02129  231A  18          GETSL  CLC
02130  231B  AD 22 12           LDA SELECT
02131  231E  6D 24 12           ADC OFFSET
02132  2321  85 02              STA ZEROUR
02133  2323  AD 23 12           LDA SELECT+1
02134  2326  6D 25 12           ADC OFFSET+1
02135  2329  85 03              STA ZEROUR+1
02136  232B  A0 00              LDY #$00
02137  232D  B1 02              LDA (ZEROUR),Y
02138  232F  60                 RTS
02139  2330              ;*********************************
02140  2330              ; DEC SLECTED BYTE
02141  2330              ;*********************************
02142  2330  AD 22 12    DECSL  LDA SELECT
02143  2333  D0 03              BNE *+5
02144  2335  CE 23 12           DEC SELECT+1
02145  2338  CE 22 12           DEC SELECT
02146  233B  60                 RTS
02147  233C              ;*********************************
02148  233C              ; INITIALIZE SELECT
02149  233C              ;*********************************
02150  233C  AD 1E 12    INTSA  LDA SA
02151  233F  8D 22 12           STA SELECT
02152  2342  AD 1F 12           LDA SA+1
02153  2345  8D 23 12           STA SELECT+1
02154  2348  60                 RTS
02155  2349              ;*********************************
02156  2349              ; ASCII STRING DATA
02157  2349              ;*********************************
02158  2349  2E 42       MSGBIT .BYTE '.BYTE $',0
02158  2350  00 
02159  2351  20 3B       MSGBZP .BYTE '         ;BIT ZP SKIP',0
02159  235E  00 
02160  235F  2A 2B 24    POSREL .BYTE '*+$',0






DISASSEMBLER20......PAGE 0044

LINE# LOC   CODE        LINE


02160  2362  00 
02161  2363  2A 2D 24    NEGREL .BYTE '*-$',0
02161  2366  00 
02162  2367  2E 45       MSGEND .BYTE '.END',0
02162  236B  00 
02163  236C  3B 3F       ILLMSG .BYTE ';??? ILLEGAL OPCODE',0
02163  237F  00 
02164  2380              ;*********************************
02165  2380              ; PRINT ONE BYTE OPCODE DATA
02166  2380              ;*********************************
02167  2380  20 1A 23    PRTONE JSR GETSL       ;GET BYTE
02168  2383  20 93 1D           JSR PRBYT       ;PRINT BYTE
02169  2386  AD 1C 12           LDA FOROPT
02170  2389  F0 03              BEQ PRTON1
02171  238B  A9 07              LDA #$07
02172  238D  2C                 .BYTE $2C
02173  238E  A9 09       PRTON1 LDA #$09        ;10 SPACES
02174  2390  20 E8 22           JSR SPACM       ;
02175  2393  4C EC 23           JMP PRTEST      ;RESET I/O DEVICE
02176  2396              ;*********************************
02177  2396              ; PRINT TWO BYTE OPCODE DATA
02178  2396              ;*********************************
02179  2396  20 1A 23    PRTTWO JSR GETSL       ;GET BYTE
02180  2399  20 93 1D           JSR PRBYT       ;PRINT BYTE
02181  239C  20 F3 22           JSR SPACE       ;
02182  239F  20 11 23           JSR INCSL       ;INC TO OPERAND
02183  23A2  20 1A 23           JSR GETSL       ;GET BYTE
02184  23A5  20 93 1D           JSR PRBYT       ;PRINT IT
02185  23A8  AD 1C 12           LDA FOROPT
02186  23AB  F0 03              BEQ PRTTW1
02187  23AD  A9 04              LDA #$04
02188  23AF  2C                 .BYTE $2C
02189  23B0  A9 06       PRTTW1 LDA #$06        ;7 SPACES
02190  23B2  20 E8 22           JSR SPACM       ;
02191  23B5  20 30 23           JSR DECSL       ;RESET POINTER
02192  23B8  4C EC 23           JMP PRTEST      ;RESET I/O DEVICE
02193  23BB              ;*********************************
02194  23BB              ; PRINT THREE BYTE OPCODE DATA
02195  23BB              ;*********************************
02196  23BB  20 1A 23    PRTTHE JSR GETSL       ;GET BYTE
02197  23BE  20 93 1D           JSR PRBYT       ;PRINT BYTE
02198  23C1  20 F3 22           JSR SPACE       ;
02199  23C4  20 11 23           JSR INCSL       ;INC TO OPERAND
02200  23C7  20 1A 23           JSR GETSL       ;GET BYTE
02201  23CA  20 93 1D           JSR PRBYT       ;PRINT IT
02202  23CD  20 F3 22           JSR SPACE       ;
02203  23D0  20 11 23           JSR INCSL       ;INC TO LAST BYTE
02204  23D3  20 1A 23           JSR GETSL       ;GET BYTE
02205  23D6  20 93 1D           JSR PRBYT       ;PRINT IT
02206  23D9  AD 1C 12           LDA FOROPT
02207  23DC  F0 03              BEQ PRTTH1
02208  23DE  A9 01              LDA #$01
02209  23E0  2C                 .BYTE $2C
02210  23E1  A9 03       PRTTH1 LDA #$03        ;4 SPACES
02211  23E3  20 E8 22           JSR SPACM       ;






DISASSEMBLER20......PAGE 0045

LINE# LOC   CODE        LINE


02212  23E6  20 30 23           JSR DECSL       ;DEC POINTER
02213  23E9  20 30 23           JSR DECSL       ;DEC POINTER
02214  23EC              ;*********************************
02215  23EC              ; RESET I/O DEVICE (DISK IF USED)
02216  23EC              ;*********************************
02217  23EC  AD 1A 12    PRTEST LDA OUTPUT      ;GET I/O DEVICE
02218  23EF  8D 19 12           STA DEVICE      ;RESET I/O
02219  23F2  60                 RTS             ;RETURN
02220  23F3              ;*********************************
02221  23F3              ; PRINT LINE DATA FOR OPCODE
02222  23F3              ;*********************************
02223  23F3  AD 19 12    PRTDAT LDA DEVICE      ;OUTPUT DEVICE
02224  23F6  29 07              AND #$07        ;MASK DISK
02225  23F8  8D 19 12           STA DEVICE      ;RESET
02226  23FB  AD 1C 12           LDA FOROPT      ;CHECK FORMAT
02227  23FE  D0 0F              BNE PRTDAF      ;SKIP LINE #
02228  2400  AD 59 12           LDA LINECT+1    ;HIH BYTE LINE
02229  2403  AE 58 12           LDX LINECT      ;LOW BYTE LINE
02230  2406  20 C5 1D           JSR PRTNUM      ;PRINT NUMBER
02231  2409  20 F3 22           JSR SPACE       ;
02232  240C  20 F3 22           JSR SPACE       ;
02233  240F  20 A4 22    PRTDAF JSR PSELEC      ;PRINT ADDRESS
02234  2412  A9 01              LDA #$01        ;2 SPACES
02235  2414  4C E8 22           JMP SPACM       ;
02236  2417              ;*********************************
02237  2417              ; PRINT LINE DATA FOR OTHER LINES
02238  2417              ;*********************************
02239  2417  20 F3 23    PRTOTH JSR PRTDAT      ;PRINT LINE
02240  241A  AD 1C 12           LDA FOROPT
02241  241D  F0 03              BEQ PRTOT1
02242  241F  A9 09              LDA #$09
02243  2421  2C                 .BYTE $2C
02244  2422  A9 0B       PRTOT1 LDA #$0B        ;12 SPACES
02245  2424  20 E8 22           JSR SPACM       ;
02246  2427  4C EC 23           JMP PRTEST      ;RESET I/O
02247  242A              ;********************************
02248  242A              ;.FIL 0:INTERNAL.ASM
02249  242A              ;********************************
02250  242A              ;.END
02251  242A              ;*********************************
02252  242A              ; FILE INTERNAL.ASM
02253  242A              ;*********************************
02254  242A              ;
02255  242A              ;        DISASSEMBLER64
02256  242A              ;    SYMBOLIC DISASSEMBLER
02257  242A              ;       BY DENTON MARLOWE
02258  242A              ;
02259  242A              ;  (C)1986 BY DENTON MARLOWE
02260  242A              ;
02261  242A              ;*********************************
02262  242A              ; INTERNAL ADDRESS TABLE ROUTINES
02263  242A              ;*********************************
02264  242A              ; CHECK FOR OUT OF RANGE ADDRESS
02265  242A              ;*********************************
02266  242A  AD 46 12    RANGE  LDA WORKED+1    ;GET HIGH






DISASSEMBLER20......PAGE 0046

LINE# LOC   CODE        LINE


02267  242D  CD 29 12           CMP EAGOL+1     ;COMPARE
02268  2430  90 0A              BCC RANG        ;< CHECK START
02269  2432  D0 1A              BNE ROUT        ;> OUT OF RANGE
02270  2434  AD 45 12           LDA WORKED      ;GET LOW
02271  2437  CD 28 12           CMP EAGOL       ;COMPARE
02272  243A  B0 12              BCS ROUT        ;> OUT OF RANGE
02273  243C              ;*********************************
02274  243C  AD 46 12    RANG   LDA WORKED+1    ;GET HIGH
02275  243F  CD 27 12           CMP SAGOL+1     ;COMPARE
02276  2442  90 0A              BCC ROUT        ;< OUT OF RANGE
02277  2444  AD 45 12           LDA WORKED      ;GET LOW
02278  2447  CD 26 12           CMP SAGOL       ;COMPARE
02279  244A  90 02              BCC ROUT        ;< OUT OF RANGE
02280  244C              ;*********************************
02281  244C  18                 CLC             ;C=0 IN RANGE
02282  244D  60                 RTS
02283  244E  38          ROUT   SEC             ;C=1 OUT RANGE
02284  244F  60                 RTS
02285  2450              ;*********************************
02286  2450              ; INITIALIZE INTERNAL TABLE
02287  2450              ;*********************************
02288  2450  AD EF 12    INITIN LDA DATABE
02289  2453  8D 30 12           STA TABINS
02290  2456  8D 32 12           STA TABINE
02291  2459  AD F0 12           LDA DATABE+1
02292  245C  8D 31 12           STA TABINS+1
02293  245F  8D 33 12           STA TABINE+1
02294  2462              ;*********************************
02295  2462              ; INITIALIZE INTERNAL TABLE POINT
02296  2462              ;*********************************
02297  2462  AD 30 12    INTSET LDA TABINS
02298  2465  8D 2E 12           STA TABINP
02299  2468  AD 31 12           LDA TABINS+1
02300  246B  8D 2F 12           STA TABINP+1
02301  246E  60                 RTS
02302  246F              ;*********************************
02303  246F              ; SAVE INTERNAL TABLE POINTERS
02304  246F              ;*********************************
02305  246F  AD 30 12    SAVINT LDA TABINS
02306  2472  8D 4B 12           STA SAVES
02307  2475  AD 31 12           LDA TABINS+1
02308  2478  8D 4C 12           STA SAVES+1
02309  247B  AD 32 12           LDA TABINE
02310  247E  8D 4D 12           STA SAVEE
02311  2481  AD 33 12           LDA TABINE+1
02312  2484  8D 4E 12           STA SAVEE+1
02313  2487  60                 RTS
02314  2488              ;*********************************
02315  2488              ; RESTORE INTERNAL TABLE POINTERS
02316  2488              ;*********************************
02317  2488  AD 4B 12    RESINT LDA SAVES
02318  248B  8D 30 12           STA TABINS
02319  248E  AD 4C 12           LDA SAVES+1
02320  2491  8D 31 12           STA TABINS+1
02321  2494  AD 4D 12           LDA SAVEE






DISASSEMBLER20......PAGE 0047

LINE# LOC   CODE        LINE


02322  2497  8D 32 12           STA TABINE
02323  249A  AD 4E 12           LDA SAVEE+1
02324  249D  8D 33 12           STA TABINE+1
02325  24A0  60                 RTS
02326  24A1              ;*********************************
02327  24A1              ; PUT ADDRESS IN INTERNAL TABLE
02328  24A1              ;*********************************
02329  24A1  38          PUTI   SEC
02330  24A2  AD 30 12           LDA TABINS
02331  24A5  ED 32 12           SBC TABINE
02332  24A8  8D 51 12           STA TEMP
02333  24AB  AD 31 12           LDA TABINS+1
02334  24AE  ED 33 12           SBC TABINE+1
02335  24B1  0D 51 12           ORA TEMP
02336  24B4  F0 05              BEQ PUIT
02337  24B6              ;
02338  24B6  20 0C 25           JSR INTCHK      ;IS ADDRESS IN TAB
02339  24B9  B0 23              BCS INTEXT      ;IF SO EXIT
02340  24BB              ;
02341  24BB  AD 32 12    PUIT   LDA TABINE      ;GET LOW END
02342  24BE  85 02              STA ZEROUR      ;STORE
02343  24C0  AD 33 12           LDA TABINE+1    ;GET HIGH END
02344  24C3  85 03              STA ZEROUR+1    ;STORE
02345  24C5  A0 00              LDY #$00        ;OFFSET
02346  24C7  AD 45 12           LDA WORKED      ;GET LOW ADDRESS
02347  24CA  91 02              STA (ZEROUR),Y  ;PUT IN TABLE
02348  24CC  C8                 INY             ;OFFSET TO HIGH
02349  24CD  AD 46 12           LDA WORKED+1    ;GET HIGH ADDRESS
02350  24D0  91 02              STA (ZEROUR),Y  ;PUT IN TABLE
02351  24D2              ;
02352  24D2  20 B9 22           JSR SEMIC       ;PRINT ;
02353  24D5  20 B0 22           JSR PWORKD      ;PRINT ADDRESS
02354  24D8              ;*********************************
02355  24D8  20 E0 24           JSR INCIE       ;INC TO HIGH & LOW
02356  24DB  4C E0 24           JMP INCIE       ;INC TO HIGH & LOW
02357  24DE              ;
02358  24DE              INTEXT = *
02359  24DE  18                 CLC             ;C=0 FOR NO MATCH
02360  24DF  60                 RTS             ;RETURN
02361  24E0              ;*********************************
02362  24E0              ; INC INTERNAL END TABLE POINTER
02363  24E0              ;*********************************
02364  24E0  EE 32 12    INCIE  INC TABINE
02365  24E3  D0 03              BNE *+5
02366  24E5  EE 33 12           INC TABINE+1
02367  24E8              ;*********************************
02368  24E8              ; INC INTERNAL ADDRESS POINTER
02369  24E8              ;*********************************
02370  24E8  EE 2E 12    INCI   INC TABINP
02371  24EB  D0 03              BNE *+5
02372  24ED  EE 2F 12           INC TABINP+1
02373  24F0  60                 RTS
02374  24F1              ;*********************************
02375  24F1              ; GET BYTE FROM INTERNAL TABLE
02376  24F1              ;*********************************






DISASSEMBLER20......PAGE 0048

LINE# LOC   CODE        LINE


02377  24F1  AD 2E 12    GETI   LDA TABINP
02378  24F4  85 02              STA ZEROUR
02379  24F6  AD 2F 12           LDA TABINP+1
02380  24F9  85 03              STA ZEROUR+1
02381  24FB  A0 00              LDY #$00
02382  24FD  B1 02              LDA (ZEROUR),Y
02383  24FF  60                 RTS
02384  2500              ;*********************************
02385  2500              ; CHECK IF ADDRESS IN TABLE
02386  2500              ;*********************************
02387  2500  AD 22 12    INTCHA LDA SELECT
02388  2503  8D 45 12           STA WORKED
02389  2506  AD 23 12           LDA SELECT+1
02390  2509  8D 46 12           STA WORKED+1
02391  250C              ;*********************************
02392  250C  20 62 24    INTCHK JSR INTSET
02393  250F  20 F1 24    INTCH  JSR GETI
02394  2512  8D 47 12           STA WORKER
02395  2515  20 E8 24           JSR INCI
02396  2518  20 F1 24           JSR GETI
02397  251B  8D 48 12           STA WORKER+1
02398  251E  38                 SEC
02399  251F  AD 46 12           LDA WORKED+1
02400  2522  ED 48 12           SBC WORKER+1
02401  2525  8D 51 12           STA TEMP
02402  2528  AD 45 12           LDA WORKED
02403  252B  ED 47 12           SBC WORKER
02404  252E  0D 51 12           ORA TEMP
02405  2531  F0 17              BEQ INTMAT
02406  2533              ;*********************************
02407  2533  20 E8 24           JSR INCI
02408  2536  AD 2F 12           LDA TABINP+1
02409  2539  CD 33 12           CMP TABINE+1
02410  253C  90 D1              BCC INTCH
02411  253E  D0 08              BNE INTEND
02412  2540  AD 2E 12           LDA TABINP
02413  2543  CD 32 12           CMP TABINE
02414  2546  90 C7              BCC INTCH
02415  2548              ;*********************************
02416  2548  18          INTEND CLC
02417  2549  60                 RTS
02418  254A  38          INTMAT SEC
02419  254B  60                 RTS
02420  254C              ;*********************************
02421  254C              ; 2 BYTE TABLE SORT ROUTINE
02422  254C              ;*********************************
02423  254C  20 62 24    SORT   JSR INTSET      ;SET POINTERS
02424  254F  AD 30 12           LDA TABINS
02425  2552  8D 34 12           STA SMALLS
02426  2555  8D 36 12           STA SMALLP
02427  2558  AD 31 12           LDA TABINS+1
02428  255B  8D 35 12           STA SMALLS+1
02429  255E  8D 37 12           STA SMALLP+1
02430  2561              ;*********************************
02431  2561              ; PUT FIRST WORD INTO TEMP






DISASSEMBLER20......PAGE 0049

LINE# LOC   CODE        LINE


02432  2561              ;*********************************
02433  2561  20 F1 24    SORT1  JSR GETI
02434  2564  8D 51 12           STA TEMP
02435  2567  20 E8 24           JSR INCI
02436  256A  20 F1 24           JSR GETI
02437  256D  8D 52 12           STA TEMP+1
02438  2570              ;*********************************
02439  2570              ; INC TO NEXT WORD AND COMPARE
02440  2570              ; SMALLP POINTS TO LOW BYTE
02441  2570              ;*********************************
02442  2570  20 E8 24    SORT2  JSR INCI
02443  2573  AD 2E 12           LDA TABINP
02444  2576  8D 36 12           STA SMALLP
02445  2579  AD 2F 12           LDA TABINP+1
02446  257C  8D 37 12           STA SMALLP+1
02447  257F  20 F1 24           JSR GETI
02448  2582  8D 45 12           STA WORKED
02449  2585  20 E8 24           JSR INCI
02450  2588  AD 2F 12           LDA TABINP+1
02451  258B  CD 33 12           CMP TABINE+1
02452  258E  90 0D              BCC T2
02453  2590  D0 08              BNE S3
02454  2592  AD 2E 12           LDA TABINP
02455  2595  CD 32 12           CMP TABINE
02456  2598  90 03              BCC T2
02457  259A  4C F2 25    S3     JMP SORT3
02458  259D  20 F1 24    T2     JSR GETI
02459  25A0  8D 46 12           STA WORKED+1
02460  25A3  CD 52 12           CMP TEMP+1
02461  25A6  90 0D              BCC SMALL
02462  25A8  D0 08              BNE LARGE
02463  25AA  AD 45 12           LDA WORKED
02464  25AD  CD 51 12           CMP TEMP
02465  25B0  90 03              BCC SMALL
02466  25B2  4C 70 25    LARGE  JMP SORT2
02467  25B5              ;*********************************
02468  25B5              ; WORD IS SMALL THAN TEMP PUT IT
02469  25B5              ; WHERE TEMP CAME FROM (SMALLS)
02470  25B5              ;*********************************
02471  25B5  AD 34 12    SMALL  LDA SMALLS
02472  25B8  85 02              STA ZEROUR
02473  25BA  AD 35 12           LDA SMALLS+1
02474  25BD  85 03              STA ZEROUR+1
02475  25BF  A0 00              LDY #$00
02476  25C1  AD 45 12           LDA WORKED
02477  25C4  91 02              STA (ZEROUR),Y
02478  25C6  C8                 INY
02479  25C7  AD 46 12           LDA WORKED+1
02480  25CA  91 02              STA (ZEROUR),Y
02481  25CC              ;*********************************
02482  25CC              ; PUT TEMP IN PLACE OF WORD
02483  25CC              ; SMALLP POINTS TO LO ADDRESS
02484  25CC              ;*********************************
02485  25CC  AD 36 12           LDA SMALLP
02486  25CF  85 02              STA ZEROUR






DISASSEMBLER20......PAGE 0050

LINE# LOC   CODE        LINE


02487  25D1  AD 37 12           LDA SMALLP+1
02488  25D4  85 03              STA ZEROUR+1
02489  25D6  A0 00              LDY #$00
02490  25D8  AD 51 12           LDA TEMP
02491  25DB  91 02              STA (ZEROUR),Y
02492  25DD  C8                 INY
02493  25DE  AD 52 12           LDA TEMP+1
02494  25E1  91 02              STA (ZEROUR),Y
02495  25E3              ;*********************************
02496  25E3  AD 34 12           LDA SMALLS
02497  25E6  8D 2E 12           STA TABINP
02498  25E9  AD 35 12           LDA SMALLS+1
02499  25EC  8D 2F 12           STA TABINP+1
02500  25EF  4C 61 25           JMP SORT1
02501  25F2              ;*********************************
02502  25F2              ; IF AFTER SCAN TO TABLE GOTO NEXT
02503  25F2              ; WORD IN TABLE FOR CHECK
02504  25F2              ;*********************************
02505  25F2  18          SORT3  CLC
02506  25F3  AD 34 12           LDA SMALLS
02507  25F6  69 02              ADC #$02
02508  25F8  8D 34 12           STA SMALLS
02509  25FB  8D 2E 12           STA TABINP
02510  25FE  AD 35 12           LDA SMALLS+1
02511  2601  69 00              ADC #$00
02512  2603  8D 35 12           STA SMALLS+1
02513  2606  8D 2F 12           STA TABINP+1
02514  2609  AD 35 12           LDA SMALLS+1
02515  260C  CD 33 12           CMP TABINE+1
02516  260F  90 0A              BCC SORTOK
02517  2611  D0 0B              BNE SORT4
02518  2613  AD 34 12           LDA SMALLS
02519  2616  CD 32 12           CMP TABINE
02520  2619  B0 03              BCS SORT4
02521  261B  4C 61 25    SORTOK JMP SORT1
02522  261E              ;*********************************
02523  261E  4C 62 24    SORT4  JMP INTSET
02524  2621              ;*********************************
02525  2621              ; PRINT INTERNAL ADDRESS TABLE
02526  2621              ;*********************************
02527  2621  38          INTPRT SEC
02528  2622  AD 30 12           LDA TABINS
02529  2625  ED 32 12           SBC TABINE
02530  2628  8D 51 12           STA TEMP
02531  262B  AD 31 12           LDA TABINS+1
02532  262E  ED 33 12           SBC TABINE+1
02533  2631  0D 51 12           ORA TEMP
02534  2634  D0 01              BNE INTOUT
02535  2636  60                 RTS
02536  2637              ;*********************************
02537  2637  20 D6 1E    INTOUT JSR HEADSY
02538  263A  20 4C 25           JSR SORT
02539  263D              ;*********************************
02540  263D  A9 03       LOOP1  LDA #$03
02541  263F  8D 52 12           STA SAVA






DISASSEMBLER20......PAGE 0051

LINE# LOC   CODE        LINE


02542  2642  20 F1 24    INTPR  JSR GETI
02543  2645  8D 45 12           STA WORKED
02544  2648  20 E8 24           JSR INCI
02545  264B  20 F1 24           JSR GETI
02546  264E  8D 46 12           STA WORKED+1
02547  2651  20 F3 22           JSR SPACE
02548  2654  20 4A 2D           JSR SYMOP
02549  2657  90 0B              BCC INTPRS
02550  2659  20 E7 2D           JSR FIXSYM
02551  265C  A9 02              LDA #$02
02552  265E  20 E8 22           JSR SPACM
02553  2661  4C 69 26           JMP INTPRM
02554  2664  A9 08       INTPRS LDA #$08
02555  2666  20 E8 22           JSR SPACM
02556  2669  20 B0 22    INTPRM JSR PWORKD
02557  266C  20 E8 24           JSR INCI
02558  266F  AD 2F 12           LDA TABINP+1
02559  2672  CD 33 12           CMP TABINE+1
02560  2675  90 0A              BCC PRTOK
02561  2677  D0 15              BNE PREND
02562  2679  AD 2E 12           LDA TABINP
02563  267C  CD 32 12           CMP TABINE
02564  267F  B0 0D              BCS PREND
02565  2681  CE 52 12    PRTOK  DEC SAVA
02566  2684  30 0B              BMI LOOP2
02567  2686  A9 02              LDA #$02
02568  2688  20 E8 22           JSR SPACM
02569  268B  4C 42 26           JMP INTPR
02570  268E  4C AB 1E    PREND  JMP NEXPTS
02571  2691  20 AB 1E    LOOP2  JSR NEXPTS
02572  2694  4C 3D 26           JMP LOOP1
02573  2697              ;*********************************
02574  2697              ;.FIL 0:ASC.ASM
02575  2697              ;*********************************
02576  2697              ;.END
02577  2697              ;*********************************
02578  2697              ; FILE ASC.ASM
02579  2697              ;*********************************
02580  2697              ;
02581  2697              ;        DISASSEMBLER64
02582  2697              ;    SYMBOLIC DISASSEMBLER
02583  2697              ;       BY DENTON MARLOWE
02584  2697              ;
02585  2697              ;  (C)1986 BY DENTON MARLOWE
02586  2697              ;
02587  2697              ;*********************************
02588  2697              ; DATA TABLE HANDLER
02589  2697              ;*********************************
02590  2697  AD E9 12    DATAOP LDA NDATA       ;GET NUM TABLES
02591  269A  F0 07              BEQ ENDAX       ;IF ZERO EXIT
02592  269C  A9 00              LDA #$00        ;ZERO BYTE
02593  269E  8D E7 12           STA CDATA       ;SET FIRST TABLE
02594  26A1  F0 03              BEQ DATAO1      ;
02595  26A3  4C 87 27    ENDAX  JMP ENDDAT      ;
02596  26A6              ;*********************************






DISASSEMBLER20......PAGE 0052

LINE# LOC   CODE        LINE


02597  26A6  AD E7 12    DATAO1 LDA CDATA       ;CURRENT TABLE
02598  26A9  CD E9 12           CMP NDATA       ;LAST TABLE DONE
02599  26AC  F0 F5              BEQ ENDAX       ;IF SO EXIT
02600  26AE  0A                 ASL A           ;CDATA*2
02601  26AF  0A                 ASL A           ;CDATA*4
02602  26B0  18                 CLC
02603  26B1  6D E7 12           ADC CDATA       ;CDATA*5
02604  26B4  A8                 TAY             ;PUT INTO INDEX
02605  26B5  B9 F1 12           LDA TDATA,Y     ;START LOW
02606  26B8  8D 47 12           STA WORKER      ;STORE
02607  26BB  C8                 INY             ;INC OFFSET
02608  26BC  B9 F1 12           LDA TDATA,Y     ;START HIGH
02609  26BF  8D 48 12           STA WORKER+1    ;STORE
02610  26C2  38                 SEC             ;C=1
02611  26C3  AD 47 12           LDA WORKER      ;
02612  26C6  ED 22 12           SBC SELECT      ;
02613  26C9  8D 51 12           STA TEMP        ;
02614  26CC  AD 48 12           LDA WORKER+1    ;
02615  26CF  ED 23 12           SBC SELECT+1    ;
02616  26D2  0D 51 12           ORA TEMP        ;
02617  26D5  F0 05              BEQ DATAO2      ;MATCH
02618  26D7  EE E7 12           INC CDATA       ;NEXT TABLE
02619  26DA  D0 CA              BNE DATAO1      ;CHECK FOR MATCH
02620  26DC              ;*********************************
02621  26DC              ; GET TABLE DATA
02622  26DC              ;*********************************
02623  26DC  C8          DATAO2 INY             ;INC OFFSET
02624  26DD  B9 F1 12           LDA TDATA,Y     ;END LOW
02625  26E0  8D E4 12           STA EAS         ;STORE
02626  26E3  C8                 INY             ;INC OFFSET
02627  26E4  B9 F1 12           LDA TDATA,Y     ;END HIGH
02628  26E7  8D E5 12           STA EAS+1       ;STORE
02629  26EA  C8                 INY             ;INC OFFSET
02630  26EB  B9 F1 12           LDA TDATA,Y     ;DATA TYPE
02631  26EE  8D E6 12           STA TEXTER      ;STORE
02632  26F1  C9 53              CMP #'S'        ;IS IT SKIPPER
02633  26F3  D0 23              BNE ASCCCC      ;
02634  26F5              ;*********************************
02635  26F5              ; SKIP RANGE OF ADDRESSES
02636  26F5              ;*********************************
02637  26F5  AD 12 12           LDA PASS
02638  26F8  CD 15 12           CMP CPASS
02639  26FB  D0 1B              BNE ASCCCC
02640  26FD  AD E4 12           LDA EAS
02641  2700  8D 22 12           STA SELECT
02642  2703  AD E5 12           LDA EAS+1
02643  2706  8D 23 12           STA SELECT+1
02644  2709  20 11 23           JSR INCSL
02645  270C  20 29 22           JSR ORGIN
02646  270F  20 30 23           JSR DECSL
02647  2712  20 4F 22           JSR COMENT
02648  2715  4C 84 27           JMP DATUT
02649  2718              ;*********************************
02650  2718              ; CHECK PASS
02651  2718              ;*********************************






DISASSEMBLER20......PAGE 0053

LINE# LOC   CODE        LINE


02652  2718  AD 12 12    ASCCCC LDA PASS
02653  271B  CD 14 12           CMP EPASS       ;EXTERNAL
02654  271E  D0 0F              BNE ASCKK
02655  2720  AD E4 12    SKIPER LDA EAS
02656  2723  8D 22 12           STA SELECT
02657  2726  AD E5 12           LDA EAS+1
02658  2729  8D 23 12           STA SELECT+1
02659  272C  4C 84 27           JMP DATUT
02660  272F              ;*********************************
02661  272F              ; DISASSEMBLER LOOP FOR DATA
02662  272F              ;*********************************
02663  272F  AD 12 12    ASCKK  LDA PASS        ;GET PASS
02664  2732  CD 15 12           CMP CPASS       ;IS IT LAST
02665  2735  D0 0E              BNE ASCI1       ;NO PRINT
02666  2737  20 4F 22           JSR COMENT      ;COMMENT LINE
02667  273A  AD 12 12    ASCII  LDA PASS        ;GET PASS
02668  273D  CD 15 12           CMP CPASS       ;IS IT LAST
02669  2740  D0 03              BNE ASCI1       ;NO PRINT
02670  2742  20 F3 23           JSR PRTDAT      ;PRINT LINE
02671  2745  20 8A 27    ASCI1  JSR ACHECK      ;DIS ONE LINE
02672  2748  B0 29              BCS ASCIIQ      ;IF EA STOP
02673  274A              ;*********************************
02674  274A  20 E1 FF           JSR STOP
02675  274D  F0 24              BEQ ASCIIQ
02676  274F  20 E4 FF           JSR GETIN
02677  2752  F0 E6              BEQ ASCII
02678  2754  C9 20              CMP #' '
02679  2756  D0 E2              BNE ASCII
02680  2758  AD 19 12           LDA DEVICE
02681  275B  48                 PHA
02682  275C  A9 03              LDA #$03
02683  275E  8D 19 12           STA DEVICE
02684  2761  A9 F9              LDA #<PMSG
02685  2763  A0 13              LDY #>PMSG
02686  2765  20 A9 1D           JSR STRPNT
02687  2768  68                 PLA
02688  2769  8D 19 12           STA DEVICE
02689  276C  20 E4 FF    PAUS1  JSR GETIN
02690  276F  F0 FB              BEQ PAUS1
02691  2771  D0 C7              BNE ASCII
02692  2773              ;*********************************
02693  2773  AD 12 12    ASCIIQ LDA PASS        ;GET PASS
02694  2776  CD 15 12           CMP CPASS       ;IS IT LAST
02695  2779  D0 09              BNE DATUT       ;EXIT
02696  277B  20 11 23           JSR INCSL
02697  277E  20 4F 22           JSR COMENT      ;COMMENT LINE
02698  2781  20 30 23           JSR DECSL
02699  2784              ;*********************************
02700  2784              ; EXIT TO NEXTSL
02701  2784              ;*********************************
02702  2784  A9 FF       DATUT  LDA #$FF        ;SET N=1
02703  2786  60                 RTS             ;RETURN
02704  2787  A9 00       ENDDAT LDA #$00        ;SET N=0
02705  2789  60                 RTS             ;RETURN
02706  278A              ;*********************************






DISASSEMBLER20......PAGE 0054

LINE# LOC   CODE        LINE


02707  278A              ; CHECK OPTIONS
02708  278A              ;*********************************
02709  278A  AD E6 12    ACHECK LDA TEXTER      ;GET DATA TYPE
02710  278D  C9 34              CMP #'4'         ;WORD-1
02711  278F  F0 0B              BEQ AC0
02712  2791  C9 33              CMP #'3'         ;DBYTE
02713  2793  F0 0A              BEQ AC1
02714  2795  C9 32              CMP #'2'         ;WORD
02715  2797  F0 03              BEQ AC0
02716  2799  4C A2 27           JMP BYTES       ;BYTE OR ASCII
02717  279C  4C 5E 28    AC0    JMP WORDS       ;WORD OR WORD-1
02718  279F  4C 2E 28    AC1    JMP DBYTES      ;DBYTES
02719  27A2              ;*********************************
02720  27A2              ; .BYTE DIRECTIVE
02721  27A2              ;*********************************
02722  27A2  AD 12 12    BYTES  LDA PASS        ;GET PASS
02723  27A5  CD 15 12           CMP CPASS       ;IS IT LAST
02724  27A8  D0 20              BNE BYTESX      ;IF NOT EXIT
02725  27AA  20 80 23           JSR PRTONE      ;PRINT BYTE
02726  27AD  20 78 22           JSR PRAD        ;PRINT ADDRESS
02727  27B0  A0 29              LDY #>MBYTE     ;.BYTE
02728  27B2  A9 1A              LDA #<MBYTE     ;
02729  27B4  20 A9 1D           JSR STRPNT      ;PRINT IT
02730  27B7  AD E6 12           LDA TEXTER      ;GET TYPE
02731  27BA  C9 30              CMP #'0'          ;ASCII
02732  27BC  F0 0F              BEQ ALINE       ;ASCII BYTES
02733  27BE  20 BE 22           JSR DOLLAR      ;PRINT $
02734  27C1  20 1A 23           JSR GETSL       ;GET BYTE
02735  27C4  20 93 1D           JSR PRBYT       ;PRINT BYTE
02736  27C7  20 EC 1C           JSR NEWLIN      ;NEXT LINE
02737  27CA  4C 01 29    BYTESX JMP NEXTBY      ;NEXT BYTE
02738  27CD              ;*********************************
02739  27CD              ; ASCII TEXT
02740  27CD              ;*********************************
02741  27CD  A9 00       ALINE  LDA #$00        ;ZERO BYTE
02742  27CF  8D 51 12           STA TEMP        ;STORE IN COUNT
02743  27D2              ;*********************************
02744  27D2              ; CHECK FIRST BYTE OF LINE
02745  27D2              ;*********************************
02746  27D2  20 1A 23           JSR GETSL       ;GET BYTE
02747  27D5  20 22 28           JSR CASCII      ;CHECK FOR ASCII
02748  27D8  B0 39              BCS NASCII      ;IF NOT BRANCH
02749  27DA  A9 27              LDA #'''        ;PRINT ONE QUOTE
02750  27DC  20 FF 1D           JSR PCHAR       ;PRINT IT
02751  27DF              ;*********************************
02752  27DF  20 1A 23    ALOP   JSR GETSL       ;GET BYTE
02753  27E2  20 22 28           JSR CASCII      ;IS IT ASCII
02754  27E5  B0 24              BCS EASCII      ;IF NOT END LINE
02755  27E7  20 FF 1D           JSR PCHAR       ;PRINT ASCII
02756  27EA              ; REV 2-12-2018 START
02757  27EA              ; IF CHAR = ' THEN PRINT SECOND '
02758  27EA  20 1A 23           JSR GETSL       ; GET BYTE AGAIN
02759  27ED  C9 27              CMP #$27        ;'''
02760  27EF  D0 03              BNE Q00000
02761  27F1  20 FF 1D           JSR PCHAR       ;PRINT ASCII






DISASSEMBLER20......PAGE 0055

LINE# LOC   CODE        LINE


02762  27F4              Q00000 = *
02763  27F4              ; REV 2-12-2018 END
02764  27F4  20 01 29           JSR NEXTBY      ;INC SELECT
02765  27F7  B0 0D              BCS EASCI1      ;C=1 IF END
02766  27F9  EE 51 12           INC TEMP        ;INC COUNT
02767  27FC  AD 51 12           LDA TEMP        ;LOAD COUNT
02768  27FF  C9 28              CMP #$28        ;40 CHAR
02769  2801  F0 08              BEQ EASCII      ;IF SO END
02770  2803  4C DF 27           JMP ALOP        ;NEXT
02771  2806              ;*********************************
02772  2806  20 0B 28    EASCI1 JSR EASCII
02773  2809  38                 SEC
02774  280A  60                 RTS
02775  280B              ;*********************************
02776  280B  A9 27       EASCII LDA #'''        ;PRINT ONE QUOTE
02777  280D  20 FF 1D           JSR PCHAR       ;
02778  2810  4C EC 1C           JMP NEWLIN      ;PRINT CR
02779  2813              ;*********************************
02780  2813  20 BE 22    NASCII JSR DOLLAR      ;PRINT $
02781  2816  20 1A 23           JSR GETSL       ;GET BYTE
02782  2819  20 93 1D           JSR PRBYT       ;PRINT IT
02783  281C  20 EC 1C           JSR NEWLIN      ;PRINT CR
02784  281F  4C 01 29           JMP NEXTBY      ;NEXT SL
02785  2822              ;*********************************
02786  2822              ; CHECK ACCUM FOR PRINTABLE ASCII
02787  2822              ;*********************************
02788  2822  C9 20       CASCII CMP #$20        ;< SPACE
02789  2824  30 06              BMI NOASC       ;IF LESS NOASCII
02790  2826  C9 60              CMP #$60        ;> _
02791  2828  B0 02              BCS NOASC       ;IF GREATER NO
02792  282A  18                 CLC             ;CLEAR CARRY OK
02793  282B  60                 RTS             ;RETURN
02794  282C  38          NOASC  SEC             ;SET CARRY BAD
02795  282D  60                 RTS             ;RETURN
02796  282E              ;*********************************
02797  282E              ; .DBYTE DIRECTIVE
02798  282E              ;*********************************
02799  282E  AD 12 12    DBYTES LDA PASS        ;CHECK PASS
02800  2831  CD 15 12           CMP CPASS       ;LAST PASS
02801  2834  D0 25              BNE DBYTEX      ;EXIT
02802  2836  20 96 23           JSR PRTTWO      ;PRINT 2 BYTES
02803  2839  20 78 22           JSR PRAD        ;PRINT ADDRESS
02804  283C  A0 29              LDY #>MDBYTE    ;.DBYTE
02805  283E  A9 2A              LDA #<MDBYTE    ;
02806  2840  20 A9 1D           JSR STRPNT      ;PRINT IT
02807  2843  20 1A 23           JSR GETSL       ;GET BYTE
02808  2846  8D 46 12           STA WORKED+1    ;STORE
02809  2849  20 11 23           JSR INCSL       ;GET BYTE
02810  284C  20 1A 23           JSR GETSL       ;GET BYTE
02811  284F  8D 45 12           STA WORKED      ;STORE
02812  2852  20 BE 22           JSR DOLLAR      ;PRINT $
02813  2855  20 B0 22           JSR PWORKD      ;PRINT WORD
02814  2858  20 EC 1C           JSR NEWLIN      ;PRINT CR
02815  285B  4C 01 29    DBYTEX JMP NEXTBY      ;NEXT SL
02816  285E              ;*********************************






DISASSEMBLER20......PAGE 0056

LINE# LOC   CODE        LINE


02817  285E              ; .WORD DIRECTIVE
02818  285E              ;*********************************
02819  285E  AD 12 12    WORDS  LDA PASS        ;GET PASS
02820  2861  CD 15 12           CMP CPASS         ;LAST
02821  2864  D0 0D              BNE WORD1       ;IF NOT BRANCH
02822  2866  20 96 23           JSR PRTTWO      ;PRINT 2 BYTES
02823  2869  20 78 22           JSR PRAD        ;PRINT ADDRESS
02824  286C  A0 29              LDY #>MWORD     ;.WORD
02825  286E  A9 22              LDA #<MWORD     ;
02826  2870  20 A9 1D           JSR STRPNT      ;PRINT IT
02827  2873              ;*********************************
02828  2873              ; GET WORD INTO WORKED
02829  2873              ;*********************************
02830  2873  20 1A 23    WORD1  JSR GETSL       ;GET BYTE
02831  2876  8D 45 12           STA WORKED      ;STORE BYTE
02832  2879  8D 36 12           STA SMALLP      ;STORE BYTE
02833  287C  20 11 23           JSR INCSL       ;GET BYTE
02834  287F  20 1A 23           JSR GETSL       ;GET BYTE
02835  2882  8D 46 12           STA WORKED+1    ;STORE BYTE
02836  2885  8D 37 12           STA SMALLP+1    ;STORE BYTE
02837  2888  AD E6 12           LDA TEXTER      ;GET OPTION
02838  288B  C9 34              CMP #'4'          ;.WORD ADRS-1
02839  288D  F0 2A              BEQ WORDM       ;BRANCH
02840  288F              ;*********************************
02841  288F              ; CHECK PASS
02842  288F              ;*********************************
02843  288F  AD 12 12           LDA PASS        ;CHECK PASS
02844  2892  CD 13 12           CMP IPASS       ;INTERNAL
02845  2895  F0 16              BEQ WORDPT      ;TABLE WORD
02846  2897  CD 14 12           CMP EPASS
02847  289A  F0 17              BEQ WORDSY
02848  289C              ;*********************************
02849  289C              ; PRINT WORD
02850  289C              ;*********************************
02851  289C  20 4A 2D           JSR SYMOP       ;CHECK SYMBOL
02852  289F  B0 5A              BCS WORDS3      ;C=1 SYMBOL
02853  28A1  20 BE 22           JSR DOLLAR      ;PRINT $
02854  28A4  20 B0 22           JSR PWORKD      ;PRINT WORD
02855  28A7  20 EC 1C           JSR NEWLIN      ;PRINT CR
02856  28AA  4C 01 29    WORDSX JMP NEXTBY      ;NEXT SL
02857  28AD  20 A1 24    WORDPT JSR PUTI        ;PUT IN TABLE
02858  28B0  4C 01 29           JMP NEXTBY      ;NEXT SL
02859  28B3  20 4A 2D    WORDSY JSR SYMOP
02860  28B6  4C 01 29           JMP NEXTBY
02861  28B9              ;*********************************
02862  28B9              ; .WORD ADDRESS-1
02863  28B9              ;*********************************
02864  28B9  18          WORDM  CLC
02865  28BA  AD 45 12           LDA WORKED
02866  28BD  69 01              ADC #$01
02867  28BF  8D 45 12           STA WORKED
02868  28C2  AD 46 12           LDA WORKED+1
02869  28C5  69 00              ADC #$00
02870  28C7  8D 46 12           STA WORKED+1
02871  28CA              ;*********************************






DISASSEMBLER20......PAGE 0057

LINE# LOC   CODE        LINE


02872  28CA              ; CHECK PASS
02873  28CA              ;*********************************
02874  28CA  AD 12 12           LDA PASS        ;CHECK PASS
02875  28CD  CD 13 12           CMP IPASS       ;INTERNAL
02876  28D0  F0 DB              BEQ WORDPT      ;TABLE WORD
02877  28D2  CD 14 12           CMP EPASS       ;EXTERNAL
02878  28D5  F0 DC              BEQ WORDSY      ;TABLE WORD
02879  28D7              ;*********************************
02880  28D7              ; PRINT WORD
02881  28D7              ;*********************************
02882  28D7  20 4A 2D           JSR SYMOP       ;CHECK SYMBOL
02883  28DA  90 0D              BCC WORDS2      ;C=0 NO SYMBOL
02884  28DC  A9 2D              LDA #'-'
02885  28DE  20 FF 1D           JSR PCHAR
02886  28E1  A9 31              LDA #'1'
02887  28E3  20 FF 1D           JSR PCHAR
02888  28E6  4C FB 28           JMP WORDS3
02889  28E9              ;*********************************
02890  28E9  20 BE 22    WORDS2 JSR DOLLAR      ;PRINT $
02891  28EC  AD 36 12           LDA SMALLP
02892  28EF  8D 45 12           STA WORKED
02893  28F2  AD 37 12           LDA SMALLP+1
02894  28F5  8D 46 12           STA WORKED+1
02895  28F8  20 B0 22           JSR PWORKD      ;PRINT WORD
02896  28FB  20 EC 1C    WORDS3 JSR NEWLIN      ;PRINT CR
02897  28FE  4C 01 29    WORDXX JMP NEXTBY      ;NEXT SL
02898  2901              ;*********************************
02899  2901              ; SELECT NEXT BYTE OF DATA
02900  2901              ;*********************************
02901  2901  AD 23 12    NEXTBY LDA SELECT+1
02902  2904  CD E5 12           CMP EAS+1
02903  2907  90 0A              BCC SBLOK
02904  2909  D0 0D              BNE NOBINC
02905  290B  AD 22 12           LDA SELECT
02906  290E  CD E4 12           CMP EAS
02907  2911  B0 05              BCS NOBINC
02908  2913  20 11 23    SBLOK  JSR INCSL
02909  2916  18                 CLC
02910  2917  60                 RTS
02911  2918  38          NOBINC SEC
02912  2919  60                 RTS
02913  291A              ;*********************************
02914  291A  20 2E       MBYTE  .BYTE ' .BYTE ',0
02914  2921  00 
02915  2922  20 2E       MWORD  .BYTE ' .WORD ',0
02915  2929  00 
02916  292A  20 2E       MDBYTE .BYTE ' .DBYTE ',0
02916  2932  00 
02917  2933              ;*********************************
02918  2933              ;.FIL 0:TABLE.ASM
02919  2933              ;*********************************
02920  2933              ;.END
02921  2933              ;*********************************
02922  2933              ; FILE TABLE.ASM
02923  2933              ;*********************************






DISASSEMBLER20......PAGE 0058

LINE# LOC   CODE        LINE


02924  2933              ;
02925  2933              ;        DISASSEMBLER64
02926  2933              ;    SYMBOLIC DISASSEMBLER
02927  2933              ;       BY DENTON MARLOWE
02928  2933              ;
02929  2933              ;  (C)1986 BY DENTON MARLOWE
02930  2933              ;
02931  2933              ;*********************************
02932  2933              ;       PRINT MNEMONIC
02933  2933              ;
02934  2933              ; OPCODE IN A
02935  2933              ;
02936  2933              ; BUG ILLEGAL OPCODE WOULD PRINT OUT AS
02937  2933              ;
02938  2933              ; ZZZZ XX                 ...  .BYTE $XX ;??? ILL
EGAL OPCODE
02939  2933              ; WHERE THE "..." WERE THREE NULLS
02940  2933              ; BECAUSE ILLEGAL OPCODE MNEMONIC IS CODES AS 0,0
,0
02941  2933              ;
02942  2933              ;*********************************
02943  2933  A2 03       MNEMON LDX #3          ;3 CHARACTERS
02944  2935  8E 51 12           STX TEMP        ;COUNTER
02945  2938  AA                 TAX             ;CODE IS INDEX
02946  2939  BD AE 2A           LDA MCODES,X    ;GET OFFSET
02947  293C  AA                 TAX             ;INDEX OFFSET
02948  293D  BD D6 29    MNLOOP LDA MNAMES,X    ;GET CHARACTER
02949  2940              ;BEGIN REV 2017-0
02950  2940  F0 09              BEQ ILLOP       ;ILLEGAL OPCODE MNEMONIC C
HAR IS A NULL
02951  2942              ;END REV 2017-0
02952  2942  8E 53 12           STX SAVX        ;SAVE INDEX
02953  2945  20 FF 1D           JSR PCHAR       ;PRINT CHAR
02954  2948  AE 53 12           LDX SAVX        ;GET INDEX
02955  294B              ;BEGIN REV 2017-1
02956  294B              ILLOP  = *
02957  294B              ;END REV 2017-0
02958  294B  E8                 INX             ;NEXT CHAR
02959  294C  CE 51 12           DEC TEMP        ;DEC COUNT
02960  294F  D0 EC              BNE MNLOOP      ;LOOP TILL 0
02961  2951  60                 RTS             ;RETURN
02962  2952              ;*********************************
02963  2952              ;        PRINT OPERAND
02964  2952              ;*********************************
02965  2952  48          PRTASS PHA             ;STACK INDEX
02966  2953  20 F3 23           JSR PRTDAT      ;PRINT LINE DATA
02967  2956  68                 PLA             ;PULL INDEX
02968  2957  A8                 TAY             ;SAVE INDEX
02969  2958  A9 82              LDA #<SUBP
02970  295A  A2 29              LDX #>SUBP
02971  295C  4C 6C 29           JMP GETOPE      ;LOOK UP ROUTINE
02972  295F              ;*********************************
02973  295F  A8          OPERN1 TAY             ;SAVE INDEX
02974  2960  A9 9E              LDA #<SUBS1
02975  2962  A2 29              LDX #>SUBS1
02976  2964  4C 6C 29           JMP GETOPE      ;LOOK UP ROUTINE
02977  2967              ;*********************************
02978  2967  A8          OPERND TAY             ;SAVE INDEX






DISASSEMBLER20......PAGE 0059

LINE# LOC   CODE        LINE


02979  2968  A9 BA              LDA #<SUBS
02980  296A  A2 29              LDX #>SUBS
02981  296C              ;*********************************
02982  296C              ; LOOK UP AND JMP TO ROUTINE
02983  296C              ;*********************************
02984  296C  85 02       GETOPE STA ZEROUR      ;LOW TABLE
02985  296E  86 03              STX ZEROUR+1    ;HIGH TABLE
02986  2970  B9 AE 2B           LDA MODES,Y     ;GET OFFSET
02987  2973  A8                 TAY             ;INDEX OFFSET
02988  2974  B1 02              LDA (ZEROUR),Y  ;GET LOW BYTE
02989  2976  8D 4F 12           STA ADRS        ;STORE
02990  2979  C8                 INY             ;INC INDEX
02991  297A  B1 02              LDA (ZEROUR),Y  ;GET HIGH BYTE
02992  297C  8D 50 12           STA ADRS+1      ;STORE
02993  297F  6C 4F 12           JMP (ADRS)      ;INDIRECT JMP
02994  2982              ;*********************************
02995  2982              ; TABLE OF ADDRESSING MODE SUBS
02996  2982              ;*********************************
02997  2982              ; MACHINE LANGUAGE ROUTINES
02998  2982              ;*********************************
02999  2982              SUBP   = *             ; MODES
03000  2982  80 23       .WORD  PRTONE          ; 0  $00
03001  2984  80 23       .WORD  PRTONE          ; 2  $02
03002  2986  96 23       .WORD  PRTTWO          ; 4  $04
03003  2988  96 23       .WORD  PRTTWO          ; 6  $06
03004  298A  96 23       .WORD  PRTTWO          ; 8  $08
03005  298C  96 23       .WORD  PRTTWO          ; 10 $0A
03006  298E  BB 23       .WORD  PRTTHE          ; 12 $0C
03007  2990  BB 23       .WORD  PRTTHE          ; 14 $0E
03008  2992  BB 23       .WORD  PRTTHE          ; 16 $10
03009  2994  80 23       .WORD  PRTONE          ; 18 $12
03010  2996  96 23       .WORD  PRTTWO          ; 20 $14
03011  2998  96 23       .WORD  PRTTWO          ; 22 $16
03012  299A  96 23       .WORD  PRTTWO          ; 24 $18
03013  299C  BB 23       .WORD  PRTTHE          ; 26 $1A
03014  299E              ;*********************************
03015  299E              ; CODE ANALYSIS ROUTINES
03016  299E              ;*********************************
03017  299E              SUBS1  = *             ; MODES
03018  299E  77 21       .WORD  IMPONE          ; 0  $00
03019  29A0  77 21       .WORD  IMPONE          ; 2  $02
03020  29A2  F2 20       .WORD  IMMEDT          ; 4  $04
03021  29A4  3B 20       .WORD  ONEBYT          ; 6  $06
03022  29A6  3B 20       .WORD  ONEBYT          ; 8  $08
03023  29A8  3B 20       .WORD  ONEBYT          ; 10 $0A
03024  29AA  70 20       .WORD  TWOBYT          ; 12 $0C
03025  29AC  70 20       .WORD  TWOBYT          ; 14 $0E
03026  29AE  70 20       .WORD  TWOBYT          ; 16 $10
03027  29B0  77 21       .WORD  IMPONE          ; 18 $12
03028  29B2  AE 21       .WORD  RELATV          ; 20 $14
03029  29B4  3B 20       .WORD  ONEBYT          ; 22 $16
03030  29B6  3B 20       .WORD  ONEBYT          ; 24 $18
03031  29B8  70 20       .WORD  TWOBYT          ; 26 $1A
03032  29BA              ;*********************************
03033  29BA              ; FINAL PASS ADDRESSING MODES






DISASSEMBLER20......PAGE 0060

LINE# LOC   CODE        LINE


03034  29BA              ;*********************************
03035  29BA              SUBS   = *             ; MODES
03036  29BA  AC 20       .WORD  ILLEGL          ; 0  $00
03037  29BC  ED 20       .WORD  ACC             ; 2  $02
03038  29BE  F2 20       .WORD  IMMEDT          ; 4  $04
03039  29C0  29 21       .WORD  ZEROPG          ; 6  $06
03040  29C2  2C 21       .WORD  ZEROX           ; 8  $08
03041  29C4  32 21       .WORD  ZEROY           ; 10 $0A
03042  29C6  39 21       .WORD  ABSLUT          ; 12 $0C
03043  29C8  5E 21       .WORD  ABSX            ; 14 $0E
03044  29CA  64 21       .WORD  ABSY            ; 16 $10
03045  29CC  6A 21       .WORD  IMPLID          ; 18 $12
03046  29CE  AE 21       .WORD  RELATV          ; 20 $14
03047  29D0  99 21       .WORD  INDX            ; 22 $16
03048  29D2  A2 21       .WORD  INDY            ; 24 $18
03049  29D4  84 21       .WORD  INDRCT          ; 26 $1A
03050  29D6              ;*********************************
03051  29D6              ; LIST OF MNEMONICS
03052  29D6              ;*********************************
03053  29D6              MNAMES = *             ; MCODES
03054  29D6  00          .BYTE  0,0,0           ; 0   $00
03054  29D7  00 
03054  29D8  00 
03055  29D9  41 44 43    .BYTE  'ADC'           ; 3   $03
03056  29DC  41 4E 44    .BYTE  'AND'           ; 6   $06
03057  29DF  41 53 4C    .BYTE  'ASL'           ; 9   $09
03058  29E2  42 43 43    .BYTE  'BCC'           ; 12  $0C
03059  29E5  42 43 53    .BYTE  'BCS'           ; 15  $0F
03060  29E8  42 45 51    .BYTE  'BEQ'           ; 18  $12
03061  29EB  42 49 54    .BYTE  'BIT'           ; 21  $15
03062  29EE  42 4D 49    .BYTE  'BMI'           ; 24  $18
03063  29F1  42 4E 45    .BYTE  'BNE'           ; 27  $1B
03064  29F4  42 50 4C    .BYTE  'BPL'           ; 30  $1E
03065  29F7  42 52 4B    .BYTE  'BRK'           ; 33  $21
03066  29FA  42 56 43    .BYTE  'BVC'           ; 36  $24
03067  29FD  42 56 53    .BYTE  'BVS'           ; 39  $27
03068  2A00  43 4C 43    .BYTE  'CLC'           ; 42  $2A
03069  2A03  43 4C 44    .BYTE  'CLD'           ; 45  $2D
03070  2A06  43 4C 49    .BYTE  'CLI'           ; 48  $30
03071  2A09  43 4C 56    .BYTE  'CLV'           ; 51  $33
03072  2A0C  43 4D 50    .BYTE  'CMP'           ; 54  $36
03073  2A0F  43 50 58    .BYTE  'CPX'           ; 57  $39
03074  2A12  43 50 59    .BYTE  'CPY'           ; 60  $3C
03075  2A15  44 45 43    .BYTE  'DEC'           ; 63  $3F
03076  2A18  44 45 58    .BYTE  'DEX'           ; 66  $42
03077  2A1B  44 45 59    .BYTE  'DEY'           ; 69  $45
03078  2A1E  45 4F 52    .BYTE  'EOR'           ; 72  $48
03079  2A21  49 4E 43    .BYTE  'INC'           ; 75  $4B
03080  2A24  49 4E 58    .BYTE  'INX'           ; 78  $4E
03081  2A27  49 4E 59    .BYTE  'INY'           ; 81  $51
03082  2A2A  4A 4D 50    .BYTE  'JMP'           ; 84  $54
03083  2A2D  4A 53 52    .BYTE  'JSR'           ; 87  $57
03084  2A30  4C 44 41    .BYTE  'LDA'           ; 90  $5A
03085  2A33  4C 44 58    .BYTE  'LDX'           ; 93  $5D
03086  2A36  4C 44 59    .BYTE  'LDY'           ; 96  $60






DISASSEMBLER20......PAGE 0061

LINE# LOC   CODE        LINE


03087  2A39  4C 53 52    .BYTE  'LSR'           ; 99  $63
03088  2A3C  4E 4F 50    .BYTE  'NOP'           ; 102 $66
03089  2A3F  4F 52 41    .BYTE  'ORA'           ; 105 $69
03090  2A42  50 48 41    .BYTE  'PHA'           ; 108 $6C
03091  2A45  50 48 50    .BYTE  'PHP'           ; 111 $6F
03092  2A48  50 4C 41    .BYTE  'PLA'           ; 114 $72
03093  2A4B  50 4C 50    .BYTE  'PLP'           ; 117 $75
03094  2A4E  52 4F 4C    .BYTE  'ROL'           ; 120 $78
03095  2A51  52 4F 52    .BYTE  'ROR'           ; 123 $7B
03096  2A54  52 54 49    .BYTE  'RTI'           ; 126 $7E
03097  2A57  52 54 53    .BYTE  'RTS'           ; 129 $81
03098  2A5A  53 42 43    .BYTE  'SBC'           ; 132 $84
03099  2A5D  53 45 43    .BYTE  'SEC'           ; 135 $87
03100  2A60  53 45 44    .BYTE  'SED'           ; 138 $8A
03101  2A63  53 45 49    .BYTE  'SEI'           ; 141 $8D
03102  2A66  53 54 41    .BYTE  'STA'           ; 144 $90
03103  2A69  53 54 58    .BYTE  'STX'           ; 147 $93
03104  2A6C  53 54 59    .BYTE  'STY'           ; 150 $96
03105  2A6F  54 41 58    .BYTE  'TAX'           ; 153 $99
03106  2A72  54 41 59    .BYTE  'TAY'           ; 156 $9C
03107  2A75  54 53 58    .BYTE  'TSX'           ; 159 $9F
03108  2A78  54 58 41    .BYTE  'TXA'           ; 162 $A2
03109  2A7B  54 58 53    .BYTE  'TXS'           ; 165 $A5
03110  2A7E  54 59 41    .BYTE  'TYA'           ; 168 $A8
03111  2A81              ;*********************************
03112  2A81              ; QUASI-OPCODES
03113  2A81              ;*********************************
03114  2A81  41 53 4F    .BYTE  'ASO'           ; 171 $AB
03115  2A84  52 4C 41    .BYTE  'RLA'           ; 174 $AE
03116  2A87  4C 53 45    .BYTE  'LSE'           ; 177 $B1
03117  2A8A  52 52 41    .BYTE  'RRA'           ; 180 $B4
03118  2A8D  41 58 53    .BYTE  'AXS'           ; 183 $B7
03119  2A90  4C 41 58    .BYTE  'LAX'           ; 186 $BA
03120  2A93  44 43 4D    .BYTE  'DCM'           ; 189 $BD
03121  2A96  49 4E 53    .BYTE  'INS'           ; 192 $C0
03122  2A99  41 4C 52    .BYTE  'ALR'           ; 195 $C3
03123  2A9C  41 52 52    .BYTE  'ARR'           ; 198 $C6
03124  2A9F  4F 41 4C    .BYTE  'OAL'           ; 201 $C9
03125  2AA2  53 41 58    .BYTE  'SAX'           ; 204 $CC
03126  2AA5  4E 4F 50    .BYTE  'NOP'           ; 207 $CF
03127  2AA8  53 4B 42    .BYTE  'SKB'           ; 210 $D2
03128  2AAB  53 4B 57    .BYTE  'SKW'           ; 213 $D5
03129  2AAE              ;*********************************
03130  2AAE              ; TABLE OF MNEMONIC CODES
03131  2AAE              ;*********************************
03132  2AAE              ;
03133  2AAE              ;A MNEMONIC'S CODE IS ITS OFFSET
03134  2AAE              ;    INTO MNAMES, THE LIST OF
03135  2AAE              ;         MNEONIC NAMES.
03136  2AAE              ;
03137  2AAE              ;*********************************
03138  2AAE              MCODES = *
03139  2AAE              ;     0X  1X  2X  3X  4X  5X  6X  7X
03140  2AAE              ; 0X  BRK ORA KIL SLO NOP ORA ASL SLO
03141  2AAE  21          .BYTE  $21,$69,$00,$00,$00,$69,$09,$00






DISASSEMBLER20......PAGE 0062

LINE# LOC   CODE        LINE


03141  2AAF  69 
03141  2AB0  00 
03141  2AB1  00 
03141  2AB2  00 
03141  2AB3  69 
03141  2AB4  09 
03141  2AB5  00 
03142  2AB6              ;     8X  9X  AX  BX  CX  DX  EX  FX
03143  2AB6                                     ;PHP ORA ASL ANC NOP ORA A
SL SLO
03144  2AB6  6F          .BYTE  $6F,$69,$09,$00,$00,$69,$09,$00
03144  2AB7  69 
03144  2AB8  09 
03144  2AB9  00 
03144  2ABA  00 
03144  2ABB  69 
03144  2ABC  09 
03144  2ABD  00 
03145  2ABE              ; 1X  BPL ORA KIL SLO NOP ORA ASL SLO
03146  2ABE  1E          .BYTE  $1E,$69,$00,$00,$00,$69,$09,$00
03146  2ABF  69 
03146  2AC0  00 
03146  2AC1  00 
03146  2AC2  00 
03146  2AC3  69 
03146  2AC4  09 
03146  2AC5  00 
03147  2AC6                                     ;CLC ORA NOP SLO NOP ORA A
SL SLO
03148  2AC6  2A          .BYTE  $2A,$69,$00,$00,$00,$69,$09,$00
03148  2AC7  69 
03148  2AC8  00 
03148  2AC9  00 
03148  2ACA  00 
03148  2ACB  69 
03148  2ACC  09 
03148  2ACD  00 
03149  2ACE              ; 2X  JSR AND KIL RLA BIT AND ROL RLA
03150  2ACE  57          .BYTE  $57,$06,$00,$00,$15,$06,$78,$00
03150  2ACF  06 
03150  2AD0  00 
03150  2AD1  00 
03150  2AD2  15 
03150  2AD3  06 
03150  2AD4  78 
03150  2AD5  00 
03151  2AD6                                     ;PLP ABD ROL ANC BIT AND R
OL RLA
03152  2AD6  75          .BYTE  $75,$06,$78,$00,$15,$06,$78,$00
03152  2AD7  06 
03152  2AD8  78 
03152  2AD9  00 
03152  2ADA  15 
03152  2ADB  06 
03152  2ADC  78 
03152  2ADD  00 
03153  2ADE              ; 3X  BMI AND KIL RLA NOP AND ROL RLA
03154  2ADE  18          .BYTE  $18,$06,$00,$00,$00,$06,$78,$00






DISASSEMBLER20......PAGE 0063

LINE# LOC   CODE        LINE


03154  2ADF  06 
03154  2AE0  00 
03154  2AE1  00 
03154  2AE2  00 
03154  2AE3  06 
03154  2AE4  78 
03154  2AE5  00 
03155  2AE6              ;     SEC AND NOP RLA NOP AND ROL RLA
03156  2AE6  87          .BYTE  $87,$06,$00,$00,$00,$06,$78,$00
03156  2AE7  06 
03156  2AE8  00 
03156  2AE9  00 
03156  2AEA  00 
03156  2AEB  06 
03156  2AEC  78 
03156  2AED  00 
03157  2AEE              ; 4X  RTI EOR KIL SRE NOP EOR LSR SRE
03158  2AEE  7E          .BYTE  $7E,$48,$00,$00,$00,$48,$63,$00
03158  2AEF  48 
03158  2AF0  00 
03158  2AF1  00 
03158  2AF2  00 
03158  2AF3  48 
03158  2AF4  63 
03158  2AF5  00 
03159  2AF6              ;     PHA EOR LSR ALR JMP EOR LSR SRE
03160  2AF6  6C          .BYTE  $6C,$48,$63,$00,$54,$48,$63,$00
03160  2AF7  48 
03160  2AF8  63 
03160  2AF9  00 
03160  2AFA  54 
03160  2AFB  48 
03160  2AFC  63 
03160  2AFD  00 
03161  2AFE              ; 5X  BVC EOR KIL SRE NOP EOR LSR SRE
03162  2AFE  24          .BYTE  $24,$48,$00,$00,$00,$48,$63,$00
03162  2AFF  48 
03162  2B00  00 
03162  2B01  00 
03162  2B02  00 
03162  2B03  48 
03162  2B04  63 
03162  2B05  00 
03163  2B06              ;     CLI EOR NOP SRE NOP EOR LSR SRE
03164  2B06  30          .BYTE  $30,$48,$00,$00,$00,$48,$63,$00
03164  2B07  48 
03164  2B08  00 
03164  2B09  00 
03164  2B0A  00 
03164  2B0B  48 
03164  2B0C  63 
03164  2B0D  00 
03165  2B0E              ; 6X  RTS ADC KIL RRA NOP ADC ROR RRA
03166  2B0E  81          .BYTE  $81,$03,$00,$00,$00,$03,$7B,$00
03166  2B0F  03 






DISASSEMBLER20......PAGE 0064

LINE# LOC   CODE        LINE


03166  2B10  00 
03166  2B11  00 
03166  2B12  00 
03166  2B13  03 
03166  2B14  7B 
03166  2B15  00 
03167  2B16              ;     PLA ADC ROR ARR JMP ADC ROR RRA
03168  2B16  72          .BYTE  $72,$03,$7B,$00,$54,$03,$7B,$00
03168  2B17  03 
03168  2B18  7B 
03168  2B19  00 
03168  2B1A  54 
03168  2B1B  03 
03168  2B1C  7B 
03168  2B1D  00 
03169  2B1E              ; 7X  BVS ADC KIL RRA NOP ADC ROR RRA
03170  2B1E  27          .BYTE  $27,$03,$00,$00,$00,$03,$7B,$00
03170  2B1F  03 
03170  2B20  00 
03170  2B21  00 
03170  2B22  00 
03170  2B23  03 
03170  2B24  7B 
03170  2B25  00 
03171  2B26              ;     SEI ADC NOP RRA NOP ADC ROR RRA
03172  2B26  8D          .BYTE  $8D,$03,$00,$00,$00,$03,$7B,$00
03172  2B27  03 
03172  2B28  00 
03172  2B29  00 
03172  2B2A  00 
03172  2B2B  03 
03172  2B2C  7B 
03172  2B2D  00 
03173  2B2E              ; 8X  NOP STA NOP SAX STY STA STX SAX
03174  2B2E  00          .BYTE  $00,$90,$00,$00,$96,$90,$93,$00
03174  2B2F  90 
03174  2B30  00 
03174  2B31  00 
03174  2B32  96 
03174  2B33  90 
03174  2B34  93 
03174  2B35  00 
03175  2B36              ;     DEY NOP TXA XXA STY STA STX SAX
03176  2B36  45          .BYTE  $45,$00,$A2,$00,$96,$90,$93,$00
03176  2B37  00 
03176  2B38  A2 
03176  2B39  00 
03176  2B3A  96 
03176  2B3B  90 
03176  2B3C  93 
03176  2B3D  00 
03177  2B3E              ; 9X  BCC STA KIL AHX STY STA STX SAX 
03178  2B3E  0C          .BYTE  $0C,$90,$00,$00,$96,$90,$93,$00
03178  2B3F  90 
03178  2B40  00 






DISASSEMBLER20......PAGE 0065

LINE# LOC   CODE        LINE


03178  2B41  00 
03178  2B42  96 
03178  2B43  90 
03178  2B44  93 
03178  2B45  00 
03179  2B46              ;     TYA STA TXS TAS SHY STA SHX AHX
03180  2B46  A8          .BYTE  $A8,$90,$A5,$00,$00,$90,$00,$00
03180  2B47  90 
03180  2B48  A5 
03180  2B49  00 
03180  2B4A  00 
03180  2B4B  90 
03180  2B4C  00 
03180  2B4D  00 
03181  2B4E              ; AX  LDY LDA LDX LAX LDY LDA LDX LAX
03182  2B4E  60          .BYTE  $60,$5A,$5D,$00,$60,$5A,$5D,$00
03182  2B4F  5A 
03182  2B50  5D 
03182  2B51  00 
03182  2B52  60 
03182  2B53  5A 
03182  2B54  5D 
03182  2B55  00 
03183  2B56              ;     TAY LDA TAX LAX LDY LDA LDX LAX
03184  2B56  9C          .BYTE  $9C,$5A,$99,$00,$60,$5A,$5D,$00
03184  2B57  5A 
03184  2B58  99 
03184  2B59  00 
03184  2B5A  60 
03184  2B5B  5A 
03184  2B5C  5D 
03184  2B5D  00 
03185  2B5E              ; BX  BCS LDA KIL LAX LDY LDA LDX LAX
03186  2B5E  0F          .BYTE  $0F,$5A,$00,$00,$60,$5A,$5D,$00
03186  2B5F  5A 
03186  2B60  00 
03186  2B61  00 
03186  2B62  60 
03186  2B63  5A 
03186  2B64  5D 
03186  2B65  00 
03187  2B66              ;     CLV LDA TSX LAS LDY LDA LDX LAX
03188  2B66  33          .BYTE  $33,$5A,$9F,$00,$60,$5A,$5D,$00
03188  2B67  5A 
03188  2B68  9F 
03188  2B69  00 
03188  2B6A  60 
03188  2B6B  5A 
03188  2B6C  5D 
03188  2B6D  00 
03189  2B6E              ; CX  CPY CMP NOP DCP CPY CMP DEC DCP
03190  2B6E  3C          .BYTE  $3C,$36,$00,$00,$3C,$36,$3F,$00
03190  2B6F  36 
03190  2B70  00 
03190  2B71  00 






DISASSEMBLER20......PAGE 0066

LINE# LOC   CODE        LINE


03190  2B72  3C 
03190  2B73  36 
03190  2B74  3F 
03190  2B75  00 
03191  2B76              ;     INY CMP DEX AXS CPY CMP DEC DCP
03192  2B76  51          .BYTE  $51,$36,$42,$00,$3C,$36,$3F,$00
03192  2B77  36 
03192  2B78  42 
03192  2B79  00 
03192  2B7A  3C 
03192  2B7B  36 
03192  2B7C  3F 
03192  2B7D  00 
03193  2B7E              ; DX  BNE CMP KIL DCP NOP CMP DEC DCP
03194  2B7E  1B          .BYTE  $1B,$36,$00,$00,$00,$36,$3F,$00
03194  2B7F  36 
03194  2B80  00 
03194  2B81  00 
03194  2B82  00 
03194  2B83  36 
03194  2B84  3F 
03194  2B85  00 
03195  2B86              ;     CLD CMP NOP DCP NOP CMP DEC DCP
03196  2B86  2D          .BYTE  $2D,$36,$00,$00,$00,$36,$3F,$00
03196  2B87  36 
03196  2B88  00 
03196  2B89  00 
03196  2B8A  00 
03196  2B8B  36 
03196  2B8C  3F 
03196  2B8D  00 
03197  2B8E              ; EX  CPX SBC NOP ISC CPX SBC INC ISC
03198  2B8E  39          .BYTE  $39,$84,$00,$00,$39,$84,$4B,$00
03198  2B8F  84 
03198  2B90  00 
03198  2B91  00 
03198  2B92  39 
03198  2B93  84 
03198  2B94  4B 
03198  2B95  00 
03199  2B96              ;     INX SBC NOP SBC CPX SBC INC ISC
03200  2B96  4E          .BYTE  $4E,$84,$66,$00,$39,$84,$4B,$00
03200  2B97  84 
03200  2B98  66 
03200  2B99  00 
03200  2B9A  39 
03200  2B9B  84 
03200  2B9C  4B 
03200  2B9D  00 
03201  2B9E              ; FX  BEQ SBC KIL ISC NOP SBC INC ISC
03202  2B9E  12          .BYTE  $12,$84,$00,$00,$00,$84,$4B,$00
03202  2B9F  84 
03202  2BA0  00 
03202  2BA1  00 
03202  2BA2  00 






DISASSEMBLER20......PAGE 0067

LINE# LOC   CODE        LINE


03202  2BA3  84 
03202  2BA4  4B 
03202  2BA5  00 
03203  2BA6              ;     SED SBC NOP ISC NOP SBC INC ISC
03204  2BA6  8A          .BYTE  $8A,$84,$00,$00,$00,$84,$4B,$00
03204  2BA7  84 
03204  2BA8  00 
03204  2BA9  00 
03204  2BAA  00 
03204  2BAB  84 
03204  2BAC  4B 
03204  2BAD  00 
03205  2BAE              ;*********************************
03206  2BAE              ; TABLE OF ADDRESSING MODE CODES
03207  2BAE              ;*********************************
03208  2BAE              ;
03209  2BAE              ; AN ADDRESSING MODE'S CODE IS
03210  2BAE              ; ITS OFFSET INTO SUBS, THE TABLE
03211  2BAE              ; OF ADDRESSING MODE SUBROUTINES
03212  2BAE              ;
03213  2BAE              ; ILLEGL ; 0  $00
03214  2BAE              ; ACC    ; 2  $02
03215  2BAE              ; IMMEDT ; 4  $04
03216  2BAE              ; ZEROPG ; 6  $06
03217  2BAE              ; ZEROX  ; 8  $08
03218  2BAE              ; ZEROY  ; 10 $0A
03219  2BAE              ; ABSLUT ; 12 $0C
03220  2BAE              ; ABSX   ; 14 $0E
03221  2BAE              ; ABSY   ; 16 $10
03222  2BAE              ; IMPLID ; 18 $12
03223  2BAE              ; RELATV ; 20 $14
03224  2BAE              ; INDX   ; 22 $16
03225  2BAE              ; INDY   ; 24 $18
03226  2BAE              ; INDRCT ; 26 $1A
03227  2BAE              ;*********************************
03228  2BAE              MODES  = * 
03229  2BAE              ; 0X   0  1 2 3 4 5 6 7
03230  2BAE  12          .BYTE  18,22,0,0,0,6,6,0
03230  2BAF  16 
03230  2BB0  00 
03230  2BB1  00 
03230  2BB2  00 
03230  2BB3  06 
03230  2BB4  06 
03230  2BB5  00 
03231  2BB6              ;      8  9 A B C D E F
03232  2BB6  12          .BYTE  18,4,2,0,0,12,12,0
03232  2BB7  04 
03232  2BB8  02 
03232  2BB9  00 
03232  2BBA  00 
03232  2BBB  0C 
03232  2BBC  0C 
03232  2BBD  00 
03233  2BBE              ; 1X   0  1 2 3 4 5 6 7






DISASSEMBLER20......PAGE 0068

LINE# LOC   CODE        LINE


03234  2BBE  14          .BYTE  20,24,0,0,0,8,8,0
03234  2BBF  18 
03234  2BC0  00 
03234  2BC1  00 
03234  2BC2  00 
03234  2BC3  08 
03234  2BC4  08 
03234  2BC5  00 
03235  2BC6              ;      8  9 A B C D E F
03236  2BC6  12          .BYTE  18,16,0,0,0,14,14,0
03236  2BC7  10 
03236  2BC8  00 
03236  2BC9  00 
03236  2BCA  00 
03236  2BCB  0E 
03236  2BCC  0E 
03236  2BCD  00 
03237  2BCE              ; 2X   0  1 2 3 4 5 6 7
03238  2BCE  0C          .BYTE  12,22,0,0,6,6,6,0
03238  2BCF  16 
03238  2BD0  00 
03238  2BD1  00 
03238  2BD2  06 
03238  2BD3  06 
03238  2BD4  06 
03238  2BD5  00 
03239  2BD6              ;.BYTE 12,22,0,0,28,6,6,0
03240  2BD6              ;      8  9 A B C D E F
03241  2BD6  12          .BYTE  18,4,2,0,12,12,12,0
03241  2BD7  04 
03241  2BD8  02 
03241  2BD9  00 
03241  2BDA  0C 
03241  2BDB  0C 
03241  2BDC  0C 
03241  2BDD  00 
03242  2BDE              ;.BYTE 18,4,2,0,30,12,12,0
03243  2BDE              ; 3X   0  1 2 3 4 5 6 7
03244  2BDE  14          .BYTE  20,24,0,0,0,8,8,0
03244  2BDF  18 
03244  2BE0  00 
03244  2BE1  00 
03244  2BE2  00 
03244  2BE3  08 
03244  2BE4  08 
03244  2BE5  00 
03245  2BE6              ;      8  9 A B C D E F
03246  2BE6  12          .BYTE  18,16,0,0,0,14,14,0
03246  2BE7  10 
03246  2BE8  00 
03246  2BE9  00 
03246  2BEA  00 
03246  2BEB  0E 
03246  2BEC  0E 
03246  2BED  00 






DISASSEMBLER20......PAGE 0069

LINE# LOC   CODE        LINE


03247  2BEE              ; 4X   0  1 2 3 4 5 6 7
03248  2BEE  12          .BYTE  18,22,0,0,0,6,6,0
03248  2BEF  16 
03248  2BF0  00 
03248  2BF1  00 
03248  2BF2  00 
03248  2BF3  06 
03248  2BF4  06 
03248  2BF5  00 
03249  2BF6              ;      8  9 A B C D E F
03250  2BF6  12          .BYTE  18,4,2,0,12,12,12,0
03250  2BF7  04 
03250  2BF8  02 
03250  2BF9  00 
03250  2BFA  0C 
03250  2BFB  0C 
03250  2BFC  0C 
03250  2BFD  00 
03251  2BFE              ; 5X   0  1 2 3 4 5 6 7
03252  2BFE  14          .BYTE  20,24,0,0,0,8,8,0
03252  2BFF  18 
03252  2C00  00 
03252  2C01  00 
03252  2C02  00 
03252  2C03  08 
03252  2C04  08 
03252  2C05  00 
03253  2C06              ;      8  9 A B C D E F
03254  2C06  12          .BYTE  18,16,0,0,0,14,14,0
03254  2C07  10 
03254  2C08  00 
03254  2C09  00 
03254  2C0A  00 
03254  2C0B  0E 
03254  2C0C  0E 
03254  2C0D  00 
03255  2C0E              ; 6X   0  1 2 3 4 5 6 7
03256  2C0E  12          .BYTE  18,22,0,0,0,6,6,0
03256  2C0F  16 
03256  2C10  00 
03256  2C11  00 
03256  2C12  00 
03256  2C13  06 
03256  2C14  06 
03256  2C15  00 
03257  2C16              ;      8  9 A B C D E F
03258  2C16  12          .BYTE  18,4,2,0,26,12,12,0
03258  2C17  04 
03258  2C18  02 
03258  2C19  00 
03258  2C1A  1A 
03258  2C1B  0C 
03258  2C1C  0C 
03258  2C1D  00 
03259  2C1E              ; 7X   0  1 2 3 4 5 6 7






DISASSEMBLER20......PAGE 0070

LINE# LOC   CODE        LINE


03260  2C1E  14          .BYTE  20,24,0,0,0,8,8,0
03260  2C1F  18 
03260  2C20  00 
03260  2C21  00 
03260  2C22  00 
03260  2C23  08 
03260  2C24  08 
03260  2C25  00 
03261  2C26              ;      8  9 A B C D E F
03262  2C26  12          .BYTE  18,16,0,0,0,14,14,0
03262  2C27  10 
03262  2C28  00 
03262  2C29  00 
03262  2C2A  00 
03262  2C2B  0E 
03262  2C2C  0E 
03262  2C2D  00 
03263  2C2E              ; 8X   0  1 2 3 4 5 6 7
03264  2C2E  00          .BYTE  0,22,0,0,6,6,6,0
03264  2C2F  16 
03264  2C30  00 
03264  2C31  00 
03264  2C32  06 
03264  2C33  06 
03264  2C34  06 
03264  2C35  00 
03265  2C36              ;      8  9 A B C D E F
03266  2C36  12          .BYTE  18,0,18,0,12,12,12,0
03266  2C37  00 
03266  2C38  12 
03266  2C39  00 
03266  2C3A  0C 
03266  2C3B  0C 
03266  2C3C  0C 
03266  2C3D  00 
03267  2C3E              ; 9X   0  1 2 3 4 5 6 7
03268  2C3E  14          .BYTE  20,24,0,0,8,8,10,0
03268  2C3F  18 
03268  2C40  00 
03268  2C41  00 
03268  2C42  08 
03268  2C43  08 
03268  2C44  0A 
03268  2C45  00 
03269  2C46              ;      8  9 A B C D E F
03270  2C46  12          .BYTE  18,16,18,0,0,14,0,0
03270  2C47  10 
03270  2C48  12 
03270  2C49  00 
03270  2C4A  00 
03270  2C4B  0E 
03270  2C4C  00 
03270  2C4D  00 
03271  2C4E              ; AX   0  1 2 3 4 5 6 7
03272  2C4E  04          .BYTE  4,22,4,0,6,6,6,0






DISASSEMBLER20......PAGE 0071

LINE# LOC   CODE        LINE


03272  2C4F  16 
03272  2C50  04 
03272  2C51  00 
03272  2C52  06 
03272  2C53  06 
03272  2C54  06 
03272  2C55  00 
03273  2C56              ;      8  9 A B C D E F
03274  2C56  12          .BYTE  18,4,18,0,12,12,12,0
03274  2C57  04 
03274  2C58  12 
03274  2C59  00 
03274  2C5A  0C 
03274  2C5B  0C 
03274  2C5C  0C 
03274  2C5D  00 
03275  2C5E              ; BX   0  1 2 3 4 5 6 7
03276  2C5E  14          .BYTE  20,24,0,0,8,8,10,0
03276  2C5F  18 
03276  2C60  00 
03276  2C61  00 
03276  2C62  08 
03276  2C63  08 
03276  2C64  0A 
03276  2C65  00 
03277  2C66              ;      8  9 A B C D E F
03278  2C66  12          .BYTE  18,16,18,0,14,14,16,0
03278  2C67  10 
03278  2C68  12 
03278  2C69  00 
03278  2C6A  0E 
03278  2C6B  0E 
03278  2C6C  10 
03278  2C6D  00 
03279  2C6E              ; CX   0  1 2 3 4 5 6 7
03280  2C6E  04          .BYTE  4,22,0,0,6,6,6,0
03280  2C6F  16 
03280  2C70  00 
03280  2C71  00 
03280  2C72  06 
03280  2C73  06 
03280  2C74  06 
03280  2C75  00 
03281  2C76              ;      8  9 A B C D E F
03282  2C76  12          .BYTE  18,4,18,0,12,12,12,0
03282  2C77  04 
03282  2C78  12 
03282  2C79  00 
03282  2C7A  0C 
03282  2C7B  0C 
03282  2C7C  0C 
03282  2C7D  00 
03283  2C7E              ; DX   0  1 2 3 4 5 6 7
03284  2C7E  14          .BYTE  20,24,0,0,0,8,8,0
03284  2C7F  18 






DISASSEMBLER20......PAGE 0072

LINE# LOC   CODE        LINE


03284  2C80  00 
03284  2C81  00 
03284  2C82  00 
03284  2C83  08 
03284  2C84  08 
03284  2C85  00 
03285  2C86              ;      8  9 A B C D E F
03286  2C86  12          .BYTE  18,16,0,0,0,14,14,0
03286  2C87  10 
03286  2C88  00 
03286  2C89  00 
03286  2C8A  00 
03286  2C8B  0E 
03286  2C8C  0E 
03286  2C8D  00 
03287  2C8E              ; EX   0  1 2 3 4 5 6 7
03288  2C8E  04          .BYTE  4,22,0,0,6,6,6,0
03288  2C8F  16 
03288  2C90  00 
03288  2C91  00 
03288  2C92  06 
03288  2C93  06 
03288  2C94  06 
03288  2C95  00 
03289  2C96              ;      8  9 A B C D E F
03290  2C96  12          .BYTE  18,4,18,0,12,12,12,0
03290  2C97  04 
03290  2C98  12 
03290  2C99  00 
03290  2C9A  0C 
03290  2C9B  0C 
03290  2C9C  0C 
03290  2C9D  00 
03291  2C9E              ; FX   0  1 2 3 4 5 6 7
03292  2C9E  14          .BYTE  20,24,0,0,0,8,8,0
03292  2C9F  18 
03292  2CA0  00 
03292  2CA1  00 
03292  2CA2  00 
03292  2CA3  08 
03292  2CA4  08 
03292  2CA5  00 
03293  2CA6              ;      8  9 A B C D E F
03294  2CA6  12          .BYTE  18,16,0,0,0,14,14,0
03294  2CA7  10 
03294  2CA8  00 
03294  2CA9  00 
03294  2CAA  00 
03294  2CAB  0E 
03294  2CAC  0E 
03294  2CAD  00 
03295  2CAE              ;*********************************
03296  2CAE              ;.FIL 0:SYM.ASM
03297  2CAE              ;*********************************
03298  2CAE              ;.END






DISASSEMBLER20......PAGE 0073

LINE# LOC   CODE        LINE


03299  2CAE              ;*********************************
03300  2CAE              ; FILE SYMBOL.ASM
03301  2CAE              ;*********************************
03302  2CAE              ;
03303  2CAE              ;        DISASSEMBLER64
03304  2CAE              ;    SYMBOLIC DISASSEMBLER
03305  2CAE              ;       BY DENTON MARLOWE
03306  2CAE              ;
03307  2CAE              ;  (C)1986 BY DENTON MARLOWE
03308  2CAE              ;
03309  2CAE              ;*********************************
03310  2CAE              ; SYMBOLIC ROUTINES
03311  2CAE              ;*********************************
03312  2CAE              ; SYMBOLIC DISASSEMBLY OPTION
03313  2CAE              ;*********************************
03314  2CAE  A9 1B       SOP    LDA #<MSS1      ;LOW BYTE MESSAGE
03315  2CB0  A0 30              LDY #>MSS1      ;HIGH BYTE MESSAGE
03316  2CB2  20 A9 1D           JSR STRPNT      ;OUTPUT MESSAGE
03317  2CB5              ;      JSR CRNO    ;GET KEY PRESS
03318  2CB5  20 71 1D           JSR CRYS
03319  2CB8  90 08              BCC SOP1        ;C=0 YES
03320  2CBA              ;*********************************
03321  2CBA              ; ABSOLUTE DISASSEMBLY SELECTED
03322  2CBA              ;*********************************
03323  2CBA  A9 00              LDA #$00        ;SET SYMBLOIC FLAG
03324  2CBC  8D 38 12           STA SYMBOL      ;STORE FLAG
03325  2CBF  4C 0B 2D           JMP SY          ;FOR INTERNAL
03326  2CC2              ;*********************************
03327  2CC2              ; SYMBOLIC DISASSEMBLY SELECTED
03328  2CC2              ;*********************************
03329  2CC2  A9 01       SOP1   LDA #$01        ;SET SYMBOLIC FLAG
03330  2CC4  8D 38 12           STA SYMBOL      ;STORE FLAG
03331  2CC7              ;*********************************
03332  2CC7              ; SETUP START OF TABLE POINTER
03333  2CC7              ;*********************************
03334  2CC7  A9 66              LDA #<STABLE
03335  2CC9  8D 3B 12           STA SYMBOS
03336  2CCC  8D 39 12           STA SYMBOP
03337  2CCF  A9 39              LDA #>STABLE
03338  2CD1  8D 3C 12           STA SYMBOS+1
03339  2CD4  8D 3A 12           STA SYMBOP+1
03340  2CD7              ;*********************************
03341  2CD7              ; CHECK FOR SYMBOL TABLE OPTION
03342  2CD7              ;*********************************
03343  2CD7  A9 40       SYTAB  LDA #<MSS2      ;LOW BYTE MESSAGE
03344  2CD9  A0 30              LDY #>MSS2      ;HIGH BYTE MESSAGE
03345  2CDB  20 A9 1D           JSR STRPNT      ;OUTPUT MESSAGE
03346  2CDE  20 7E 1D           JSR CRNO        ;GET KEY PRESS
03347  2CE1  B0 28              BCS SY          ;C=1 NO
03348  2CE3              ;*********************************
03349  2CE3              ; APPEND SYMBOL TABLE
03350  2CE3              ;*********************************
03351  2CE3  A9 86              LDA #<MSS4
03352  2CE5  A0 30              LDY #>MSS4
03353  2CE7  20 A9 1D           JSR STRPNT






DISASSEMBLER20......PAGE 0074

LINE# LOC   CODE        LINE


03354  2CEA  20 7E 1D           JSR CRNO
03355  2CED  B0 0A              BCS SOP4
03356  2CEF  A9 E9              LDA #<UTABLE
03357  2CF1  8D 39 12           STA SYMBOP
03358  2CF4  A9 3A              LDA #>UTABLE
03359  2CF6  8D 3A 12           STA SYMBOP+1
03360  2CF9              ;*********************************
03361  2CF9              ; GO AND LOAD TABLE
03362  2CF9              ;*********************************
03363  2CF9  20 9E 2E    SOP4   JSR READXX      ;READ FILE
03364  2CFC  B0 0D              BCS SY          ;C=1 ERROR
03365  2CFE              ;*********************************
03366  2CFE              ; SETUP END OF TABLE POINTER
03367  2CFE              ;*********************************
03368  2CFE  AD 39 12           LDA SYMBOP      ;XREF POINTER
03369  2D01  8D 3D 12           STA SYMBOE
03370  2D04  AD 3A 12           LDA SYMBOP+1
03371  2D07  8D 3E 12           STA SYMBOE+1
03372  2D0A  60                 RTS
03373  2D0B              ;*********************************
03374  2D0B              ; DEFAULT SYMBOL TABLE END
03375  2D0B              ;*********************************
03376  2D0B  A9 E9       SY     LDA #<UTABLE
03377  2D0D  8D 3D 12           STA SYMBOE
03378  2D10  A9 3A              LDA #>UTABLE
03379  2D12  8D 3E 12           STA SYMBOE+1
03380  2D15  60                 RTS
03381  2D16              ;*********************************
03382  2D16              ; SET OR RESET SYMBOL TABLE
03383  2D16              ;*********************************
03384  2D16  AD 3B 12    SSET   LDA SYMBOS
03385  2D19  8D 39 12           STA SYMBOP
03386  2D1C  AD 3C 12           LDA SYMBOS+1
03387  2D1F  8D 3A 12           STA SYMBOP+1
03388  2D22  60                 RTS
03389  2D23              ;*********************************
03390  2D23              ; EQUATE TABLE SETUP
03391  2D23              ;*********************************
03392  2D23  AD 32 12    EQUINT LDA TABINE
03393  2D26  8D 2E 12           STA TABINP
03394  2D29  8D 30 12           STA TABINS
03395  2D2C  AD 33 12           LDA TABINE+1
03396  2D2F  8D 2F 12           STA TABINP+1
03397  2D32  8D 31 12           STA TABINS+1
03398  2D35  60                 RTS
03399  2D36              ;*********************************
03400  2D36              ; ENTRY POINT FOR ADDRESS
03401  2D36              ;*********************************
03402  2D36  AD 38 12    SYM    LDA SYMBOL
03403  2D39  F0 43              BEQ SYMEND
03404  2D3B  AD 22 12           LDA SELECT      ;COPY SELECT
03405  2D3E  8D 45 12           STA WORKED      ;ADDRESS INTO
03406  2D41  AD 23 12           LDA SELECT+1    ;WORKED
03407  2D44  8D 46 12           STA WORKED+1
03408  2D47  4C 4F 2D           JMP SYM1        ;CHECK FOR MATCH






DISASSEMBLER20......PAGE 0075

LINE# LOC   CODE        LINE


03409  2D4A              ;*********************************
03410  2D4A              ; ENTRY POINT FOR OPCODES
03411  2D4A              ;*********************************
03412  2D4A  AD 38 12    SYMOP  LDA SYMBOL
03413  2D4D  F0 2F              BEQ SYMEND
03414  2D4F              ;*********************************
03415  2D4F              ; COMPARE ADDRESS TO SYMBOL TABLE
03416  2D4F              ;*********************************
03417  2D4F  20 16 2D    SYM1   JSR SSET
03418  2D52  20 1F 2E    SYM2   JSR GETC
03419  2D55  8D 48 12           STA WORKER+1
03420  2D58  20 16 2E           JSR INCC
03421  2D5B  20 1F 2E           JSR GETC
03422  2D5E  8D 47 12           STA WORKER
03423  2D61              ;*********************************
03424  2D61  38                 SEC             ;SET CARRY
03425  2D62  AD 47 12           LDA WORKER
03426  2D65  ED 45 12           SBC WORKED      ;SUB FROM LOW
03427  2D68  8D 51 12           STA TEMP        ;STORE RESULT
03428  2D6B  AD 48 12           LDA WORKER+1
03429  2D6E  ED 46 12           SBC WORKED+1    ;SUB FROM HIGH
03430  2D71  0D 51 12           ORA TEMP        ;OR RESULTS
03431  2D74  F0 0A              BEQ MATCH       ;CHECK FOR MATCH
03432  2D76  20 F2 2D           JSR NEXTC       ;IF NOT NEXT
03433  2D79  B0 03              BCS SYMEND      ;END OF TABLE?
03434  2D7B  4C 52 2D           JMP SYM2        ;NO CHECK NEXT
03435  2D7E  18          SYMEND CLC             ;NO MATCHES CLEAR
03436  2D7F  60                 RTS             ;RETURN
03437  2D80              ;*********************************
03438  2D80              ; FOUND MATCH
03439  2D80              ;*********************************
03440  2D80  AD 12 12    MATCH  LDA PASS        ;CHECK PASS
03441  2D83  CD 15 12           CMP CPASS       ;IS IT LAST
03442  2D86  F0 18              BEQ MATCHS      ;IF SO PRINT
03443  2D88  CD 16 12           CMP SPASS
03444  2D8B  F0 3A              BEQ MATCHT
03445  2D8D  20 2A 24           JSR RANGE       ;SYMBOL IN RANGE
03446  2D90  90 3F              BCC MATEXT      ;NO INTERNAL EQ
03447  2D92  20 16 2E           JSR INCC        ;INC TO SYMBOL
03448  2D95  20 1F 2E           JSR GETC        ;GET FIRST CHAR
03449  2D98  C9 20              CMP #$20        ;SPACE
03450  2D9A  F0 03              BEQ MATONE      ;NOT EQUATE
03451  2D9C  4C A1 24           JMP PUTI        ;PUT IN EQUATE
03452  2D9F  60          MATONE RTS             ;RETURN
03453  2DA0              ;*********************************
03454  2DA0              ; CHECK FOR SYMBOL+1
03455  2DA0              ;*********************************
03456  2DA0  20 16 2E    MATCHS JSR INCC        ;INC TO LABEL
03457  2DA3  20 1F 2E           JSR GETC        ;GET CHARARCTER
03458  2DA6  C9 20              CMP #$20        ;IS IT SPACE
03459  2DA8  D0 1D              BNE MATCHT      ;IF NOT GO ON
03460  2DAA  38                 SEC             ;SET CARRY
03461  2DAB  AD 39 12           LDA SYMBOP      ;GET LOW POINT
03462  2DAE  E9 09              SBC #$09        ;LAST SYMBOL
03463  2DB0  48                 PHA             ;PUSH ON STACK






DISASSEMBLER20......PAGE 0076

LINE# LOC   CODE        LINE


03464  2DB1  AD 3A 12           LDA SYMBOP+1    ;GET HIGH POINT
03465  2DB4  E9 00              SBC #$00        ;LAST SYMBOL
03466  2DB6  A8                 TAY             ;PUT IN Y
03467  2DB7  68                 PLA             ;GET LO POINT
03468  2DB8  20 D2 2D           JSR STRSYM      ;PRINT SYMBOL
03469  2DBB  A9 2B              LDA #'+'         ;ASCII +
03470  2DBD  20 FF 1D           JSR PCHAR       ;PRINT IT
03471  2DC0  A9 31              LDA #'1'         ;ASCII 1
03472  2DC2  20 FF 1D           JSR PCHAR       ;PRINT IT
03473  2DC5  38                 SEC             ;C=1 SYMBOL
03474  2DC6  60                 RTS             ;RETURN
03475  2DC7              ;*********************************
03476  2DC7  AD 39 12    MATCHT LDA SYMBOP      ;LOW BYTE LABEL
03477  2DCA  AC 3A 12           LDY SYMBOP+1    ;HIGH BYTE LABEL
03478  2DCD  20 D2 2D           JSR STRSYM      ;PRINT LABEL
03479  2DD0              ;*********************************
03480  2DD0  38                 SEC             ;MATCH SET CARRY
03481  2DD1  60          MATEXT RTS             ;RETURN
03482  2DD2              ;*********************************
03483  2DD2              ; PRINT SYMBOL
03484  2DD2              ;*********************************
03485  2DD2  85 02       STRSYM STA ZEROUR
03486  2DD4  84 03              STY ZEROUR+1
03487  2DD6  A0 00              LDY #$00
03488  2DD8  B1 02       STRSY1 LDA (ZEROUR),Y
03489  2DDA  F0 0A              BEQ SYEXIT
03490  2DDC  C9 20              CMP #$20
03491  2DDE  F0 06              BEQ SYEXIT
03492  2DE0  20 FF 1D           JSR PCHAR
03493  2DE3  C8                 INY
03494  2DE4  D0 F2              BNE STRSY1
03495  2DE6  60          SYEXIT RTS
03496  2DE7  B1 02       FIXSYM LDA (ZEROUR),Y
03497  2DE9  F0 FB              BEQ SYEXIT
03498  2DEB  20 FF 1D           JSR PCHAR
03499  2DEE  C8                 INY
03500  2DEF  4C E7 2D           JMP FIXSYM
03501  2DF2              ;*********************************
03502  2DF2              ; INC SYMBOL ADDRESS TABLE POINTER
03503  2DF2              ;*********************************
03504  2DF2  18          NEXTC  CLC
03505  2DF3  AD 39 12           LDA SYMBOP
03506  2DF6  69 08              ADC #$08
03507  2DF8  8D 39 12           STA SYMBOP
03508  2DFB  AD 3A 12           LDA SYMBOP+1
03509  2DFE  69 00              ADC #$00
03510  2E00  8D 3A 12           STA SYMBOP+1
03511  2E03  CD 3E 12           CMP SYMBOE+1
03512  2E06  90 0A              BCC COK
03513  2E08  D0 0A              BNE NCOK
03514  2E0A  AD 39 12           LDA SYMBOP
03515  2E0D  CD 3D 12           CMP SYMBOE
03516  2E10  B0 02              BCS NCOK
03517  2E12  18          COK    CLC
03518  2E13  60                 RTS






DISASSEMBLER20......PAGE 0077

LINE# LOC   CODE        LINE


03519  2E14  38          NCOK   SEC
03520  2E15  60                 RTS
03521  2E16              ;*********************************
03522  2E16  EE 39 12    INCC   INC SYMBOP
03523  2E19  D0 03              BNE *+5
03524  2E1B  EE 3A 12           INC SYMBOP+1
03525  2E1E  60                 RTS
03526  2E1F              ;*********************************
03527  2E1F              ; GET BYTE FROM ADDRESS TABLE
03528  2E1F              ;*********************************
03529  2E1F  AD 39 12    GETC   LDA SYMBOP
03530  2E22  85 02              STA ZEROUR
03531  2E24  AD 3A 12           LDA SYMBOP+1
03532  2E27  85 03              STA ZEROUR+1
03533  2E29  A0 00              LDY #$00
03534  2E2B  B1 02              LDA (ZEROUR),Y
03535  2E2D  60                 RTS
03536  2E2E              ;*********************************
03537  2E2E              ; PRINT EQUATE TABLE
03538  2E2E              ;*********************************
03539  2E2E  38          EQUPRT SEC
03540  2E2F  AD 30 12           LDA TABINS
03541  2E32  ED 32 12           SBC TABINE
03542  2E35  8D 51 12           STA TEMP
03543  2E38  AD 31 12           LDA TABINS+1
03544  2E3B  ED 33 12           SBC TABINE+1
03545  2E3E  0D 51 12           ORA TEMP
03546  2E41  F0 55              BEQ EQUEND
03547  2E43  20 4C 25           JSR SORT
03548  2E46  20 4F 22           JSR COMENT
03549  2E49  20 17 24           JSR PRTOTH
03550  2E4C  A9 1D              LDA #<EQUATE
03551  2E4E  A0 31              LDY #>EQUATE
03552  2E50  20 A9 1D           JSR STRPNT
03553  2E53  20 EC 1C           JSR NEWLIN
03554  2E56  20 4F 22           JSR COMENT
03555  2E59  20 F1 24    EQUOP  JSR GETI
03556  2E5C  8D 45 12           STA WORKED
03557  2E5F  20 E8 24           JSR INCI
03558  2E62  20 F1 24           JSR GETI
03559  2E65  8D 46 12           STA WORKED+1
03560  2E68  20 17 24           JSR PRTOTH
03561  2E6B  20 4A 2D           JSR SYMOP
03562  2E6E  B0 03              BCS EQUOP1
03563  2E70  20 AD 22           JSR PWORK
03564  2E73  A9 3D       EQUOP1 LDA #'='
03565  2E75  20 FF 1D           JSR PCHAR
03566  2E78  A9 24              LDA #'$'
03567  2E7A  20 FF 1D           JSR PCHAR
03568  2E7D  20 B0 22           JSR PWORKD
03569  2E80  20 EC 1C           JSR NEWLIN
03570  2E83              ;*********************************
03571  2E83  20 E8 24           JSR INCI
03572  2E86  AD 2F 12           LDA TABINP+1
03573  2E89  CD 33 12           CMP TABINE+1






DISASSEMBLER20......PAGE 0078

LINE# LOC   CODE        LINE


03574  2E8C  90 CB              BCC EQUOP
03575  2E8E  D0 08              BNE EQUEND
03576  2E90  AD 2E 12           LDA TABINP
03577  2E93  CD 32 12           CMP TABINE
03578  2E96  90 C1              BCC EQUOP
03579  2E98              ;*********************************
03580  2E98  20 4F 22    EQUEND JSR COMENT
03581  2E9B  4C 88 24           JMP RESINT
03582  2E9E              ;*********************************
03583  2E9E              ; READ CROSS REFERENCE SEQ FILE
03584  2E9E              ;      INTO SYMBOL TABLE
03585  2E9E              ;*********************************
03586  2E9E              ; READ FILE NAME DEFAULT ON CR
03587  2E9E              ;*********************************
03588  2E9E  A9 67       READXX LDA #<MSS3
03589  2EA0  A0 30              LDY #>MSS3
03590  2EA2  20 A9 1D           JSR STRPNT
03591  2EA5  20 E4 FF    SOP2   JSR GETIN
03592  2EA8  F0 FB              BEQ SOP2
03593  2EAA  C9 30              CMP #'0'
03594  2EAC  F0 04              BEQ SOP3
03595  2EAE  C9 31              CMP #'1'
03596  2EB0  D0 F3              BNE SOP2
03597  2EB2  20 D2 FF    SOP3   JSR CHROUT
03598  2EB5  8D E6 12           STA TEXTER
03599  2EB8              ;*********************************
03600  2EB8  A9 AB              LDA #<LOADF
03601  2EBA  A0 30              LDY #>LOADF
03602  2EBC  20 A9 1D           JSR STRPNT
03603  2EBF              ;*********************************
03604  2EBF  20 0A 1D           JSR INSTNG
03605  2EC2  F0 20              BEQ READXF
03606  2EC4  98                 TYA
03607  2EC5  48                 PHA
03608  2EC6  20 AC 16           JSR INITD
03609  2EC9  68                 PLA
03610  2ECA  A8                 TAY
03611  2ECB  A2 00              LDX #$00
03612  2ECD  BD 17 30    XFILE1 LDA NAMS,X
03613  2ED0  99 5C 12           STA BUF,Y
03614  2ED3  C8                 INY
03615  2ED4  E8                 INX
03616  2ED5  E0 04              CPX #$04
03617  2ED7  D0 F4              BNE XFILE1
03618  2ED9  98                 TYA
03619  2EDA  A0 12              LDY #>BUF
03620  2EDC  A2 5C              LDX #<BUF
03621  2EDE  20 BD FF           JSR SETNAM
03622  2EE1  4C ED 2E           JMP REOPEN
03623  2EE4              ;*********************************
03624  2EE4              ; DEFAULT FILENAME XRFF0000
03625  2EE4              ;********************************
03626  2EE4  A9 0E       READXF LDA #$0E
03627  2EE6  A0 30              LDY #>NAME
03628  2EE8  A2 0D              LDX #<NAME






DISASSEMBLER20......PAGE 0079

LINE# LOC   CODE        LINE


03629  2EEA  20 BD FF           JSR SETNAM
03630  2EED              ;*********************************
03631  2EED              ; OPEN FILE
03632  2EED              ;********************************
03633  2EED  A9 03       REOPEN LDA #$03
03634  2EEF  A2 08              LDX #$08
03635  2EF1  A0 03              LDY #$03
03636  2EF3  20 BA FF           JSR SETLFS
03637  2EF6  20 C0 FF           JSR OPEN
03638  2EF9              ;********************************
03639  2EF9              ; CHECK FOR DISK ERROR
03640  2EF9              ;*********************************
03641  2EF9  20 B2 1C           JSR DISERR
03642  2EFC  B0 3F              BCS QUITXX
03643  2EFE              ;*********************************
03644  2EFE              ; OUTPUT LOADING MESSAGE
03645  2EFE              ;*********************************
03646  2EFE  A9 CB              LDA #<LOADM     ;MSG LOW
03647  2F00  A0 30              LDY #>LOADM     ;MSG HIGH
03648  2F02  20 A9 1D           JSR STRPNT      ;OUTPUT MSG
03649  2F05              ;*********************************
03650  2F05  A9 00              LDA #$00        ;COL COUNTER
03651  2F07  8D 51 12           STA TEMP
03652  2F0A              ;*********************************
03653  2F0A              ; INPUT AND LOAD SYMBOL TABLE
03654  2F0A              ;*********************************
03655  2F0A  20 4E 2F    READX  JSR READS       ;INPUT SYMBOL
03656  2F0D  20 CC 2F           JSR PUTC
03657  2F10  20 F4 2F           JSR LINES       ;SCREEN OUT
03658  2F13  20 E1 FF           JSR STOP
03659  2F16  F0 05              BEQ QUITX
03660  2F18  20 B7 FF           JSR READST
03661  2F1B  F0 ED              BEQ READX
03662  2F1D              ;*********************************
03663  2F1D              ;    CLOSE OPEN FILE
03664  2F1D              ;*********************************
03665  2F1D  A9 03       QUITX  LDA #$03
03666  2F1F  20 C3 FF           JSR CLOSE
03667  2F22  20 CC FF           JSR CLRCHN
03668  2F25  20 E1 22           JSR CRLF
03669  2F28              ;*********************************
03670  2F28              ; SET END OF TABLE
03671  2F28              ;*********************************
03672  2F28  AD 39 12           LDA SYMBOP
03673  2F2B  8D 3D 12           STA SYMBOE
03674  2F2E  AD 3A 12           LDA SYMBOP+1
03675  2F31  8D 3E 12           STA SYMBOE+1
03676  2F34              ;*********************************
03677  2F34              ; OUTPUT LOADED MESSAGE
03678  2F34              ;*********************************
03679  2F34  A9 E9              LDA #<LOADC
03680  2F36  A0 30              LDY #>LOADC
03681  2F38  20 A9 1D           JSR STRPNT
03682  2F3B  18                 CLC
03683  2F3C  60                 RTS






DISASSEMBLER20......PAGE 0080

LINE# LOC   CODE        LINE


03684  2F3D              ;*********************************
03685  2F3D              ; OUTPUT ERROR MESSAGE
03686  2F3D              ;*********************************
03687  2F3D  A9 03       QUITXX LDA #$03
03688  2F3F  20 C3 FF           JSR CLOSE
03689  2F42  20 CC FF           JSR CLRCHN
03690  2F45  A9 01              LDA #<LOADE
03691  2F47  A0 31              LDY #>LOADE
03692  2F49  20 A9 1D           JSR STRPNT
03693  2F4C  38                 SEC
03694  2F4D  60                 RTS
03695  2F4E              ;*********************************
03696  2F4E              ; READ SYMBOL FROM FILE
03697  2F4E              ;*********************************
03698  2F4E  A2 03       READS  LDX #$03        ;FILE NUMBER
03699  2F50  20 C6 FF           JSR CHKIN       ;FILE IS INPUT
03700  2F53  A0 02              LDY #$02        ;COUNTER
03701  2F55  20 CF FF           JSR CHRIN       ;INPUT CHAR
03702  2F58  99 DA 12           STA SYMBUF,Y    ;1ST CHAR
03703  2F5B  20 D2 FF           JSR CHROUT      ;PRITN IT
03704  2F5E  C8                 INY             ;INC POINTER
03705  2F5F  20 CF FF    READY  JSR CHRIN       ;NEXT CHAR
03706  2F62  99 DA 12           STA SYMBUF,Y    ;STORE
03707  2F65  20 D2 FF           JSR CHROUT      ;PRINT IT
03708  2F68  C8                 INY             ;INC OFFSET
03709  2F69  C0 08              CPY #$08        ;8 IS FOR NULL
03710  2F6B  D0 F2              BNE READY       ;BRANCH IF NOT
03711  2F6D  A9 00              LDA #$00        ;NULL MARKER
03712  2F6F  99 DA 12           STA SYMBUF,Y    ;STORE AT END
03713  2F72              ;*********************************
03714  2F72  20 F3 22           JSR SPACE       ;PRINT SPACE
03715  2F75  20 BE 22           JSR DOLLAR      ;PRINT $ SIGN
03716  2F78              ;*********************************
03717  2F78  AD E6 12           LDA TEXTER
03718  2F7B  C9 30              CMP #'0'
03719  2F7D  F0 2F              BEQ STDREF
03720  2F7F              ;*********************************
03721  2F7F  A0 00              LDY #$00
03722  2F81  20 8E 2F           JSR XGET
03723  2F84  C8                 INY
03724  2F85  20 8E 2F           JSR XGET
03725  2F88  20 CF FF           JSR CHRIN       ;GET $0D
03726  2F8B  4C CC FF           JMP CLRCHN
03727  2F8E              ;*********************************
03728  2F8E  20 CF FF    XGET   JSR CHRIN
03729  2F91  20 D2 FF           JSR CHROUT
03730  2F94  20 5A 1D           JSR BINARY
03731  2F97  0A                 ASL A
03732  2F98  0A                 ASL A
03733  2F99  0A                 ASL A
03734  2F9A  0A                 ASL A
03735  2F9B  99 DA 12           STA SYMBUF,Y
03736  2F9E  20 CF FF           JSR CHRIN
03737  2FA1  20 D2 FF           JSR CHROUT
03738  2FA4  20 5A 1D           JSR BINARY






DISASSEMBLER20......PAGE 0081

LINE# LOC   CODE        LINE


03739  2FA7  19 DA 12           ORA SYMBUF,Y
03740  2FAA  99 DA 12           STA SYMBUF,Y
03741  2FAD  60                 RTS
03742  2FAE              ;*********************************
03743  2FAE  A0 00       STDREF LDY #$00        ;ZERO OFFSET
03744  2FB0  20 CF FF           JSR CHRIN       ;HIGH BYTES
03745  2FB3  99 DA 12           STA SYMBUF,Y    ;
03746  2FB6  8C 54 12           STY SAVY        ;
03747  2FB9  20 93 1D           JSR PRBYT       ;
03748  2FBC  AC 54 12           LDY SAVY        ;
03749  2FBF  C8                 INY             ;
03750  2FC0  20 CF FF           JSR CHRIN       ;LOW BYTE
03751  2FC3  99 DA 12           STA SYMBUF,Y    ;
03752  2FC6  20 93 1D           JSR PRBYT       ;
03753  2FC9  4C CC FF           JMP CLRCHN      ;KEYBOARD INPUT
03754  2FCC              ;*********************************
03755  2FCC              ; MOVE SYMBOL FROM BUFFER TO TABLE
03756  2FCC              ;*********************************
03757  2FCC  A0 00       PUTC   LDY #$00
03758  2FCE  AD 39 12           LDA SYMBOP
03759  2FD1  85 02              STA ZEROUR
03760  2FD3  AD 3A 12           LDA SYMBOP+1
03761  2FD6  85 03              STA ZEROUR+1
03762  2FD8  B9 DA 12    PUT    LDA SYMBUF,Y
03763  2FDB  91 02              STA (ZEROUR),Y
03764  2FDD  C8                 INY
03765  2FDE  C0 09              CPY #$09
03766  2FE0  D0 F6              BNE PUT
03767  2FE2  18                 CLC
03768  2FE3  AD 39 12           LDA SYMBOP
03769  2FE6  69 09              ADC #$09
03770  2FE8  8D 39 12           STA SYMBOP
03771  2FEB  AD 3A 12           LDA SYMBOP+1
03772  2FEE  69 00              ADC #$00
03773  2FF0  8D 3A 12           STA SYMBOP+1
03774  2FF3  60                 RTS
03775  2FF4              ;*********************************
03776  2FF4              ; OUTPUT SYMBOL IN 4 COLUMNS
03777  2FF4              ;*********************************
03778  2FF4  EE 51 12    LINES  INC TEMP
03779  2FF7  A9 03              LDA #$03
03780  2FF9  CD 51 12           CMP TEMP
03781  2FFC  F0 05              BEQ RESET
03782  2FFE  A9 2E              LDA #'.'
03783  3000  4C D2 FF           JMP CHROUT
03784  3003  A9 00       RESET  LDA #$00
03785  3005  8D 51 12           STA TEMP
03786  3008  A9 0D              LDA #$0D
03787  300A  4C D2 FF           JMP CHROUT
03788  300D              ;*********************************
03789  300D              ;   COMMAND MESSAGES
03790  300D              ;*********************************
03791  300D  30 3A       NAME   .BYTE '0:XRLL0000'
03792  3017  2C 53       NAMS   .BYTE ',S,R'
03793  301B              ;*********************************






DISASSEMBLER20......PAGE 0082

LINE# LOC   CODE        LINE


03794  301B  0D          MSS1   .BYTE $0D
03795  301C  0D                 .BYTE $0D
03796  301D  53 59              .BYTE 'SYMBOLIC DISASSEMBLY'
03797  3031  0D                 .BYTE $0D
03798  3032  28 59              .BYTE '(Y OR N/CR)? '
03799  303F  00                 .BYTE 0
03800  3040                     
03801  3040  0D                 MSS2 .BYTE $0D
03802  3041  0D                 .BYTE $0D
03803  3042  4C 4F              .BYTE 'LOAD USER'
03804  304B  0D                 .BYTE $0D
03805  304C  53 59              .BYTE 'SYMBOL TABLE'
03806  3058  0D                 .BYTE $0D
03807  3059  28 59              .BYTE '(Y OR N/CR)? '
03808  3066  00                 .BYTE 0
03809  3067                     
03810  3067  0D                 MSS3 .BYTE $0D
03811  3068  0D                 .BYTE $0D
03812  3069  46 4F              .BYTE 'FORMAT'
03813  306F  0D                 .BYTE $0D
03814  3070  30 3D              .BYTE '0=STANDARD'
03815  307A  0D                 .BYTE $0D
03816  307B  31 3D              .BYTE '1=ASCII : '
03817  3085  00                 .BYTE 0
03818  3086                     
03819  3086  0D                 MSS4 .BYTE $0D
03820  3087  0D                 .BYTE $0D
03821  3088  41 50              .BYTE 'APPEND DEFAULT TABLE'
03822  309C  0D                 .BYTE $0D
03823  309D  28 59              .BYTE '(Y OR N/CR)? '
03824  30AA  00                 .BYTE 0
03825  30AB                     
03826  30AB  0D          LOADF  .BYTE $0D
03827  30AC  0D          .BYTE  $0D
03828  30AD  53 59       .BYTE  'SYMBOL TABLE'
03829  30B9  0D          .BYTE  $0D
03830  30BA  28 43       .BYTE  '(CR OR D:NAME): '
03831  30CA  00          .BYTE  0
03832  30CB              .
03833  30CB  0D          LOADM  .BYTE $0D,$0D
03833  30CC  0D 
03834  30CD  52 45       .BYTE  'READING SYMBOL'
03835  30DB  0D          .BYTE  $0D
03836  30DC  54 41       .BYTE  'TABLE FILE'
03837  30E6  0D          .BYTE  $0D,$0D
03837  30E7  0D 
03838  30E8  00          .BYTE  0
03839  30E9              .
03840  30E9  0D          LOADC  .BYTE $0D
03841  30EA  0D          .BYTE  $0D
03842  30EB  53 59       .BYTE  'SYMBOL TABLE'
03843  30F7  0D          .BYTE  $0D
03844  30F8  4C 4F       .BYTE  'LOADED'
03845  30FE  0D          .BYTE  $0D,$0D
03845  30FF  0D 






DISASSEMBLER20......PAGE 0083

LINE# LOC   CODE        LINE


03846  3100  00          .BYTE  0
03847  3101              .
03848  3101  0D          LOADE  .BYTE $0D
03849  3102  0D          .BYTE  $0D
03850  3103  53 59       .BYTE  'SYMBOL TABLE'
03851  310F  0D          .BYTE  $0D
03852  3110  4E 4F       .BYTE  'NOT LOADED'
03853  311A  0D          .BYTE  $0D,$0D
03853  311B  0D 
03854  311C  00          .BYTE  0
03855  311D              ;*********************************
03856  311D  3B 20       EQUATE .BYTE '; EXTERNAL ADDRESS EQUATES'
03857  3137  00                 .BYTE 0
03858  3138              ;*********************************
03859  3138              ; PATCH CODE AREA
03860  3138              ;*********************************
03861  3138              *=*+$0800
03862  3938              ;*********************************
03863  3938              ; BIT INSTRUCTION CODING
03864  3938              ;*********************************
03865  3938              BITOPT = *
03866  3938  A9 07              LDA #<MSB1      ;TABLE TYPE
03867  393A  A0 1B              LDY #>MSB1
03868  393C  20 A9 1D           JSR STRPNT
03869  393F  20 E4 FF    BOP0   JSR GETIN
03870  3942  F0 FB              BEQ BOP0
03871  3944  C9 30              CMP #'0'        ;STANDARD
03872  3946  F0 12              BEQ BSC
03873  3948  C9 31              CMP #'1'        ;$2C ABS
03874  394A  F0 0E              BEQ BSC 
03875  394C  C9 32              CMP #'2'        ;$24 ZP
03876  394E  F0 0A              BEQ BSC
03877  3950  C9 33              CMP #'3'        ;$2C AND $24
03878  3952  F0 06              BEQ BSC
03879  3954  C9 0D              CMP #$0D        ;STANDARD
03880  3956  D0 E7              BNE BOP0
03881  3958  A9 30              LDA #'0'
03882  395A              BSC    = *
03883  395A  48                 PHA             ;STASH INPUT
03884  395B  20 D2 FF           JSR CHROUT      ;OUTPUT FEEDBACK
03885  395E  68                 PLA             ;POP INPUT
03886  395F  49 30              EOR #$30        ;MAKE A NUMBER
03887  3961  8D 65 39           STA BITFLG      ;SET FLAG
03888  3964  60                 RTS
03889  3965              ;*********************************
03890  3965              ; BIT INSTRUCTION CODING FLAG
03891  3965              ;*********************************
03892  3965              BITFLG = *
03893  3965  AA                 .BYTE $AA
03894  3966              ;*********************************
03895  3966              
03896  3966              ;*********************************
03897  3966              ; SYMBOL TABLE
03898  3966              ;*********************************
03899  3966              ;  KERNAL JUMP TABLE






DISASSEMBLER20......PAGE 0084

LINE# LOC   CODE        LINE


03900  3966              ;*********************************
03901  3966              STABLE = *
03902  3966  FF                 .BYTE $FF,$80,'IDBYTE',0
03902  3967  80 
03902  3968  49 44 
03902  396E  00 
03903  396F  FF                 .BYTE $FF,$81,'CINT  ',0
03903  3970  81 
03903  3971  43 49 
03903  3977  00 
03904  3978  FF                 .BYTE $FF,$84,'IOINIT',0
03904  3979  84 
03904  397A  49 4F 
03904  3980  00 
03905  3981  FF                 .BYTE $FF,$87,'RAMTAS',0
03905  3982  87 
03905  3983  52 41 
03905  3989  00 
03906  398A  FF                 .BYTE $FF,$8A,'RESTOR',0
03906  398B  8A 
03906  398C  52 45 
03906  3992  00 
03907  3993  FF                 .BYTE $FF,$8D,'VECTOR',0
03907  3994  8D 
03907  3995  56 45 
03907  399B  00 
03908  399C  FF                 .BYTE $FF,$90,'SETMSG',0
03908  399D  90 
03908  399E  53 45 
03908  39A4  00 
03909  39A5  FF                 .BYTE $FF,$93,'SECOND',0
03909  39A6  93 
03909  39A7  53 45 
03909  39AD  00 
03910  39AE  FF                 .BYTE $FF,$96,'TKSA  ',0
03910  39AF  96 
03910  39B0  54 4B 
03910  39B6  00 
03911  39B7  FF                 .BYTE $FF,$99,'MEMTOP',0
03911  39B8  99 
03911  39B9  4D 45 
03911  39BF  00 
03912  39C0  FF                 .BYTE $FF,$9C,'MEMBOT',0
03912  39C1  9C 
03912  39C2  4D 45 
03912  39C8  00 
03913  39C9  FF                 .BYTE $FF,$9F,'SCNKEY',0
03913  39CA  9F 
03913  39CB  53 43 
03913  39D1  00 
03914  39D2  FF                 .BYTE $FF,$A2,'SETTMO',0
03914  39D3  A2 
03914  39D4  53 45 
03914  39DA  00 
03915  39DB  FF                 .BYTE $FF,$A5,'ACPTR ',0






DISASSEMBLER20......PAGE 0085

LINE# LOC   CODE        LINE


03915  39DC  A5 
03915  39DD  41 43 
03915  39E3  00 
03916  39E4  FF                 .BYTE $FF,$A8,'CIOUT ',0
03916  39E5  A8 
03916  39E6  43 49 
03916  39EC  00 
03917  39ED  FF                 .BYTE $FF,$AB,'UNTLK ',0
03917  39EE  AB 
03917  39EF  55 4E 
03917  39F5  00 
03918  39F6  FF                 .BYTE $FF,$AE,'UNLSN ',0
03918  39F7  AE 
03918  39F8  55 4E 
03918  39FE  00 
03919  39FF  FF                 .BYTE $FF,$B1,'LISTEN',0
03919  3A00  B1 
03919  3A01  4C 49 
03919  3A07  00 
03920  3A08  FF                 .BYTE $FF,$B4,'TALK  ',0
03920  3A09  B4 
03920  3A0A  54 41 
03920  3A10  00 
03921  3A11  FF                 .BYTE $FF,$B7,'READST',0
03921  3A12  B7 
03921  3A13  52 45 
03921  3A19  00 
03922  3A1A  FF                 .BYTE $FF,$BA,'SETLFS',0
03922  3A1B  BA 
03922  3A1C  53 45 
03922  3A22  00 
03923  3A23  FF                 .BYTE $FF,$BD,'SETNAM',0
03923  3A24  BD 
03923  3A25  53 45 
03923  3A2B  00 
03924  3A2C  FF                 .BYTE $FF,$C0,'OPEN  ',0
03924  3A2D  C0 
03924  3A2E  4F 50 
03924  3A34  00 
03925  3A35  FF                 .BYTE $FF,$C3,'CLOSE ',0
03925  3A36  C3 
03925  3A37  43 4C 
03925  3A3D  00 
03926  3A3E  FF                 .BYTE $FF,$C6,'CHKIN ',0
03926  3A3F  C6 
03926  3A40  43 48 
03926  3A46  00 
03927  3A47  FF                 .BYTE $FF,$C9,'CHKOUT',0
03927  3A48  C9 
03927  3A49  43 48 
03927  3A4F  00 
03928  3A50  FF                 .BYTE $FF,$CC,'CLRCHN',0
03928  3A51  CC 
03928  3A52  43 4C 
03928  3A58  00 






DISASSEMBLER20......PAGE 0086

LINE# LOC   CODE        LINE


03929  3A59  FF                 .BYTE $FF,$CF,'CHRIN ',0
03929  3A5A  CF 
03929  3A5B  43 48 
03929  3A61  00 
03930  3A62  FF                 .BYTE $FF,$D2,'CHROUT',0
03930  3A63  D2 
03930  3A64  43 48 
03930  3A6A  00 
03931  3A6B  FF                 .BYTE $FF,$D5,'LOAD  ',0
03931  3A6C  D5 
03931  3A6D  4C 4F 
03931  3A73  00 
03932  3A74  FF                 .BYTE $FF,$D8,'SAVE  ',0
03932  3A75  D8 
03932  3A76  53 41 
03932  3A7C  00 
03933  3A7D  FF                 .BYTE $FF,$DB,'SETTIM',0
03933  3A7E  DB 
03933  3A7F  53 45 
03933  3A85  00 
03934  3A86  FF                 .BYTE $FF,$DE,'RDTIM ',0
03934  3A87  DE 
03934  3A88  52 44 
03934  3A8E  00 
03935  3A8F  FF                 .BYTE $FF,$E1,'STOP  ',0
03935  3A90  E1 
03935  3A91  53 54 
03935  3A97  00 
03936  3A98  FF                 .BYTE $FF,$E4,'GETIN ',0
03936  3A99  E4 
03936  3A9A  47 45 
03936  3AA0  00 
03937  3AA1  FF                 .BYTE $FF,$E7,'CLALL ',0
03937  3AA2  E7 
03937  3AA3  43 4C 
03937  3AA9  00 
03938  3AAA  FF                 .BYTE $FF,$EA,'UDTIM ',0
03938  3AAB  EA 
03938  3AAC  55 44 
03938  3AB2  00 
03939  3AB3  FF                 .BYTE $FF,$ED,'SCREEN',0
03939  3AB4  ED 
03939  3AB5  53 43 
03939  3ABB  00 
03940  3ABC  FF                 .BYTE $FF,$F0,'PLOT  ',0
03940  3ABD  F0 
03940  3ABE  50 4C 
03940  3AC4  00 
03941  3AC5  FF                 .BYTE $FF,$F3,'IOBASE',0
03941  3AC6  F3 
03941  3AC7  49 4F 
03941  3ACD  00 
03942  3ACE              ;*********************************
03943  3ACE  FF                 .BYTE $FF,$FA,'NMIVEC',0
03943  3ACF  FA 






DISASSEMBLER20......PAGE 0087

LINE# LOC   CODE        LINE


03943  3AD0  4E 4D 
03943  3AD6  00 
03944  3AD7  FF                 .BYTE $FF,$FC,'RESVEC',0
03944  3AD8  FC 
03944  3AD9  52 45 
03944  3ADF  00 
03945  3AE0  FF                 .BYTE $FF,$FE,'IRQVEC',0
03945  3AE1  FE 
03945  3AE2  49 52 
03945  3AE8  00 
03946  3AE9              ;*********************************
03947  3AE9  00          UTABLE .BYTE 0
03948  3AEA              ;*********************************
03949  3AEA              .END


ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 ABSBIT   2138    ABSEXT   215D    ABSLUT   2139    ABSX     215E
 ABSY     2164    AC0      279C    AC1      279F    ACC      20ED
 ACHECK   278A    ADRS     124F    AFILE    1876    AGET     18AA
 AGET1    18B6    ALINE    27CD    ALOP     27DF    AOP      1842
 AOP1     1907    AOP2     1931    AOP3     1956    AOPX     1902
 ASC      1973    ASCCCC   2718    ASCI1    2745    ASCII    273A
 ASCIIQ   2773    ASCKK    272F    B0000    2006    BASIC    120D
 BINARY   1D5A    BITFLG   3965    BITOPT   3938    BOP      186D
 BOP0     393F    BSC      395A    BSTUB    0001    BUF      125C
 BYABIT   1FD5    BYTES    27A2    BYTESX   27CA    BYTT     1FAD
 BYZBIT   1FB0    CASCII   2822    CDATA    12E7    CHKIN    FFC6
 CHKOUT   FFC9    CHRIN    FFCF    CHROUT   FFD2    CLOSE    FFC3
 CLRCHN   FFCC    COK      2E12    COMENT   224F    COMET    2255
 COMOPT   121D    COMPT    2265    CONST0   1F0F    CONST1   1F14
 CPASS    1215    CRLF     22E1    CRLFPR   1E49    CRNO     1D7E
 CRNO1    1D8B    CRYS     1D71    CRYS1    1D89    CSHORT   2263
 DATABE   12EF    DATABP   12EB    DATABS   12ED    DATAO1   26A6
 DATAO2   26DC    DATAOP   2697    DATUT    2784    DBYTES   282E
 DBYTEX   285B    DECSL    2330    DEVICE   1219    DISA     1431
 DISASS   1422    DISB     145F    DISC     14EE    DISERR   1CB2
 DISFUL   14EB    DISL     1F82    DISL1    1F93    DLOOA    1CDD
 DLOOC    1CD3    DLOOE    1CC7    DLOOP    1490    DOLLAR   22BE
 DONE     1565    DONED    1546    DOP      156E    DOP2     183A
 DOP3     183C    DSLINE   1F6B    EA       1220    EAGOL    1228
 EAOUT    122C    EAS      12E4    EASCI1   2806    EASCII   280B
 EFILE    223F    ENDAX    26A3    ENDDAT   2787    EPASS    1214
 EQUATE   311D    EQUEND   2E98    EQUINT   2D23    EQUOP    2E59
 EQUOP1   2E73    EQUPRT   2E2E    ERRCT    125A    FILE     178E
 FILEOK   1788    FINAL    1FAA    FINISH   1E36    FIXSYM   2DE7
 FOP1     19AF    FOP2     19B1    FOROPT   121C    FORWRD   21D7
 GETBYT   1D3D    GETC     2E1F    GETI     24F1    GETIN    FFE4
 GETOPE   296C    GETSL    231A    GETWRD   1D19    GFILE0   177C








SYMBOL TABLE

SYMBOL VALUE
 HEADER   1E68    HEADES   1EBB    HEADFX   1EE3    HEADOK   1ED5
 HEADSY   1ED6    HEXA     1EFF    ILLEGL   20AC    ILLMSG   236C
 ILLOP    294B    IMEXIT   2127    IMMEDT   20F2    IMPLI1   2178
 IMPLID   216A    IMPONE   2177    INCC     2E16    INCI     24E8
 INCIE    24E0    INCSL    2311    INDRCT   2184    INDX     2199
 INDY     21A2    INEND    1D3C    INENX    1D59    INIT     1A56
 INITD    16AC    INITIN   2450    INSTN1   1D0C    INSTNG   1D0A
 INTCH    250F    INTCHA   2500    INTCHK   250C    INTEND   2548
 INTEXT   24DE    INTMAT   254A    INTOUT   2637    INTPR    2642
 INTPRM   2669    INTPRS   2664    INTPRT   2621    INTSA    233C
 INTSET   2462    IPASS    1213    ISKIP    20E6    LARGE    25B2
 LINECK   1C73    LINECO   1CB1    LINECT   1258    LINEFL   12C0
 LINEOK   1EAA    LINES    2FF4    LISTCT   1257    LOADC    30E9
 LOADE    3101    LOADF    30AB    LOADM    30CB    LOOP1    263D
 LOOP2    2691    LPAREN   22C3    LTITLE   1F34    LTITLS   1F5E
 MATCH    2D80    MATCHS   2DA0    MATCHT   2DC7    MATEXT   2DD1
 MATONE   2D9F    MBYTE    291A    MCODES   2AAE    MDBYTE   292A
 MEMSIZ   0037    MNAMES   29D6    MNEMON   2933    MNLOOP   293D
 MODES    2BAE    MPASS    13F2    MSA1     1B72    MSA2     1B95
 MSA3     1BAE    MSAOP    1B53    MSB1     1B07    MSB4     1C31
 MSB5     1C52    MSD1     1A72    MSD2     1A84    MSD4     1A94
 MSD4A    1AAE    MSD5     1AC1    MSF1     19FF    MSF2     1A1B
 MSG      19B5    MSG1     1A30    MSG2     1A58    MSG5     1BC5
 MSGBIT   2349    MSGBZP   2351    MSGDIS   140F    MSGEND   2367
 MSGERR   1405    MSR1     1ADE    MSS1     301B    MSS2     3040
 MSS3     3067    MSS4     3086    MWORD    2922    NAME     300D
 NAMS     3017    NASCII   2813    NBUF     12C4    NCHARS   12C3
 NCOK     2E14    NDATA    12E9    NEGREL   2363    NEWEXT   1D09
 NEWLIN   1CEC    NEXLIN   1E5B    NEXPTR   1E58    NEXPTS   1EAB
 NEXTBY   2901    NEXTC    2DF2    NEXTP    14C1    NEXTSL   22F8
 NOASC    282C    NOBINC   2918    NOFILE   178C    NOHEX    1D6D
 NOID     179F    NOINC    230F    NOPRT    181F    NOTABS   18ED
 NPRAD    229B    NPRAD1   229C    OFFSET   1224    OFILE    17A2
 OFILE1   17B5    OFILE2   17BA    OFILE3   17DD    OFILE4   17EC
 OFILED   1797    ONEBIT   203A    ONEBX    2069    ONEBY    2066
 ONEBYT   203B    OPCPUT   20A5    OPCSYM   20A8    OPEN     FFC0
 OPERN1   295F    OPERND   2967    ORGIN    2229    OUFILE   1761
 OUTPUT   121A    P1       2292    PAGECT   1255    PAGER1   1EA4
 PASS     1212    PAUS1    276C    PAUSE    14BA    PCHAR    1DFF
 PEXIT    1E34    PFILE0   158E    PFILE1   1590    PMSG     13F9
 POSREL   235F    POVER    228F    PRAD     2278    PRBYT    1D93
 PRBYTS   1D8D    PREND    268E    PRFILE   1686    PRIN     1E14
 PRINT    1821    PRLA     226E    PRO2RD   1662    PROGED   15D6
 PROGM    1A52    PROGOK   16AB    PROGRD   15C1    PRTASS   2952
 PRTDAF   240F    PRTDAL   18D1    PRTDAS   18BE    PRTDAT   23F3
 PRTEST   23EC    PRTGET   17ED    PRTNEX   18C9    PRTNU1   1DCE
 PRTNU2   1DD5    PRTNU3   1DD6    PRTNUM   1DC5    PRTOK    2681
 PRTON1   238E    PRTONE   2380    PRTOT1   2422    PRTOTH   2417
 PRTPAG   1DBA    PRTTH1   23E1    PRTTHE   23BB    PRTTW1   23B0
 PRTTWO   2396    PSELEC   22A4    PUIT     24BB    PUT      2FD8
 PUTC     2FCC    PUTI     24A1    PWORK    22AD    PWORKD   22B0
 Q00000   27F4    QUITS    14F4    QUITX    2F1D    QUITXX   2F3D
 QUTERR   150B    RANG     243C    RANGE    242A    READS    2F4E
 READST   FFB7    READX    2F0A    READXF   2EE4    READXX   2E9E
 READY    2F5F    RELATV   21AE    RELND    21E0    RELNEG   220B








SYMBOL TABLE

SYMBOL VALUE
 RELP     221D    RELPC    21FE    RELPM    220F    RELPUT   21FA
 RELSYM   21FD    REOPEN   2EED    RESET    3003    RESINT   2488
 ROPT     1218    ROUT     244E    RPAREN   22C8    S3       259A
 SA       121E    SAGOL    1226    SAOUT    122A    SAVA     1252
 SAVEE    124D    SAVEP    1249    SAVES    124B    SAVINT   246F
 SAVX     1253    SAVY     1254    SBLOK    2913    SCREN    1E28
 SCRNO1   1EF5    SCROFF   1EE6    SCRON    1EF6    SELECT   1222
 SEMIC    22B9    SETLFS   FFBA    SETNAM   FFBD    SEXIT    1DB9
 SKIPER   2720    SLOK     230A    SMALL    25B5    SMALLP   1236
 SMALLS   1234    SOP      2CAE    SOP1     2CC2    SOP2     2EA5
 SOP3     2EB2    SOP4     2CF9    SORT     254C    SORT1    2561
 SORT2    2570    SORT3    25F2    SORT4    261E    SORTOK   261B
 SOUT     1DAF    SPAC     22EB    SPAC6    22E6    SPACE    22F3
 SPACM    22E8    SPASS    1216    SSET     2D16    STABLE   3966
 STARTD   120F    STARTS   16C6    STDREF   2FAE    STOP     FFE1
 STRPNT   1DA9    STRSY1   2DD8    STRSYM   2DD2    SUBP     2982
 SUBS     29BA    SUBS1    299E    SY       2D0B    SYEXIT   2DE6
 SYM      2D36    SYM1     2D4F    SYM2     2D52    SYMBOE   123D
 SYMBOL   1238    SYMBOP   1239    SYMBOS   123B    SYMBUF   12DA
 SYMEND   2D7E    SYMOP    2D4A    SYTAB    2CD7    T2       259D
 TABINE   1232    TABINP   122E    TABINS   1230    TDATA    12F1
 TEMP     1251    TEXTER   12E6    TWOB     20AB    TWOBIT   206F
 TWOBX    20A2    TWOBY    209F    TWOBYT   2070    UTABLE   3AE9
 UYMBOE   1243    UYMBOP   123F    UYMBOS   1241    VERSON   12C2
 VICREG   900F    WIND1    1744    WIND2    1746    WINDOP   1708
 WINDOW   121B    WORD1    2873    WORDM    28B9    WORDPT   28AD
 WORDS    285E    WORDS2   28E9    WORDS3   28FB    WORDSX   28AA
 WORDSY   28B3    WORDXX   28FE    WORKED   1245    WORKER   1247
 WREADY   C474    WRITE    1A4E    XFILE1   2ECD    XGET     2F8E
 XINDEX   22CD    XOP0     198A    XOP1     199A    XOP2     199C
 XOPT     1217    XTITLE   1F19    XTITLS   1F51    YINDEX   22D7
 YSHEX    1D6F    ZERBIT   2128    ZEROPG   2129    ZEROUR   0002
 ZEROX    212C    ZEROY    2132   

END OF ASSEMBLY
DISASS20NL.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































DISASSEMBLER20......PAGE 0002

LINE# LOC   CODE        LINE



ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 ABSBIT   2138    ABSEXT   215D    ABSLUT   2139    ABSX     215E
 ABSY     2164    AC0      279C    AC1      279F    ACC      20ED
 ACHECK   278A    ADRS     124F    AFILE    1876    AGET     18AA
 AGET1    18B6    ALINE    27CD    ALOP     27DF    AOP      1842
 AOP1     1907    AOP2     1931    AOP3     1956    AOPX     1902
 ASC      1973    ASCCCC   2718    ASCI1    2745    ASCII    273A
 ASCIIQ   2773    ASCKK    272F    B0000    2006    BASIC    120D
 BINARY   1D5A    BITFLG   3965    BITOPT   3938    BOP      186D
 BOP0     393F    BSC      395A    BSTUB    0001    BUF      125C
 BYABIT   1FD5    BYTES    27A2    BYTESX   27CA    BYTT     1FAD
 BYZBIT   1FB0    CASCII   2822    CDATA    12E7    CHKIN    FFC6
 CHKOUT   FFC9    CHRIN    FFCF    CHROUT   FFD2    CLOSE    FFC3
 CLRCHN   FFCC    COK      2E12    COMENT   224F    COMET    2255
 COMOPT   121D    COMPT    2265    CONST0   1F0F    CONST1   1F14
 CPASS    1215    CRLF     22E1    CRLFPR   1E49    CRNO     1D7E
 CRNO1    1D8B    CRYS     1D71    CRYS1    1D89    CSHORT   2263
 DATABE   12EF    DATABP   12EB    DATABS   12ED    DATAO1   26A6
 DATAO2   26DC    DATAOP   2697    DATUT    2784    DBYTES   282E
 DBYTEX   285B    DECSL    2330    DEVICE   1219    DISA     1431
 DISASS   1422    DISB     145F    DISC     14EE    DISERR   1CB2
 DISFUL   14EB    DISL     1F82    DISL1    1F93    DLOOA    1CDD
 DLOOC    1CD3    DLOOE    1CC7    DLOOP    1490    DOLLAR   22BE
 DONE     1565    DONED    1546    DOP      156E    DOP2     183A
 DOP3     183C    DSLINE   1F6B    EA       1220    EAGOL    1228
 EAOUT    122C    EAS      12E4    EASCI1   2806    EASCII   280B
 EFILE    223F    ENDAX    26A3    ENDDAT   2787    EPASS    1214
 EQUATE   311D    EQUEND   2E98    EQUINT   2D23    EQUOP    2E59
 EQUOP1   2E73    EQUPRT   2E2E    ERRCT    125A    FILE     178E
 FILEOK   1788    FINAL    1FAA    FINISH   1E36    FIXSYM   2DE7
 FOP1     19AF    FOP2     19B1    FOROPT   121C    FORWRD   21D7
 GETBYT   1D3D    GETC     2E1F    GETI     24F1    GETIN    FFE4
 GETOPE   296C    GETSL    231A    GETWRD   1D19    GFILE0   177C
 HEADER   1E68    HEADES   1EBB    HEADFX   1EE3    HEADOK   1ED5
 HEADSY   1ED6    HEXA     1EFF    ILLEGL   20AC    ILLMSG   236C
 ILLOP    294B    IMEXIT   2127    IMMEDT   20F2    IMPLI1   2178
 IMPLID   216A    IMPONE   2177    INCC     2E16    INCI     24E8
 INCIE    24E0    INCSL    2311    INDRCT   2184    INDX     2199
 INDY     21A2    INEND    1D3C    INENX    1D59    INIT     1A56
 INITD    16AC    INITIN   2450    INSTN1   1D0C    INSTNG   1D0A
 INTCH    250F    INTCHA   2500    INTCHK   250C    INTEND   2548
 INTEXT   24DE    INTMAT   254A    INTOUT   2637    INTPR    2642
 INTPRM   2669    INTPRS   2664    INTPRT   2621    INTSA    233C
 INTSET   2462    IPASS    1213    ISKIP    20E6    LARGE    25B2
 LINECK   1C73    LINECO   1CB1    LINECT   1258    LINEFL   12C0
 LINEOK   1EAA    LINES    2FF4    LISTCT   1257    LOADC    30E9
 LOADE    3101    LOADF    30AB    LOADM    30CB    LOOP1    263D
 LOOP2    2691    LPAREN   22C3    LTITLE   1F34    LTITLS   1F5E
 MATCH    2D80    MATCHS   2DA0    MATCHT   2DC7    MATEXT   2DD1








SYMBOL TABLE

SYMBOL VALUE
 MATONE   2D9F    MBYTE    291A    MCODES   2AAE    MDBYTE   292A
 MEMSIZ   0037    MNAMES   29D6    MNEMON   2933    MNLOOP   293D
 MODES    2BAE    MPASS    13F2    MSA1     1B72    MSA2     1B95
 MSA3     1BAE    MSAOP    1B53    MSB1     1B07    MSB4     1C31
 MSB5     1C52    MSD1     1A72    MSD2     1A84    MSD4     1A94
 MSD4A    1AAE    MSD5     1AC1    MSF1     19FF    MSF2     1A1B
 MSG      19B5    MSG1     1A30    MSG2     1A58    MSG5     1BC5
 MSGBIT   2349    MSGBZP   2351    MSGDIS   140F    MSGEND   2367
 MSGERR   1405    MSR1     1ADE    MSS1     301B    MSS2     3040
 MSS3     3067    MSS4     3086    MWORD    2922    NAME     300D
 NAMS     3017    NASCII   2813    NBUF     12C4    NCHARS   12C3
 NCOK     2E14    NDATA    12E9    NEGREL   2363    NEWEXT   1D09
 NEWLIN   1CEC    NEXLIN   1E5B    NEXPTR   1E58    NEXPTS   1EAB
 NEXTBY   2901    NEXTC    2DF2    NEXTP    14C1    NEXTSL   22F8
 NOASC    282C    NOBINC   2918    NOFILE   178C    NOHEX    1D6D
 NOID     179F    NOINC    230F    NOPRT    181F    NOTABS   18ED
 NPRAD    229B    NPRAD1   229C    OFFSET   1224    OFILE    17A2
 OFILE1   17B5    OFILE2   17BA    OFILE3   17DD    OFILE4   17EC
 OFILED   1797    ONEBIT   203A    ONEBX    2069    ONEBY    2066
 ONEBYT   203B    OPCPUT   20A5    OPCSYM   20A8    OPEN     FFC0
 OPERN1   295F    OPERND   2967    ORGIN    2229    OUFILE   1761
 OUTPUT   121A    P1       2292    PAGECT   1255    PAGER1   1EA4
 PASS     1212    PAUS1    276C    PAUSE    14BA    PCHAR    1DFF
 PEXIT    1E34    PFILE0   158E    PFILE1   1590    PMSG     13F9
 POSREL   235F    POVER    228F    PRAD     2278    PRBYT    1D93
 PRBYTS   1D8D    PREND    268E    PRFILE   1686    PRIN     1E14
 PRINT    1821    PRLA     226E    PRO2RD   1662    PROGED   15D6
 PROGM    1A52    PROGOK   16AB    PROGRD   15C1    PRTASS   2952
 PRTDAF   240F    PRTDAL   18D1    PRTDAS   18BE    PRTDAT   23F3
 PRTEST   23EC    PRTGET   17ED    PRTNEX   18C9    PRTNU1   1DCE
 PRTNU2   1DD5    PRTNU3   1DD6    PRTNUM   1DC5    PRTOK    2681
 PRTON1   238E    PRTONE   2380    PRTOT1   2422    PRTOTH   2417
 PRTPAG   1DBA    PRTTH1   23E1    PRTTHE   23BB    PRTTW1   23B0
 PRTTWO   2396    PSELEC   22A4    PUIT     24BB    PUT      2FD8
 PUTC     2FCC    PUTI     24A1    PWORK    22AD    PWORKD   22B0
 Q00000   27F4    QUITS    14F4    QUITX    2F1D    QUITXX   2F3D
 QUTERR   150B    RANG     243C    RANGE    242A    READS    2F4E
 READST   FFB7    READX    2F0A    READXF   2EE4    READXX   2E9E
 READY    2F5F    RELATV   21AE    RELND    21E0    RELNEG   220B
 RELP     221D    RELPC    21FE    RELPM    220F    RELPUT   21FA
 RELSYM   21FD    REOPEN   2EED    RESET    3003    RESINT   2488
 ROPT     1218    ROUT     244E    RPAREN   22C8    S3       259A
 SA       121E    SAGOL    1226    SAOUT    122A    SAVA     1252
 SAVEE    124D    SAVEP    1249    SAVES    124B    SAVINT   246F
 SAVX     1253    SAVY     1254    SBLOK    2913    SCREN    1E28
 SCRNO1   1EF5    SCROFF   1EE6    SCRON    1EF6    SELECT   1222
 SEMIC    22B9    SETLFS   FFBA    SETNAM   FFBD    SEXIT    1DB9
 SKIPER   2720    SLOK     230A    SMALL    25B5    SMALLP   1236
 SMALLS   1234    SOP      2CAE    SOP1     2CC2    SOP2     2EA5
 SOP3     2EB2    SOP4     2CF9    SORT     254C    SORT1    2561
 SORT2    2570    SORT3    25F2    SORT4    261E    SORTOK   261B
 SOUT     1DAF    SPAC     22EB    SPAC6    22E6    SPACE    22F3
 SPACM    22E8    SPASS    1216    SSET     2D16    STABLE   3966
 STARTD   120F    STARTS   16C6    STDREF   2FAE    STOP     FFE1
 STRPNT   1DA9    STRSY1   2DD8    STRSYM   2DD2    SUBP     2982








SYMBOL TABLE

SYMBOL VALUE
 SUBS     29BA    SUBS1    299E    SY       2D0B    SYEXIT   2DE6
 SYM      2D36    SYM1     2D4F    SYM2     2D52    SYMBOE   123D
 SYMBOL   1238    SYMBOP   1239    SYMBOS   123B    SYMBUF   12DA
 SYMEND   2D7E    SYMOP    2D4A    SYTAB    2CD7    T2       259D
 TABINE   1232    TABINP   122E    TABINS   1230    TDATA    12F1
 TEMP     1251    TEXTER   12E6    TWOB     20AB    TWOBIT   206F
 TWOBX    20A2    TWOBY    209F    TWOBYT   2070    UTABLE   3AE9
 UYMBOE   1243    UYMBOP   123F    UYMBOS   1241    VERSON   12C2
 VICREG   900F    WIND1    1744    WIND2    1746    WINDOP   1708
 WINDOW   121B    WORD1    2873    WORDM    28B9    WORDPT   28AD
 WORDS    285E    WORDS2   28E9    WORDS3   28FB    WORDSX   28AA
 WORDSY   28B3    WORDXX   28FE    WORKED   1245    WORKER   1247
 WREADY   C474    WRITE    1A4E    XFILE1   2ECD    XGET     2F8E
 XINDEX   22CD    XOP0     198A    XOP1     199A    XOP2     199C
 XOPT     1217    XTITLE   1F19    XTITLS   1F51    YINDEX   22D7
 YSHEX    1D6F    ZERBIT   2128    ZEROPG   2129    ZEROUR   0002
 ZEROX    212C    ZEROY    2132   

END OF ASSEMBLY

CROSS REFERENCE......PAGE    1


* ABSBIT $2138  1833
  ABSEXT $215D  1846  1851
  ABSLUT $2139  1837  3042
  ABSX   $215E  1855  3043
  ABSY   $2164  1860  3044
  AC0    $279C  2711  2715  2717
  AC1    $279F  2713  2718
  ACC    $20ED  1784  3037
  ACHECK $278A  2671  2709
  ADRS   $124F   150   418   419   424   426   465   468   553   555   564

                 566   575   577   591   593   599   601   829   850   853

                 865   868  1181  1182  1191  1196  2989  2992  2993
  AFILE  $1876   767   772
  AGET   $18AA   793   797
  AGET1  $18B6   783   792   798
  ALINE  $27CD  2732  2741
  ALOP   $27DF  2752  2770
* AOP    $1842   743
  AOP1   $1907   838   900
* AOP2   $1931   860
  AOP3   $1956   878   879   891
  AOPX   $1902   831   833
  ASC    $1973   881   883   885   887   889   892
  ASCCCC $2718  2633  2639  2652
  ASCI1  $2745  2665  2669  2671
  ASCII  $273A  2667  2677  2679  2691
  ASCIIQ $2773  2672  2675  2693
  ASCKK  $272F  2654  2663
  B0000  $2006  1584  1586  1588  1590  1610  1612  1614  1617  1620  1623

                1626  1632
  BASIC  $120D    30    35
  BINARY $1D5A  1202  1207  1218  3730  3738
  BITFLG $3965  1521  1571  1597  3887  3892
  BITOPT $3938   739  3865
  BOP    $186D   758   761
  BOP0   $393F  3869  3870  3880
  BSC    $395A  3872  3874  3876  3878  3882
  BSTUB  $0001     9    29
  BUF    $125C   165   398   513   514   633   768   774   775  1171  1201

                1206  3613  3619  3620
  BYABIT $1FD5  1528  1596
  BYTES  $27A2  2716  2722
  BYTESX $27CA  2724  2737
  BYTT   $1FAD  1517  1543  1560  1635
  BYZBIT $1FB0  1526  1570
  CASCII $2822  1763  1800  2747  2753  2788
  CDATA  $12E7   197   228   805   818   834   838   842   896   897  2593

                2597  2603  2618
  CHKIN  $FFC6    70   410   492   785  3699
  CHKOUT $FFC9    79   708  1339  1348
  CHRIN  $FFCF    71   411   413   420   493   494   495   790   793  1170

                1235  1244  3701  3705  3725  3728  3736  3744  3750
  CHROUT $FFD2    69   892  1139  1141  1143  1342  1351  1358  3597  3703

                3707  3729  3737  3783  3787  3884
  CLOSE  $FFC3    80   316   358   434   506   524   545   684   799  1108

                3666  3688







CROSS REFERENCE......PAGE    2


  CLRCHN $FFCC    73   360   435   507   685   712   800  1343  1352  3667

                3689  3726  3753
  COK    $2E12  3512  3517
  COMENT $224F  1114  1639  1979  1988  2647  2666  2697  3548  3554  3580

  COMET  $2255  1658  1849  1874  1884  1988  1991
* COMOPT $121D   103
  COMPT  $2265  1998  2001
  CONST0 $1F0F  1314  1321  1483
  CONST1 $1F14  1317  1324  1484
  CPASS  $1215    94   237   291  1087  1540  1634  1791  2638  2664  2668

                2694  2723  2800  2820  3441
  CRLF   $22E1   234   454   486   808  1158  1379  2089  3668
  CRLFPR $1E49  1366  1377  1386  1432
  CRNO   $1D7E   585  1244  3346  3354
  CRNO1  $1D8B  1240  1246  1248  1251
  CRYS   $1D71   698   730   907   919  1235  3318
  CRYS1  $1D89  1237  1239  1249
  CSHORT $2263  1994  1997
  DATABE $12EF   201   746   751  2288  2291
  DATABP $12EB   199   744   749
  DATABS $12ED   200   745   750
  DATAO1 $26A6  2594  2597  2619
  DATAO2 $26DC  2617  2623
  DATAOP $2697  1516  2590
  DATUT  $2784  2648  2659  2695  2702
  DBYTES $282E  2718  2799
  DBYTEX $285B  2801  2815
  DECSL  $2330   462  1580  1606  1838  1839  1850  1875  1885  2142  2191

                2212  2213  2646  2698
  DEVICE $1219    99   257   276   279   284   312   320   327   337   342

                 345   353   381  1089  1159  1335  1344  1353  1378  1381

                1395  1400  1413  1464  2218  2223  2225  2680  2683  2688

  DISA   $1431   226   308
  DISASS $1422    87   216
  DISB   $145F   238   245
  DISC   $14EE   293   309
  DISERR $1CB2   521   678   782  1119  3641
  DISFUL $14EB   292   295   308
  DISL   $1F82  1522  1529  1537  1573  1592  1599  1628
  DISL1  $1F93  1541  1547
  DLOOA  $1CDD  1142  1145
  DLOOC  $1CD3  1127  1137
  DLOOE  $1CC7  1128  1130
  DLOOP  $1490   240   243   264   270   272   287
  DOLLAR $22BE   452  1696  1726  1753  1795  1973  2060  2733  2780  2812

                2853  2890  3715
  DONE   $1565   355   360
  DONED  $1546   339   347
  DOP    $156E   219   380
  DOP2   $183A   731   734
  DOP3   $183C   733   735
  DSLINE $1F6B   264  1516
  EA     $1220   108   304   306   429   431   565   567   614   616  2108

                2112
  EAGOL  $1228   112   615   617  2267  2271
  EAOUT  $122C   114   303   305   600   602







CROSS REFERENCE......PAGE    3


  EAS    $12E4   195  2625  2628  2640  2642  2655  2657  2902  2906
  EASCI1 $2806  2765  2772
  EASCII $280B  2754  2769  2772  2776
  EFILE  $223F   310  1106  1979
  ENDAX  $26A3  2591  2595  2599
  ENDDAT $2787  2595  2704
  EPASS  $1214    93   239  1687  1717  1904  2653  2846  2877
  EQUATE $311D  3550  3551  3856
  EQUEND $2E98  3546  3575  3580
  EQUINT $2D23   242  3392
  EQUOP  $2E59  3555  3574  3578
  EQUOP1 $2E73  3562  3564
  EQUPRT $2E2E   262  3539
  ERRCT  $125A   161   252   253   333   334  1747  1749
  FILE   $178E   640   642
* FILEOK $1788   639
  FINAL  $1FAA  1559  1660
  FINISH $1E36   356  1366  1370  1391  1437  1460
  FIXSYM $2DE7  2035  2550  3496  3500
  FOP1   $19AF   920   923
  FOP2   $19B1   922   924
  FOROPT $121C   102   924  1993  2019  2033  2169  2185  2206  2226  2240

  FORWRD $21D7  1917  1919
  GETBYT $1D3D  1189  1194  1201
  GETC   $2E1F  3418  3421  3448  3457  3529
  GETI   $24F1  2377  2393  2396  2433  2436  2447  2458  2542  2545  3555

                3558
  GETIN  $FFE4    72   269   285   878  2676  2689  3591  3869
  GETOPE $296C  2971  2976  2984
  GETSL  $231A  1524  1538  1553  1578  1604  1649  1680  1709  1712  1754

                1796  1840  1865  1915  1945  2129  2167  2179  2183  2196

                2200  2204  2734  2746  2752  2758  2781  2807  2810  2830

                2834
  GETWRD $1D19   552   563   574   590   598   828   848   863  1180
  GFILE0 $177C   633   637
  HEADER $1E68   259  1395
* HEADES $1EBB  1441
  HEADFX $1EE3  1457  1460
  HEADOK $1ED5  1436  1451
  HEADSY $1ED6  1455  2537
  HEXA   $1EFF  1271  1276  1479
  ILLEGL $20AC  1747  3036
  ILLMSG $236C  1778  1779  2163
  ILLOP  $294B  2950  2956
  IMEXIT $2127  1792  1801  1811
  IMMEDT $20F2  1789  3020  3038
  IMPLI1 $2178  1866  1868  1870  1872
  IMPLID $216A  1865  3045
  IMPONE $2177  1871  3018  3019  3027
  INCC   $2E16  3420  3447  3456  3522
  INCI   $24E8  2370  2395  2407  2435  2442  2449  2544  2557  3557  3571

  INCIE  $24E0  2355  2356  2364
  INCSL  $2311   309   423   502  1577  1603  1679  1708  1711  1789  1842

                1843  1848  1873  1883  1902  2114  2122  2182  2199  2203

                2644  2696  2809  2833  2908
  INDRCT $2184  1879  3049







CROSS REFERENCE......PAGE    4


  INDX   $2199  1889  3047
  INDY   $21A2  1895  3048
  INEND  $1D3C  1185  1193  1197
  INENX  $1D59  1205  1214
  INIT   $1A56   536   537   966
  INITD  $16AC   404   535   650   763  3608
  INITIN $2450   220  2288
  INSTN1 $1D0C  1170  1174
  INSTNG $1D0A   393   627   757  1169  1183  3604
  INTCH  $250F  2393  2410  2414
  INTCHA $2500  2017  2387
  INTCHK $250C  2338  2392
  INTEND $2548  2411  2416
  INTEXT $24DE  2339  2358
  INTMAT $254A  2405  2418
  INTOUT $2637  2534  2537
  INTPR  $2642  2542  2569
  INTPRM $2669  2553  2556
  INTPRS $2664  2549  2554
  INTPRT $2621   343  2527
  INTSA  $233C   226   415  2150
  INTSET $2462  2297  2392  2423  2523
  IPASS  $1213    92  1685  1715  1926  2844  2875
  ISKIP  $20E6  1764  1776
  LARGE  $25B2  2462  2466
  LINECK $1C73   266  1086
  LINECO $1CB1  1088  1091  1102  1115
  LINECT $1258   160   246   249  1152  1154  2228  2229
  LINEFL $12C0   179   254   255  1096  1099  1111  1112  1155  1157
  LINEOK $1EAA  1390  1397  1426
  LINES  $2FF4  3657  3778
  LISTCT $1257   159   251  1367  1368  1372  1387  1388  1433  1434  1455

  LOADC  $30E9  3679  3680  3840
  LOADE  $3101  3690  3691  3848
  LOADF  $30AB  3600  3601  3826
  LOADM  $30CB  3646  3647  3833
  LOOP1  $263D  2540  2572
  LOOP2  $2691  2566  2571
  LPAREN $22C3  1879  1889  1895  2065
  LTITLE $1F34  1414  1415  1490
  LTITLS $1F5E  1447  1448  1496
  MATCH  $2D80  3431  3440
  MATCHS $2DA0  3442  3456
  MATCHT $2DC7  3444  3459  3476
  MATEXT $2DD1  3446  3481
  MATONE $2D9F  3450  3452
  MBYTE  $291A  1750  1751  2727  2728  2914
  MCODES $2AAE  2946  3138
  MDBYTE $292A  2804  2805  2916
  MEMSIZ $0037    83   458   460
  MNAMES $29D6  2948  3053
  MNEMON $2933  1555  2943
  MNLOOP $293D  2948  2960
  MODES  $2BAE  2986  3228
  MPASS  $13F2   209   229   230
  MSA1   $1B72   825   826  1020







CROSS REFERENCE......PAGE    5


  MSA2   $1B95   845   846  1026
  MSA3   $1BAE   860   861  1032
  MSAOP  $1B53   754   755  1017
  MSB1   $1B07  1006  3866  3867
  MSB4   $1C31   904   905  1054
  MSB5   $1C52   916   917  1061
  MSD1   $1A72   549   550   587   588   975
  MSD2   $1A84   560   561   595   596   979
  MSD4   $1A94   571   572   983
  MSD4A  $1AAE   482   483   987
  MSD5   $1AC1   582   583   991
  MSF1   $19FF   390   391   944
  MSF2   $1A1B   440   441   950
  MSG    $19B5   384   385   930
  MSG1   $1A30   621   622   957
  MSG2   $1A58   695   696   968
  MSG5   $1BC5   875   876  1038
  MSGBIT $2349  1645  1646  2158
  MSGBZP $2351  1652  1653  2159
  MSGDIS $140F   212   349   350
  MSGEND $2367  1981  1982  2162
  MSGERR $1405   211   330   331
  MSR1   $1ADE   727   728   997
  MSS1   $301B  3314  3315  3794
  MSS2   $3040  3343  3344  3801
  MSS3   $3067  3588  3589  3810
  MSS4   $3086  3351  3352  3819
  MWORD  $2922  2824  2825  2915
  NAME   $300D  3627  3628  3791
  NAMS   $3017   767  3612  3792
  NASCII $2813  2748  2780
  NBUF   $12C4   182   634   659   664   670   671
  NCHARS $12C3   181   626   631   636   648   653
  NCOK   $2E14  3513  3516  3519
  NDATA  $12E9   198   791   804   830   898  2590  2598
  NEGREL $2363  1951  1952  2161
  NEWEXT $1D09  1161  1163
  NEWLIN $1CEC   328   329   347   348   352  1152  1559  1656  1847  1872

                1882  1975  1984  1989  2736  2778  2783  2814  2855  2896

                3553  3569
  NEXLIN $1E5B  1162  1387
  NEXPTR $1E58  1386  1398  1410  1411  1417  1424  1425
  NEXPTS $1EAB  1432  1441  1445  1446  1450  1458  1459  2570  2571
  NEXTBY $2901  2737  2764  2784  2815  2856  2858  2860  2897  2901
  NEXTC  $2DF2  3432  3504
  NEXTP  $14C1   265   289
  NEXTSL $22F8  1560  2107
  NOASC  $282C  2789  2791  2794
  NOBINC $2918  2904  2907  2911
  NOFILE $178C   628   641
  NOHEX  $1D6D  1220  1225  1228
  NOID   $179F   649   651
  NOINC  $230F  2110  2113  2117
  NOPRT  $181F   699   714   717
  NOTABS $18ED   759   825
  NPRAD  $229B  2031  2034







CROSS REFERENCE......PAGE    6


  NPRAD1 $229C  2014  2033
  OFFSET $1224   110   476   480   576   578  2131  2134
  OFILE  $17A2   653  1109
  OFILE1 $17B5   657   661
  OFILE2 $17BA   663   668
* OFILE3 $17DD   683
  OFILE4 $17EC   654   679   691
  OFILED $1797   260   648
* ONEBIT $203A  1675
  ONEBX  $2069  1697  1699
  ONEBY  $2066  1695  1698
  ONEBYT $203B  1679  1819  1823  1828  1896  3021  3022  3023  3029  3030

  OPCPUT $20A5  1686  1716  1735
  OPCSYM $20A8  1688  1718  1737
  OPEN   $FFC0    78   520   543   677   706   781  3637
  OPERN1 $295F  1542  2973
  OPERND $2967  1558  2978
  ORGIN  $2229   261  1113  1968  2645
* OUFILE $1761   621
  OUTPUT $121A   100   256   317   319   324   326   341   346   383   642

                 643   718   719  1380  2217
  P1     $2292  2016  2018  2026
  PAGECT $1255   158   247   250  1407  1408  1421  1423
  PAGER1 $1EA4  1422  1424
  PASS   $1212    91   222   232   236   289   290  1086  1539  1633  1684

                1714  1790  1903  1925  2637  2652  2663  2667  2693  2722

                2799  2819  2843  2874  3440
  PAUS1  $276C  2689  2690
  PAUSE  $14BA   285   286
  PCHAR  $1DFF   233   451  1272  1277  1286  1327  1334  1769  1771  1773

                1785  1794  1806  1808  1810  1970  1972  1999  2007  2009

                2056  2061  2066  2071  2076  2078  2083  2085  2090  2103

                2750  2755  2761  2777  2885  2887  2953  3470  3472  3492

                3498  3565  3567
  PEXIT  $1E34  1355  1359
  PFILE0 $158E   394   396
  PFILE1 $1590   397   402
  PMSG   $13F9   210   280   281  2684  2685
  POSREL $235F  1948  1949  2160
  POVER  $228F  2020  2022
  PRAD   $2278  1548  1643  2013  2726  2803  2823
  PRBYT  $1D93   813  1260  1265  1650  1700  1759  1798  1961  2168  2180

                2184  2197  2201  2205  2735  2782  3747  3752
  PRBYTS $1D8D  1258  2041  2051
  PREND  $268E  2561  2564  2570
  PRFILE $1686   405   490   512
  PRIN   $1E14  1337  1344
  PRINT  $1821   716   718
  PRLA   $226E  1698  1732  2006  2026  2045
  PRO2RD $1662   495   504
  PROGED $15D6   422   428
  PROGM  $1A52   397   965
  PROGOK $16AB   522   531
  PROGRD $15C1   420   427
  PRTASS $2952  1547  2965
  PRTDAF $240F  2227  2233







CROSS REFERENCE......PAGE    7


  PRTDAL $18D1   811   817
* PRTDAS $18BE   804
  PRTDAT $23F3  1641  2223  2239  2670  2966
  PRTEST $23EC  2175  2192  2217  2246
  PRTGET $17ED   644   695
  PRTNEX $18C9   808   819
  PRTNU1 $1DCE  1297  1308  1329
  PRTNU2 $1DD5  1311  1319
  PRTNU3 $1DD6  1310  1312
  PRTNUM $1DC5   335  1301  2230
  PRTOK  $2681  2560  2565
  PRTON1 $238E  2170  2173
  PRTONE $2380  1642  2167  2725  3000  3001  3009
  PRTOT1 $2422  2241  2244
  PRTOTH $2417  1968  1980  1991  2239  3549  3560
  PRTPAG $1DBA  1293  1409
  PRTTH1 $23E1  2207  2210
  PRTTHE $23BB  2196  3006  3007  3008  3013
  PRTTW1 $23B0  2186  2189
  PRTTWO $2396  2179  2802  2822  3002  3003  3004  3005  3010  3011  3012

  PSELEC $22A4   453  1974  2027  2039  2233
  PUIT   $24BB  2336  2341
  PUT    $2FD8  3762  3766
  PUTC   $2FCC  3656  3757
  PUTI   $24A1  1736  1939  2329  2857  3451
  PWORK  $22AD  1936  1964  2045  3563
  PWORKD $22B0   447   485  1734  2049  2353  2556  2813  2854  2895  3568

  Q00000 $27F4  2760  2762
  QUITS  $14F4   268   312
  QUITX  $2F1D  3659  3665
  QUITXX $2F3D  3642  3687
  QUTERR $150B   314   324
  RANG   $243C  2268  2274
  RANGE  $242A  1694  1724  2266  3445
  READS  $2F4E  3655  3698
  READST $FFB7    75   421   503   709   796  3660
  READX  $2F0A  3655  3661
  READXF $2EE4  3605  3626
  READXX $2E9E  3363  3588
  READY  $2F5F  3705  3710
  RELATV $21AE  1902  3028  3046
  RELND  $21E0  1921  1923
  RELNEG $220B  1947  1951
  RELP   $221D  1957  1961
  RELPC  $21FE  1934  1945
  RELPM  $220F  1950  1953
  RELPUT $21FA  1927  1938
  RELSYM $21FD  1905  1930  1941
  REOPEN $2EED  3622  3633
  RESET  $3003  3781  3784
  RESINT $2488  2317  3581
  ROPT   $1218    98   735  1932
  ROUT   $244E  2269  2272  2276  2279  2283
  RPAREN $22C8  1881  1891  1897  2070
  S3     $259A  2453  2457
  SA     $121E   107   300   302   412   414   443   445   475   479   554








CROSS REFERENCE......PAGE    8


                 556   610   612  2150  2152
  SAGOL  $1226   111   611   613  2275  2278
  SAOUT  $122A   113   299   301   592   594
  SAVA   $1252   152   403   512  2541  2565
  SAVEE  $124D   146  2310  2312  2321  2323
* SAVEP  $1249   144
  SAVES  $124B   145  2306  2308  2317  2319
  SAVINT $246F   241  2305
  SAVX   $1253   153   810   816  1296  1304  1308  1328  2952  2954
  SAVY   $1254   154   807   811   815   843   849   856   864   871   893

                3746  3748
  SBLOK  $2913  2903  2908
  SCREN  $1E28  1346  1353
  SCRNO1 $1EF5  1466  1470
  SCROFF $1EE6   651  1464
  SCRON  $1EF6   361  1472
  SELECT $1222   109   428   430   459   461   464   466   467   469   474

                 478   496   498  1907  1909  2039  2040  2107  2111  2122

                2124  2130  2133  2142  2144  2145  2151  2153  2387  2389

                2612  2615  2641  2643  2656  2658  2901  2905  3404  3406

  SEMIC  $22B9  1767  1804  1963  1992  2055  2352
  SETLFS $FFBA    77   519   542   676   705   780  3636
  SETNAM $FFBD    76   515   538   672   701   776  3621  3629
  SEXIT  $1DB9  1285  1289
* SKIPER $2720  2655
  SLOK   $230A  2109  2114
  SMALL  $25B5  2461  2465  2471
  SMALLP $1236   125  2426  2429  2444  2446  2485  2487  2832  2836  2891

                2893
  SMALLS $1234   124  2425  2428  2471  2473  2496  2498  2506  2508  2510

                2512  2514  2518
  SOP    $2CAE   723  3314
  SOP1   $2CC2  3319  3329
  SOP2   $2EA5  3591  3592  3596
  SOP3   $2EB2  3594  3597
  SOP4   $2CF9  3355  3363
  SORT   $254C  2423  2538  3547
  SORT1  $2561  2433  2500  2521
  SORT2  $2570  2442  2466
  SORT3  $25F2  2457  2505
  SORT4  $261E  2517  2520  2523
  SORTOK $261B  2516  2521
  SOUT   $1DAF  1284  1288
  SPAC   $22EB  2096  2098
  SPAC6  $22E6  1803  1962  2022  2094
  SPACE  $22F3   814  1549  1556  1644  1760  1766  1774  2021  2096  2102

                2181  2198  2202  2231  2232  2547  3714
  SPACM  $22E8  2095  2174  2190  2211  2235  2245  2552  2555  2568
  SPASS  $1216    95  3443
  SSET   $2D16  3384  3417
  STABLE $3966  3334  3337  3901
* STARTD $120F    87
  STARTS $16C6   395   549
  STDREF $2FAE  3719  3743
  STOP   $FFE1    74   267  2674  3658
  STRPNT $1DA9   231   282   332   351   386   392   442   484   551   562








CROSS REFERENCE......PAGE    9


                 573   584   589   597   623   697   729   756   827   847

                 862   877   906   918  1281  1403  1416  1444  1449  1647

                1654  1752  1780  1953  1983  2686  2729  2806  2826  3316

                3345  3353  3552  3590  3602  3648  3681  3692  3868
  STRSY1 $2DD8  3488  3494
  STRSYM $2DD2  3468  3478  3485
  SUBP   $2982  2969  2970  2999
  SUBS   $29BA  2979  2980  3035
  SUBS1  $299E  2974  2975  3017
  SY     $2D0B  3325  3347  3364  3376
  SYEXIT $2DE6  3489  3491  3495  3497
  SYM    $2D36  2013  3402
  SYM1   $2D4F  3408  3417
  SYM2   $2D52  3418  3434
  SYMBOE $123D   132   743   748  3369  3371  3377  3379  3511  3515  3673

                3675
  SYMBOL $1238   129  3324  3330  3402  3412
  SYMBOP $1239   130  3336  3339  3357  3359  3368  3370  3385  3387  3461

                3464  3476  3477  3505  3507  3508  3510  3514  3522  3524

                3529  3531  3672  3674  3758  3760  3768  3770  3771  3773

  SYMBOS $123B   131  3335  3338  3384  3386
  SYMBUF $12DA   190  3702  3706  3712  3735  3739  3740  3745  3751  3762

  SYMEND $2D7E  3403  3413  3433  3435
  SYMOP  $2D4A  1692  1722  1738  1929  2548  2851  2859  2882  3412  3561

* SYTAB  $2CD7  3343
  T2     $259D  2452  2456  2458
  TABINE $1232   120  2290  2293  2309  2311  2322  2324  2331  2334  2341

                2343  2364  2366  2409  2413  2451  2455  2515  2519  2529

                2532  2559  2563  3392  3395  3541  3544  3573  3577
  TABINP $122E   118  2298  2300  2370  2372  2377  2379  2408  2412  2443

                2445  2450  2454  2497  2499  2509  2513  2558  2562  3393

                3396  3572  3576
  TABINS $1230   119  2289  2292  2297  2299  2305  2307  2318  2320  2330

                2333  2424  2427  2528  2531  3394  3397  3540  3543
  TDATA  $12F1   205   794   812   851   854   866   869   894  2605  2608

                2624  2627  2630
  TEMP   $1251   151  1098  1101  1190  1195  1203  1212  1213  2095  2097

                2332  2335  2401  2404  2434  2437  2460  2464  2490  2493

                2530  2533  2613  2616  2742  2766  2767  2944  2959  3427

                3430  3542  3545  3651  3778  3780  3785
  TEXTER $12E6   196  2631  2709  2730  2837  3598  3717
  TWOB   $20AB  1693  1723  1739
* TWOBIT $206F  1704
  TWOBX  $20A2  1727  1733
  TWOBY  $209F  1725  1731
  TWOBYT $2070  1708  1837  1855  1860  1880  3024  3025  3026  3031
  UTABLE $3AE9  3356  3358  3376  3378  3947
* UYMBOE $1243   138
* UYMBOP $123F   136
* UYMBOS $1241   137
  VERSON $12C2   180   630   655   658   661
  VICREG $900F    68  1467  1469  1472  1474
  WIND1  $1744   586   605
  WIND2  $1746   604   606
  WINDOP $1708   508   582
  WINDOW $121B   101   294   606







CROSS REFERENCE......PAGE   10


  WORD1  $2873  2821  2830
  WORDM  $28B9  2839  2864
  WORDPT $28AD  2845  2857  2876
  WORDS  $285E  2717  2819
  WORDS2 $28E9  2883  2890
  WORDS3 $28FB  2852  2888  2896
* WORDSX $28AA  2856
  WORDSY $28B3  2847  2859  2878
* WORDXX $28FE  2897
  WORKED $1245   142   444   446   477   481  1681  1683  1699  1710  1713

                1908  1910  1911  1913  1918  1920  1922  1923  2049  2050

                2266  2270  2274  2277  2346  2349  2388  2390  2399  2402

                2448  2459  2463  2476  2479  2543  2546  2808  2811  2831

                2835  2865  2867  2868  2870  2892  2894  3405  3407  3426

                3429  3556  3559
  WORKER $1247   143  2394  2397  2400  2403  2606  2609  2611  2614  3419

                3422  3425  3428
  WREADY $C474    81   362   529   690
  WRITE  $1A4E   663   964
  XFILE1 $2ECD  3612  3617
  XGET   $2F8E  3722  3724  3728
  XINDEX $22CD  1824  1856  2075
  XOP0   $198A   821   832   899   904
  XOP1   $199A   908   911
  XOP2   $199C   910   912
  XOPT   $1217    97   912  2015
  XTITLE $1F19  1401  1402  1488
  XTITLS $1F51  1442  1443  1495
  YINDEX $22D7  1829  1861  1898  2082
  YSHEX  $1D6F  1222  1227  1230
* ZERBIT $2128  1815
  ZEROPG $2129  1819  3039
  ZEROUR $0002    82   497   499   501   747   752  1281  1282  1284  1293

                1294  1301  1302  1313  1315  1316  1318  1320  1322  1323

                1325  2132  2135  2137  2342  2344  2347  2350  2378  2380

                2382  2472  2474  2477  2480  2486  2488  2491  2494  2984

                2985  2988  2991  3485  3486  3488  3496  3530  3532  3534

                3759  3761  3763
  ZEROX  $212C  1823  1890  3040
  ZEROY  $2132  1828  3041
























































































