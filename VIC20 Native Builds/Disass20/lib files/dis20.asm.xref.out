DISLIST.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































DISASSEMBLER20......PAGE 0002

LINE# LOC   CODE        LINE


00003  0000              ;*********************************
00004  0000              *=$1201                ;START OF BASIC WITH 32K R
AM EX
00005  1201              ;*********************************
00006  1201              ; SET BSTUB TO ONE TO ALLOW FOR
00007  1201              ; INSERTION OF BASIC STUB CODE
00008  1201              ;*********************************
00009  1201              BSTUB  = 1
00010  1201              ;*********************************
00011  1201              ;
00012  1201              ;        DISASSEMBLER20
00013  1201              ;    DISASSEMBLER.V20 V080282
00014  1201              ;    SYMBOLIC DISASSEMBLER
00015  1201              ;       BY DENTON MARLOWE
00016  1201              ;
00017  1201              ;  (C)1986 BY DENTON MARLOWE
00018  1201              ;
00019  1201              ; MACRO ASSEMBLER DEVELOPMENT SYSTEM
00020  1201              ;  (C) 1982 BY COMMODORE MACHINES
00021  1201              ;
00022  1201              ;*********************************
00023  1201              ;
00024  1201              ; BASIC FORMAT PROGRAM
00025  1201              ;
00026  1201              ; 10 SYS(4623)
00027  1201              ;
00028  1201              ;*********************************
00030  1201  0D 12              .WORD BASIC     ;NEXT LINE POINTER
00031  1203  0A                 .BYTE $0A,$00   ;LINE NUMBER
00031  1204  00 
00032  1205  9E                 .BYTE $9E       ;SYS COMMAND
00033  1206  28 34              .BYTE '(4623)'  ;ASCII (2063)
00034  120C  00                 .BYTE 0         ;END OF LINE
00035  120D  00          BASIC  .BYTE 0,0       ;END OF BASIC
00035  120E  00 
00037  120F              ;*********************************
00038  120F              .LIB   DIS.ASM
00039  120F              ;*********************************
00040  120F              ; FILE DIS.ASM
00041  120F              ;*********************************
00042  120F              ;
00043  120F              ;        DISASSEMBLER64
00044  120F              ;    SYMBOLIC DISASSEMBLER
00045  120F              ;       BY DENTON MARLOWE
00046  120F              ;
00047  120F              ;  (C)1986 BY DENTON MARLOWE
00048  120F              ;
00049  120F              ;*********************************
00050  120F              ; KERNAL ADDRESS
00051  120F              ;*********************************
00052  120F              VICREG=$900F           ;C64 = $D011 SCREEN REGIST
ER
00053  120F              CHROUT=$FFD2           ;OUTPUT CHARACTER
00054  120F              CHKIN  =$FFC6          ;OPEN INPUT FILE
00055  120F              CHRIN  =$FFCF          ;GET KEYBOARD INPUT
00056  120F              GETIN  =$FFE4          ;GET KEYBOARD CHAR
00057  120F              CLRCHN=$FFCC           ;RESET I/O CHANNELS






DISASSEMBLER20......PAGE 0003

LINE# LOC   CODE        LINE


00058  120F              STOP   =$FFE1          ;CHECK FOR STOP
00059  120F              READST=$FFB7           ;READ ST
00060  120F              SETNAM=$FFBD           ;SET FILENAME
00061  120F              SETLFS=$FFBA           ;SET LOGICAL FILE
00062  120F              OPEN   =$FFC0          ;OPEN FILE
00063  120F              CHKOUT=$FFC9           ;OPEN OUTPUT CHANNEL
00064  120F              CLOSE  =$FFC3          ;CLOSE LOGICAL FILE
00065  120F              WREADY=$C474           ;$E391 = $A474 BASIC RETUR
N
00066  120F              ZEROUR=$02             ;ZEROPAGE POINTER
00067  120F              MEMSIZ=$37             ;TOP OF FREE RAM+1
00068  120F              ;*********************************
00069  120F              ;        ENTRY POINT
00070  120F              ;*********************************
00071  120F  4C 22 14    STARTD JMP DISASS
00072  1212              ;*********************************
00073  1212              ;       VARIABLES
00074  1212              ;*********************************
00075  1212  31          PASS   .BYTE '1'       ;PASS INDICATOR
00076  1213  31          IPASS  .BYTE '1'       ;INTERNAL PASS
00077  1214  32          EPASS  .BYTE '2'       ;EXTERNAL PASS
00078  1215  33          CPASS  .BYTE '3'       ;PRINTING PASS
00079  1216  34          SPASS  .BYTE '4'       ;SYMBOL PASS
00080  1217              ;*********************************
00081  1217  AA          XOPT   .BYTE $AA       ;LABEL GENERATION
00082  1218  AA          ROPT   .BYTE $AA       ;REL ADDRESS OPT
00083  1219  AA          DEVICE .BYTE $AA       ;OUTPUT DEVICE
00084  121A  AA          OUTPUT .BYTE $AA       ;OUTPUT FLAG
00085  121B  AA          WINDOW .BYTE $AA       ;WINDOW FLAG
00086  121C  AA          FOROPT .BYTE $AA       ;FORMAT FLAG
00087  121D  AA          COMOPT .BYTE $AA       ;COMMENT FLAG
00088  121E              ;*********************************
00089  121E              ; DISASSEMBLY ADDRESS POINTERS
00090  121E              ;*********************************
00091  121E  AA AA       SA     .WORD $AAAA     ;START ADDRESS
00092  1220  AA AA       EA     .WORD $AAAA     ;END ADDRESS
00093  1222  AA AA       SELECT .WORD $AAAA     ;BYTE POINTER
00094  1224  AA AA       OFFSET .WORD $AAAA     ;ADDRESS OFFSET
00095  1226  AA AA       SAGOL  .WORD $AAAA     ;GOLBAL START
00096  1228  AA AA       EAGOL  .WORD $AAAA     ;GOLBAL END
00097  122A  AA AA       SAOUT  .WORD $AAAA     ;START ADDRESS
00098  122C  AA AA       EAOUT  .WORD $AAAA     ;END ADDRESS
00099  122E              ;*********************************
00100  122E              ; INTERNAL ADDRESS TABLE
00101  122E              ;*********************************
00102  122E  AA AA       TABINP .WORD $AAAA     ;TABLE POINTER
00103  1230  AA AA       TABINS .WORD $AAAA     ;TABLE START
00104  1232  AA AA       TABINE .WORD $AAAA     ;TABLE END
00105  1234              ;*********************************
00106  1234              ; SORT TABLE POINTERS
00107  1234              ;*********************************
00108  1234  AA AA       SMALLS .WORD $AAAA     ;TABLE START
00109  1236  AA AA       SMALLP .WORD $AAAA     ;TABLE POINTER
00110  1238              ;*********************************
00111  1238              ; SYMBOL TABLE
00112  1238              ;*********************************






DISASSEMBLER20......PAGE 0004

LINE# LOC   CODE        LINE


00113  1238  AA          SYMBOL .BYTE $AA       ;SYMBOL OPTION
00114  1239  AA AA       SYMBOP .WORD $AAAA     ;TABLE POINTER
00115  123B  AA AA       SYMBOS .WORD $AAAA     ;TABLE START
00116  123D  AA AA       SYMBOE .WORD $AAAA     ;TABLE END
00117  123F              ;*********************************
00118  123F              ; UNDEFINED SYMBOL TABLE
00119  123F              ;*********************************
00120  123F  AA AA       UYMBOP .WORD $AAAA     ;TABLE POINTER
00121  1241  AA AA       UYMBOS .WORD $AAAA     ;TABLE START
00122  1243  AA AA       UYMBOE .WORD $AAAA     ;TABLE END
00123  1245              ;*********************************
00124  1245              ; TEMP WORKING STORAGE
00125  1245              ;*********************************
00126  1245  AA AA       WORKED .WORD $AAAA     ;TWO BYTE OP
00127  1247  AA AA       WORKER .WORD $AAAA     ;TWO BYTE OP
00128  1249  AA AA       SAVEP  .WORD $AAAA     ;TWO BYTE OP
00129  124B  AA AA       SAVES  .WORD $AAAA     ;TWO BYTE OP
00130  124D  AA AA       SAVEE  .WORD $AAAA     ;TWO BYTE OP
00131  124F              ;*********************************
00132  124F              ; OTHER VARIABLES
00133  124F              ;*********************************
00134  124F  AA AA       ADRS   .WORD $AAAA
00135  1251  AA          TEMP   .BYTE $AA
00136  1252  AA          SAVA   .BYTE $AA
00137  1253  AA          SAVX   .BYTE $AA
00138  1254  AA          SAVY   .BYTE $AA
00139  1255              ;*********************************
00140  1255              ; PRINTER OUTPUT STORAGE
00141  1255              ;*********************************
00142  1255  AA AA       PAGECT .WORD $AAAA     ;PAGE COUNT
00143  1257  AA          LISTCT .BYTE $AA       ;LINE COUNT
00144  1258  AA AA       LINECT .WORD $AAAA     ;LINE COUNT
00145  125A  AA AA       ERRCT  .WORD $AAAA     ;ERROR COUNT
00146  125C              ;*********************************
00147  125C              ; INPUT BUFFER
00148  125C              ;*********************************
00149  125C              BUF    = *
00150  125C  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00150  125D  00 
00150  125E  00 
00150  125F  00 
00150  1260  00 
00150  1261  00 
00150  1262  00 
00150  1263  00 
00150  1264  00 
00150  1265  00 
00151  1266  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00151  1267  00 
00151  1268  00 
00151  1269  00 
00151  126A  00 
00151  126B  00 
00151  126C  00 
00151  126D  00 






DISASSEMBLER20......PAGE 0005

LINE# LOC   CODE        LINE


00151  126E  00 
00151  126F  00 
00152  1270  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00152  1271  00 
00152  1272  00 
00152  1273  00 
00152  1274  00 
00152  1275  00 
00152  1276  00 
00152  1277  00 
00152  1278  00 
00152  1279  00 
00153  127A  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00153  127B  00 
00153  127C  00 
00153  127D  00 
00153  127E  00 
00153  127F  00 
00153  1280  00 
00153  1281  00 
00153  1282  00 
00153  1283  00 
00154  1284  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00154  1285  00 
00154  1286  00 
00154  1287  00 
00154  1288  00 
00154  1289  00 
00154  128A  00 
00154  128B  00 
00154  128C  00 
00154  128D  00 
00155  128E  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00155  128F  00 
00155  1290  00 
00155  1291  00 
00155  1292  00 
00155  1293  00 
00155  1294  00 
00155  1295  00 
00155  1296  00 
00155  1297  00 
00156  1298  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00156  1299  00 
00156  129A  00 
00156  129B  00 
00156  129C  00 
00156  129D  00 
00156  129E  00 
00156  129F  00 
00156  12A0  00 
00156  12A1  00 
00157  12A2  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00157  12A3  00 
00157  12A4  00 






DISASSEMBLER20......PAGE 0006

LINE# LOC   CODE        LINE


00157  12A5  00 
00157  12A6  00 
00157  12A7  00 
00157  12A8  00 
00157  12A9  00 
00157  12AA  00 
00157  12AB  00 
00158  12AC  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00158  12AD  00 
00158  12AE  00 
00158  12AF  00 
00158  12B0  00 
00158  12B1  00 
00158  12B2  00 
00158  12B3  00 
00158  12B4  00 
00158  12B5  00 
00159  12B6  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00159  12B7  00 
00159  12B8  00 
00159  12B9  00 
00159  12BA  00 
00159  12BB  00 
00159  12BC  00 
00159  12BD  00 
00159  12BE  00 
00159  12BF  00 
00160  12C0              ;*********************************
00161  12C0              ; FILE NAME BUFFER
00162  12C0              ;*********************************
00163  12C0  AA AA       LINEFL .WORD $AAAA
00164  12C2  AA          VERSON .BYTE $AA
00165  12C3  AA          NCHARS .BYTE $AA
00166  12C4              NBUF   = *
00167  12C4  30 3A              .BYTE '0:'
00168  12C6  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
00168  12C7  AA 
00168  12C8  AA 
00168  12C9  AA 
00168  12CA  AA 
00168  12CB  AA 
00168  12CC  AA 
00168  12CD  AA 
00169  12CE  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
00169  12CF  AA 
00169  12D0  AA 
00169  12D1  AA 
00169  12D2  AA 
00169  12D3  AA 
00169  12D4  AA 
00169  12D5  AA 
00170  12D6  AA                 .BYTE $AA,$AA,$AA,$AA
00170  12D7  AA 
00170  12D8  AA 
00170  12D9  AA 






DISASSEMBLER20......PAGE 0007

LINE# LOC   CODE        LINE


00171  12DA              ;*********************************
00172  12DA              ; SYMBOL TABLE BUFFER
00173  12DA              ;*********************************
00174  12DA              SYMBUF = *
00175  12DA  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA,
$AA
00175  12DB  AA 
00175  12DC  AA 
00175  12DD  AA 
00175  12DE  AA 
00175  12DF  AA 
00175  12E0  AA 
00175  12E1  AA 
00175  12E2  AA 
00175  12E3  AA 
00176  12E4              ;*********************************
00177  12E4              ; DATA TABLE
00178  12E4              ;*********************************
00179  12E4  AA AA       EAS    .WORD $AAAA
00180  12E6  AA          TEXTER .BYTE $AA
00181  12E7  AA AA       CDATA  .WORD $AAAA
00182  12E9  AA AA       NDATA  .WORD $AAAA
00183  12EB  AA AA       DATABP .WORD $AAAA     ;DATA POINT
00184  12ED  AA AA       DATABS .WORD $AAAA     ;DATA START
00185  12EF  AA AA       DATABE .WORD $AAAA     ;DATA END
00186  12F1              ;*********************************
00187  12F1              ; DATA TABLE
00188  12F1              ;*********************************
00189  12F1  AA          TDATA  .BYTE $AA
00190  12F2              ;*********************************
00191  12F2              *=*+$0100
00192  13F2              ;*********************************
00193  13F2  0D          MPASS  .BYTE $0D,$0D,'PASS',0
00193  13F3  0D 
00193  13F4  50 41 
00193  13F8  00 
00194  13F9  0D          PMSG   .BYTE $0D,$12,' PAUSE ',$92,$0D,0
00194  13FA  12 
00194  13FB  20 50 
00194  1402  92 
00194  1403  0D 
00194  1404  00 
00195  1405  45 52       MSGERR .BYTE 'ERRORS = ',0
00195  140E  00 
00196  140F  45 4E       MSGDIS .BYTE 'END OF DISASSEMBLY',0
00196  1421  00 
00197  1422              ;*********************************
00198  1422              ; INITIALIZE DISASSEMBLER
00199  1422              ;*********************************
00200  1422  A2 FF       DISASS LDX #$FF
00201  1424  9A                 TXS
00202  1425  D8                 CLD
00203  1426  20 6E 15           JSR DOP         ;GET OPTIONS
00204  1429  20 50 24           JSR INITIN      ;INIT POINTERS
00205  142C  A9 31              LDA #'1'        ;PASS ONE
00206  142E  8D 12 12           STA PASS        ;SET PASS INDICATOR






DISASSEMBLER20......PAGE 0008

LINE# LOC   CODE        LINE


00207  1431              ;*********************************
00208  1431              ; DISASSEMBLER LOOP
00209  1431              ;*********************************
00210  1431  20 3C 23    DISA   JSR INTSA       ;SET SA
00211  1434  A9 00              LDA #00         ;ZERO BYTE
00212  1436  8D E7 12           STA CDATA       ;SET TABLE NUMBER
00213  1439  A9 F2              LDA #<MPASS     ;PASS MSG
00214  143B  A0 13              LDY #>MPASS     ;
00215  143D  20 A9 1D           JSR STRPNT      ;PRINT IT
00216  1440  AD 12 12           LDA PASS        ;GET PASS
00217  1443  20 FF 1D           JSR PCHAR       ;PRINT NUMBER
00218  1446  20 E1 22           JSR CRLF        ;CR
00219  1449              ;*********************************
00220  1449  AD 12 12           LDA PASS        ;GET PASS
00221  144C  CD 15 12           CMP CPASS       ;IS IT LAST
00222  144F  F0 0E              BEQ DISB        ;IF SO PRINT
00223  1451  CD 14 12           CMP EPASS       ;IS IT EXTERNAL
00224  1454  D0 3A              BNE DLOOP       ;IF NOT GO ON
00225  1456  20 6F 24           JSR SAVINT      ;SAVE INTERNAL
00226  1459  20 23 2D           JSR EQUINT      ;SET EQUATES
00227  145C  4C 90 14           JMP DLOOP       ;GO ON
00228  145F              ;*********************************
00229  145F  A9 01       DISB   LDA #$01        ;ONE BYTE
00230  1461  8D 58 12           STA LINECT      ;SET LINE # TO 1
00231  1464  8D 55 12           STA PAGECT      ;SET PAGE TO 1
00232  1467  A9 00              LDA #$00        ;ZERO BYTE
00233  1469  8D 59 12           STA LINECT+1    ;SET LINE # TO 1
00234  146C  8D 56 12           STA PAGECT+1    ;SET PAGE TO 1
00235  146F  8D 57 12           STA LISTCT      ;SET LIST TO 0
00236  1472  8D 5A 12           STA ERRCT       ;SET ERROR TO 0
00237  1475  8D 5B 12           STA ERRCT+1     ;SET ERROR TO 0
00238  1478  8D C0 12           STA LINEFL      ;SET LINE TO 0
00239  147B  8D C1 12           STA LINEFL+1    ;SET LINE TO 0
00240  147E  AD 1A 12           LDA OUTPUT      ;GET OUTPUT
00241  1481  8D 19 12           STA DEVICE      ;SET OUTPUT
00242  1484              ;*********************************
00243  1484  20 68 1E           JSR HEADER      ;PRINT HEADER
00244  1487  20 97 17           JSR OFILED      ;OPEN DISK FILE
00245  148A  20 29 22           JSR ORGIN       ;PRINT ORGIN LABEL
00246  148D  20 2E 2E           JSR EQUPRT      ;PRINT EQUATE
00247  1490              ;********************************
00248  1490  20 6B 1F    DLOOP  JSR DSLINE      ;DIS ONE LINE
00249  1493  B0 2C              BCS NEXTP       ;IF EA STOP
00250  1495  20 73 1C           JSR LINECK      ;LINE COUNT
00251  1498  20 E1 FF           JSR STOP        ;CHECK STOP
00252  149B  F0 57              BEQ QUITS       ;IF SO QUIT
00253  149D  20 E4 FF           JSR GETIN       ;GET KEY
00254  14A0  F0 EE              BEQ DLOOP       ;IF NONE NEXT
00255  14A2  C9 20              CMP #' '          ;IS IT A SPACE
00256  14A4  D0 EA              BNE DLOOP       ;IF NOT NEXT
00257  14A6              ;*********************************
00258  14A6              ; PAUSE LISTING
00259  14A6              ;********************************
00260  14A6  AD 19 12           LDA DEVICE
00261  14A9  48                 PHA






DISASSEMBLER20......PAGE 0009

LINE# LOC   CODE        LINE


00262  14AA  A9 03              LDA #$03
00263  14AC  8D 19 12           STA DEVICE
00264  14AF  A9 F9              LDA #<PMSG
00265  14B1  A0 13              LDY #>PMSG
00266  14B3  20 A9 1D           JSR STRPNT
00267  14B6  68                 PLA
00268  14B7  8D 19 12           STA DEVICE
00269  14BA  20 E4 FF    PAUSE  JSR GETIN       ;PAUSE FOR KEY
00270  14BD  F0 FB              BEQ PAUSE       ;
00271  14BF  D0 CF              BNE DLOOP       ;NEXT LINE
00272  14C1              ;********************************
00273  14C1  EE 12 12    NEXTP  INC PASS        ;INC PASS
00274  14C4  AD 12 12           LDA PASS        ;GET PASS
00275  14C7  CD 15 12           CMP CPASS       ;LAST PASS?
00276  14CA  90 1F              BCC DISFUL      ;IF LESS AGAIN
00277  14CC  D0 20              BNE DISC        ;FINISH
00278  14CE  AD 1B 12           LDA WINDOW      ;WINDOW FLAG
00279  14D1  F0 18              BEQ DISFUL      ;FULL OUTPUT
00280  14D3              ;*********************************
00281  14D3              ; WINDOWED OUTPUT
00282  14D3              ;*********************************
00283  14D3  AD 2A 12           LDA SAOUT       ;
00284  14D6  8D 1E 12           STA SA          ;
00285  14D9  AD 2B 12           LDA SAOUT+1     ;
00286  14DC  8D 1F 12           STA SA+1        ;
00287  14DF  AD 2C 12           LDA EAOUT       ;
00288  14E2  8D 20 12           STA EA          ;
00289  14E5  AD 2D 12           LDA EAOUT+1     ;
00290  14E8  8D 21 12           STA EA+1        ;
00291  14EB              ;*********************************
00292  14EB  4C 31 14    DISFUL JMP DISA        ;LAST PASS
00293  14EE  20 11 23    DISC   JSR INCSL
00294  14F1  20 3F 22           JSR EFILE       ;END FILE MSG
00295  14F4              ;*********************************
00296  14F4  AD 19 12    QUITS  LDA DEVICE      ;CHECK DEV
00297  14F7  29 08              AND #$08        ;DISK FILE?
00298  14F9  F0 10              BEQ QUTERR      ;IF NOT BRANCH
00299  14FB  A9 08              LDA #$08        ;DISK
00300  14FD  20 C3 FF           JSR CLOSE       ;CLOSE IT
00301  1500  AD 1A 12           LDA OUTPUT      ;GET OUTPUT
00302  1503  29 07              AND #07         ;MASK DISK
00303  1505  8D 1A 12           STA OUTPUT      ;RESET OUTPUT
00304  1508  8D 19 12           STA DEVICE      ;RESET OUTPUT
00305  150B              ;*********************************
00306  150B              ; PRINT ERRORS
00307  150B              ;*********************************
00308  150B  AD 1A 12    QUTERR LDA OUTPUT
00309  150E  09 03              ORA #$03
00310  1510  8D 1A 12           STA OUTPUT
00311  1513  8D 19 12           STA DEVICE
00312  1516  20 EC 1C           JSR NEWLIN
00313  1519  20 EC 1C           JSR NEWLIN
00314  151C  A9 05              LDA #<MSGERR
00315  151E  A0 14              LDY #>MSGERR
00316  1520  20 A9 1D           JSR STRPNT






DISASSEMBLER20......PAGE 0010

LINE# LOC   CODE        LINE


00317  1523  AE 5A 12           LDX ERRCT
00318  1526  AD 5B 12           LDA ERRCT+1
00319  1529  20 C5 1D           JSR PRTNUM
00320  152C              ;*********************************
00321  152C  AD 19 12           LDA DEVICE      ;CHECK DEV
00322  152F  29 04              AND #$04        ;PRINTER?
00323  1531  F0 13              BEQ DONED       ;IF NOT DONE
00324  1533  A9 04              LDA #$04        ;DEVICE 4
00325  1535  8D 1A 12           STA OUTPUT      ;SET DEVICE
00326  1538  8D 19 12           STA DEVICE      ;SET DEVICE
00327  153B  20 21 26           JSR INTPRT      ;PRINT INTABLE
00328  153E  A9 07              LDA #$07        ;DEVICE 3 AND 4
00329  1540  8D 19 12           STA DEVICE      ;SET DEVICE
00330  1543  8D 1A 12           STA OUTPUT      ;SET DEVICE
00331  1546  20 EC 1C    DONED  JSR NEWLIN      ;NEWLINE
00332  1549  20 EC 1C           JSR NEWLIN      ;NEWLINE
00333  154C  A9 0F              LDA #<MSGDIS    ;END MSG
00334  154E  A0 14              LDY #>MSGDIS
00335  1550  20 A9 1D           JSR STRPNT      ;PRINT IT
00336  1553  20 EC 1C           JSR NEWLIN      ;NEW LINE
00337  1556  AD 19 12           LDA DEVICE      ;CHECK DEVICE
00338  1559  29 04              AND #$04        ;PRINTER
00339  155B  F0 08              BEQ DONE        ;
00340  155D  20 36 1E           JSR FINISH      ;FINISH PAGE
00341  1560  A9 04              LDA #$04        ;PRINTER
00342  1562  20 C3 FF           JSR CLOSE       ;CLOSE FILE
00343  1565              ;*********************************
00344  1565  20 CC FF    DONE   JSR CLRCHN      ;RESET I/O
00345  1568  20 F6 1E           JSR SCRON       ;TURN SCREEN ON
00346  156B  4C 74 C4           JMP WREADY      ;RETURN
00347  156E              ;*********************************
00348  156E              ;.FIL 0:OPTION.ASM
00349  156E              ;*********************************
00350  156E              .END
00351  156E              ;*********************************
00352  156E              .LIB   OPTION.ASM
00353  156E              ;*********************************
00354  156E              ; FILE OPTION.ASM
00355  156E              ;*********************************
00356  156E              ;
00357  156E              ;        DISASSEMBLER64
00358  156E              ;    SYMBOLIC DISASSEMBLER
00359  156E              ;       BY DENTON MARLOWE
00360  156E              ;
00361  156E              ;  (C)1986 BY DENTON MARLOWE
00362  156E              ;
00363  156E              ;*********************************
00364  156E              ; DISASSEMBLER OPTIONS
00365  156E              ;*********************************
00366  156E  A9 03       DOP    LDA #$03        ;DEVICE #3 SCREEN
00367  1570  8D 19 12           STA DEVICE      ;CURRENT OUTPUT
00368  1573  A9 00              LDA #$00        ;NO DEVICES
00369  1575  8D 1A 12           STA OUTPUT      ;FINAL OUTPUT
00370  1578  A9 B5              LDA #<MSG       ;START UP MSG
00371  157A  A0 19              LDY #>MSG






DISASSEMBLER20......PAGE 0011

LINE# LOC   CODE        LINE


00372  157C  20 A9 1D           JSR STRPNT      ;PRINT IT
00373  157F              ;*********************************
00374  157F              ; READ IN DISK FILE ?
00375  157F              ;*********************************
00376  157F  A9 FF              LDA #<MSF1
00377  1581  A0 19              LDY #>MSF1
00378  1583  20 A9 1D           JSR STRPNT
00379  1586  20 0A 1D           JSR INSTNG
00380  1589  D0 03              BNE PFILE0
00381  158B  4C C6 16           JMP STARTS
00382  158E  A2 00       PFILE0 LDX #$00
00383  1590  BD 52 1A    PFILE1 LDA PROGM,X
00384  1593  99 5C 12           STA BUF,Y
00385  1596  C8                 INY
00386  1597  E8                 INX
00387  1598  E0 04              CPX #$04
00388  159A  D0 F4              BNE PFILE1
00389  159C  8C 52 12           STY SAVA
00390  159F  20 AC 16           JSR INITD
00391  15A2  20 86 16           JSR PRFILE
00392  15A5              ;*********************************
00393  15A5              ; READ IN FILE FOR SA AND EA
00394  15A5              ;*********************************
00395  15A5  A2 08              LDX #$08        ;FILE #8
00396  15A7  20 C6 FF           JSR CHKIN       ;INPUT FILE
00397  15AA  20 CF FF           JSR CHRIN       ;GET LOW BYTE SA
00398  15AD  8D 1E 12           STA SA          ;SET START
00399  15B0  20 CF FF           JSR CHRIN       ;GET HIGH BYTE SA
00400  15B3  8D 1F 12           STA SA+1        ;SET START
00401  15B6  20 3C 23           JSR INTSA       ;SET END
00402  15B9              ;*********************************
00403  15B9  A9 00              LDA #$00        ;ZERO BYTE
00404  15BB  8D 4F 12           STA ADRS        ;BYTE COUNTER
00405  15BE  8D 50 12           STA ADRS+1      ;BYTE COUNTER
00406  15C1  20 CF FF    PROGRD JSR CHRIN       ;INPUT BYTE
00407  15C4  20 B7 FF           JSR READST      ;READ STATUS
00408  15C7  D0 0D              BNE PROGED      ;IF NOT ZERO END
00409  15C9  20 11 23           JSR INCSL       ;INC END ADDRESS
00410  15CC  EE 4F 12           INC ADRS        ;INC BYTE COUNT
00411  15CF  D0 03              BNE *+5         ;
00412  15D1  EE 50 12           INC ADRS+1      ;
00413  15D4  D0 EB              BNE PROGRD      ;NEXT BYTE
00414  15D6  AD 22 12    PROGED LDA SELECT      ;
00415  15D9  8D 20 12           STA EA          ;
00416  15DC  AD 23 12           LDA SELECT+1    ;
00417  15DF  8D 21 12           STA EA+1        ;
00418  15E2              ;*********************************
00419  15E2  A9 08              LDA #$08        ;FILE #8
00420  15E4  20 C3 FF           JSR CLOSE       ;CLOSE IT
00421  15E7  20 CC FF           JSR CLRCHN      ;RESET I/O
00422  15EA              ;*********************************
00423  15EA              ; PRINT PROGRAM LOAD ADDRESS
00424  15EA              ; AND END ADDRESS
00425  15EA              ;*********************************
00426  15EA  A9 1B              LDA #<MSF2






DISASSEMBLER20......PAGE 0012

LINE# LOC   CODE        LINE


00427  15EC  A0 1A              LDY #>MSF2
00428  15EE  20 A9 1D           JSR STRPNT
00429  15F1  AD 1E 12           LDA SA
00430  15F4  8D 45 12           STA WORKED
00431  15F7  AD 1F 12           LDA SA+1
00432  15FA  8D 46 12           STA WORKED+1
00433  15FD  20 B0 22           JSR PWORKD
00434  1600              ;
00435  1600  A9 2D              LDA #'-'
00436  1602              ;
00437  1602  20 FF 1D           JSR PCHAR
00438  1605  20 BE 22           JSR DOLLAR
00439  1608  20 A4 22           JSR PSELEC
00440  160B  20 E1 22           JSR CRLF
00441  160E              ;*********************************
00442  160E              ; CALCULATE BUFFER ADDRESS
00443  160E              ;*********************************
00444  160E  A5 37              LDA MEMSIZ
00445  1610  8D 22 12           STA SELECT
00446  1613  A5 38              LDA MEMSIZ+1
00447  1615  8D 23 12           STA SELECT+1
00448  1618  20 30 23           JSR DECSL
00449  161B  38                 SEC
00450  161C  AD 22 12           LDA SELECT
00451  161F  ED 4F 12           SBC ADRS
00452  1622  8D 22 12           STA SELECT
00453  1625  AD 23 12           LDA SELECT+1
00454  1628  ED 50 12           SBC ADRS+1
00455  162B  8D 23 12           STA SELECT+1
00456  162E              ;*********************************
00457  162E              ; CALCULATE ADDRESS OFFSET
00458  162E              ;*********************************
00459  162E  38                 SEC
00460  162F  AD 22 12           LDA SELECT
00461  1632  ED 1E 12           SBC SA
00462  1635  8D 24 12           STA OFFSET
00463  1638  8D 45 12           STA WORKED
00464  163B  AD 23 12           LDA SELECT+1
00465  163E  ED 1F 12           SBC SA+1
00466  1641  8D 25 12           STA OFFSET+1
00467  1644  8D 46 12           STA WORKED+1
00468  1647  A9 AE              LDA #<MSD4A
00469  1649  A0 1A              LDY #>MSD4A
00470  164B  20 A9 1D           JSR STRPNT
00471  164E  20 B0 22           JSR PWORKD
00472  1651  20 E1 22           JSR CRLF
00473  1654              ;*********************************
00474  1654              ; OPEN FILE AND READ PRG INTO BUF
00475  1654              ;*********************************
00476  1654  20 86 16           JSR PRFILE      ;OPEN FILE
00477  1657  A2 08              LDX #$08        ;FILE #8
00478  1659  20 C6 FF           JSR CHKIN       ;INPUT FILE
00479  165C  20 CF FF           JSR CHRIN       ;GET LOW BYTE SA
00480  165F  20 CF FF           JSR CHRIN       ;GET HIGH BYTE SA
00481  1662  20 CF FF    PRO2RD JSR CHRIN       ;INPUT BYTE






DISASSEMBLER20......PAGE 0013

LINE# LOC   CODE        LINE


00482  1665  AE 22 12           LDX SELECT      ;LOW BYTE POINTER
00483  1668  86 02              STX ZEROUR      ;ZERO PAGE
00484  166A  AE 23 12           LDX SELECT+1    ;HIH BYTE POINTER
00485  166D  86 03              STX ZEROUR+1    ;ZERO PAGE
00486  166F  A0 00              LDY #$00        ;OFFSET
00487  1671  91 02              STA (ZEROUR),Y  ;STORE BYTE
00488  1673  20 11 23           JSR INCSL       ;INC POINTER
00489  1676  20 B7 FF           JSR READST      ;READ STATUS
00490  1679  F0 E7              BEQ PRO2RD      ;NEXT BYTE
00491  167B  A9 08              LDA #$08        ;FILE #8
00492  167D  20 C3 FF           JSR CLOSE       ;CLOSE IT
00493  1680  20 CC FF           JSR CLRCHN      ;RESET I/O
00494  1683  4C 08 17           JMP WINDOP      ;WINDOW OPTION
00495  1686              ;*********************************
00496  1686              ; OPEN PROGRAM FILE
00497  1686              ;*********************************
00498  1686  AD 52 12    PRFILE LDA SAVA
00499  1689  A2 5C              LDX #<BUF
00500  168B  A0 12              LDY #>BUF
00501  168D  20 BD FF           JSR SETNAM
00502  1690  A9 08              LDA #$08
00503  1692  A8                 TAY
00504  1693  AA                 TAX
00505  1694  20 BA FF           JSR SETLFS
00506  1697  20 C0 FF           JSR OPEN
00507  169A  20 B2 1C           JSR DISERR
00508  169D  90 0C              BCC PROGOK
00509  169F  A9 08              LDA #$08
00510  16A1  20 C3 FF           JSR CLOSE
00511  16A4  68                 PLA
00512  16A5  68                 PLA
00513  16A6  68                 PLA
00514  16A7  68                 PLA
00515  16A8  4C 74 C4           JMP WREADY
00516  16AB              ;*********************************
00517  16AB  60          PROGOK RTS
00518  16AC              ;*********************************
00519  16AC              ; INIT DISK
00520  16AC              ;*********************************
00521  16AC  A9 02       INITD  LDA #$02
00522  16AE  A0 1A              LDY #>INIT
00523  16B0  A2 56              LDX #<INIT
00524  16B2  20 BD FF           JSR SETNAM
00525  16B5  A9 0F              LDA #$0F
00526  16B7  A2 08              LDX #$08
00527  16B9  A0 0F              LDY #$0F
00528  16BB  20 BA FF           JSR SETLFS
00529  16BE  20 C0 FF           JSR OPEN
00530  16C1  A9 0F              LDA #$0F
00531  16C3  4C C3 FF           JMP CLOSE
00532  16C6              ;*********************************
00533  16C6              ; GET START ADDRESS
00534  16C6              ;*********************************
00535  16C6  A9 72       STARTS LDA #<MSD1
00536  16C8  A0 1A              LDY #>MSD1






DISASSEMBLER20......PAGE 0014

LINE# LOC   CODE        LINE


00537  16CA  20 A9 1D           JSR STRPNT
00538  16CD  20 19 1D           JSR GETWRD
00539  16D0  AD 4F 12           LDA ADRS
00540  16D3  8D 1E 12           STA SA
00541  16D6  AD 50 12           LDA ADRS+1
00542  16D9  8D 1F 12           STA SA+1
00543  16DC              ;*********************************
00544  16DC              ; GET END ADDRESS
00545  16DC              ;*********************************
00546  16DC  A9 84              LDA #<MSD2
00547  16DE  A0 1A              LDY #>MSD2
00548  16E0  20 A9 1D           JSR STRPNT
00549  16E3  20 19 1D           JSR GETWRD
00550  16E6  AD 4F 12           LDA ADRS
00551  16E9  8D 20 12           STA EA
00552  16EC  AD 50 12           LDA ADRS+1
00553  16EF  8D 21 12           STA EA+1
00554  16F2              ;*********************************
00555  16F2              ; ADDRRESS OFFSET
00556  16F2              ;*********************************
00557  16F2  A9 94              LDA #<MSD4
00558  16F4  A0 1A              LDY #>MSD4
00559  16F6  20 A9 1D           JSR STRPNT
00560  16F9  20 19 1D           JSR GETWRD
00561  16FC  AD 4F 12           LDA ADRS
00562  16FF  8D 24 12           STA OFFSET
00563  1702  AD 50 12           LDA ADRS+1
00564  1705  8D 25 12           STA OFFSET+1
00565  1708              ;*********************************
00566  1708              ; OUTPUT WINDOW
00567  1708              ;*********************************
00568  1708  A9 C1       WINDOP LDA #<MSD5
00569  170A  A0 1A              LDY #>MSD5
00570  170C  20 A9 1D           JSR STRPNT
00571  170F  20 7E 1D           JSR CRNO
00572  1712  B0 30              BCS WIND1
00573  1714  A9 72              LDA #<MSD1
00574  1716  A0 1A              LDY #>MSD1
00575  1718  20 A9 1D           JSR STRPNT
00576  171B  20 19 1D           JSR GETWRD
00577  171E  AD 4F 12           LDA ADRS
00578  1721  8D 2A 12           STA SAOUT
00579  1724  AD 50 12           LDA ADRS+1
00580  1727  8D 2B 12           STA SAOUT+1
00581  172A  A9 84              LDA #<MSD2
00582  172C  A0 1A              LDY #>MSD2
00583  172E  20 A9 1D           JSR STRPNT
00584  1731  20 19 1D           JSR GETWRD
00585  1734  AD 4F 12           LDA ADRS
00586  1737  8D 2C 12           STA EAOUT
00587  173A  AD 50 12           LDA ADRS+1
00588  173D  8D 2D 12           STA EAOUT+1
00589  1740  A9 FF              LDA #$FF
00590  1742  30 02              BMI WIND2
00591  1744  A9 00       WIND1  LDA #$00






DISASSEMBLER20......PAGE 0015

LINE# LOC   CODE        LINE


00592  1746  8D 1B 12    WIND2  STA WINDOW
00593  1749              ;*********************************
00594  1749              ; SETUP GOBAL POINTER
00595  1749              ;*********************************
00596  1749  AD 1E 12           LDA SA
00597  174C  8D 26 12           STA SAGOL
00598  174F  AD 1F 12           LDA SA+1
00599  1752  8D 27 12           STA SAGOL+1
00600  1755  AD 20 12           LDA EA
00601  1758  8D 28 12           STA EAGOL
00602  175B  AD 21 12           LDA EA+1
00603  175E  8D 29 12           STA EAGOL+1
00604  1761              ;*********************************
00605  1761              ; SOURCE FILE OUTPUT?
00606  1761              ;*********************************
00607  1761  A9 30       OUFILE LDA #<MSG1
00608  1763  A0 1A              LDY #>MSG1
00609  1765  20 A9 1D           JSR STRPNT
00610  1768              ;*********************************
00611  1768  A9 00              LDA #$00
00612  176A  8D C3 12           STA NCHARS
00613  176D  20 0A 1D           JSR INSTNG
00614  1770  F0 1A              BEQ NOFILE
00615  1772  A9 30              LDA #'0'
00616  1774  8D C2 12           STA VERSON
00617  1777  8C C3 12           STY NCHARS
00618  177A  A2 00              LDX #$00
00619  177C  BD 5C 12    GFILE0 LDA BUF,X
00620  177F  9D C4 12           STA NBUF,X
00621  1782  E8                 INX
00622  1783  EC C3 12           CPX NCHARS
00623  1786  D0 F4              BNE GFILE0
00624  1788              ;*********************************
00625  1788  A9 08       FILEOK LDA #$08
00626  178A  D0 02              BNE FILE
00627  178C  A9 00       NOFILE LDA #$00
00628  178E  0D 1A 12    FILE   ORA OUTPUT
00629  1791  8D 1A 12           STA OUTPUT
00630  1794  4C ED 17           JMP PRTGET
00631  1797              ;*********************************
00632  1797              ;     OPEN SOURCE DISK FILE
00633  1797              ;*********************************
00634  1797  AC C3 12    OFILED LDY NCHARS
00635  179A  F0 03              BEQ NOID
00636  179C  20 AC 16           JSR INITD
00637  179F  20 E6 1E    NOID   JSR SCROFF
00638  17A2              ;*********************************
00639  17A2  AC C3 12    OFILE  LDY NCHARS
00640  17A5  F0 45              BEQ OFILE4
00641  17A7  AD C2 12           LDA VERSON
00642  17AA  C9 30              CMP #'0'
00643  17AC  F0 07              BEQ OFILE1
00644  17AE  AD C2 12           LDA VERSON
00645  17B1  99 C4 12           STA NBUF,Y
00646  17B4  C8                 INY






DISASSEMBLER20......PAGE 0016

LINE# LOC   CODE        LINE


00647  17B5  EE C2 12    OFILE1 INC VERSON
00648  17B8  A2 00              LDX #$00
00649  17BA  BD 4E 1A    OFILE2 LDA WRITE,X
00650  17BD  99 C4 12           STA NBUF,Y
00651  17C0  C8                 INY
00652  17C1  E8                 INX
00653  17C2  E0 04              CPX #$04
00654  17C4  D0 F4              BNE OFILE2
00655  17C6  98                 TYA
00656  17C7  A0 12              LDY #>NBUF
00657  17C9  A2 C4              LDX #<NBUF
00658  17CB  20 BD FF           JSR SETNAM
00659  17CE  A9 08              LDA #$08
00660  17D0  AA                 TAX
00661  17D1  A8                 TAY
00662  17D2  20 BA FF           JSR SETLFS
00663  17D5  20 C0 FF           JSR OPEN
00664  17D8  20 B2 1C           JSR DISERR
00665  17DB  90 0F              BCC OFILE4
00666  17DD              ;*********************************
00667  17DD              ;  CLOSE OUT FILE ON ERROR
00668  17DD              ;*********************************
00669  17DD  A9 08       OFILE3 LDA #$08
00670  17DF  20 C3 FF           JSR CLOSE
00671  17E2  20 CC FF           JSR CLRCHN
00672  17E5  68                 PLA
00673  17E6  68                 PLA
00674  17E7  68                 PLA
00675  17E8  68                 PLA
00676  17E9  4C 74 C4           JMP WREADY
00677  17EC  60          OFILE4 RTS
00678  17ED              ;*********************************
00679  17ED              ; GET PRINTER OPTION
00680  17ED              ;*********************************
00681  17ED  A9 58       PRTGET LDA #<MSG2
00682  17EF  A0 1A              LDY #>MSG2
00683  17F1  20 A9 1D           JSR STRPNT
00684  17F4  20 71 1D           JSR CRYS
00685  17F7  B0 26              BCS NOPRT
00686  17F9  A9 00              LDA #$00
00687  17FB  20 BD FF           JSR SETNAM
00688  17FE  A9 04              LDA #$04
00689  1800  A2 04              LDX #$04
00690  1802  A0 00              LDY #$00
00691  1804  20 BA FF           JSR SETLFS
00692  1807  20 C0 FF           JSR OPEN
00693  180A  A2 04              LDX #$04
00694  180C  20 C9 FF           JSR CHKOUT
00695  180F  20 B7 FF           JSR READST
00696  1812  29 80              AND #$80
00697  1814  08                 PHP
00698  1815  20 CC FF           JSR CLRCHN
00699  1818  28                 PLP
00700  1819  30 04              BMI NOPRT
00701  181B  A9 04              LDA #$04






DISASSEMBLER20......PAGE 0017

LINE# LOC   CODE        LINE


00702  181D  D0 02              BNE PRINT
00703  181F  A9 03       NOPRT  LDA #$03
00704  1821  0D 1A 12    PRINT  ORA OUTPUT
00705  1824  8D 1A 12           STA OUTPUT
00706  1827              ;*********************************
00707  1827              ; GO GET SYMBOLIC OPTION
00708  1827              ;*********************************
00709  1827  20 AE 2C           JSR SOP
00710  182A              ;*********************************
00711  182A              ; GET RELATIVE ADDRESS OPTION
00712  182A              ;*********************************
00713  182A  A9 DE              LDA #<MSR1
00714  182C  A0 1A              LDY #>MSR1
00715  182E  20 A9 1D           JSR STRPNT
00716  1831  20 71 1D           JSR CRYS
00717  1834  90 04              BCC DOP2
00718  1836  A9 01              LDA #$01
00719  1838  D0 02              BNE DOP3
00720  183A  A9 00       DOP2   LDA #$00
00721  183C  8D 18 12    DOP3   STA ROPT
00722  183F              ;*********************************
00723  183F              ; GET BIT INSTRUCTION CODING OPTION
00724  183F              ;*********************************
00725  183F  20 38 39           JSR BITOPT
00726  1842              ;*********************************
00727  1842              ; DATA TABLE OPTION
00728  1842              ;*********************************
00729  1842  AD 3D 12    AOP    LDA SYMBOE
00730  1845  8D EB 12           STA DATABP
00731  1848  8D ED 12           STA DATABS
00732  184B  8D EF 12           STA DATABE
00733  184E  85 02              STA ZEROUR
00734  1850  AD 3E 12           LDA SYMBOE+1
00735  1853  8D EC 12           STA DATABP+1
00736  1856  8D EE 12           STA DATABS+1
00737  1859  8D F0 12           STA DATABE+1
00738  185C  85 03              STA ZEROUR+1
00739  185E              ;*********************************
00740  185E  A9 53              LDA #<MSAOP
00741  1860  A0 1B              LDY #>MSAOP
00742  1862  20 A9 1D           JSR STRPNT
00743  1865  20 0A 1D           JSR INSTNG
00744  1868  D0 03              BNE BOP
00745  186A  4C ED 18           JMP NOTABS
00746  186D              ;*********************************
00747  186D  98          BOP    TYA
00748  186E  48                 PHA
00749  186F  20 AC 16           JSR INITD
00750  1872  68                 PLA
00751  1873  A8                 TAY
00752  1874  A2 00              LDX #$00
00753  1876  BD 17 30    AFILE  LDA NAMS,X
00754  1879  99 5C 12           STA BUF,Y
00755  187C  C8                 INY
00756  187D  E8                 INX






DISASSEMBLER20......PAGE 0018

LINE# LOC   CODE        LINE


00757  187E  E0 04              CPX #$04
00758  1880  D0 F4              BNE AFILE
00759  1882  98                 TYA
00760  1883  A0 12              LDY #>BUF
00761  1885  A2 5C              LDX #<BUF
00762  1887  20 BD FF           JSR SETNAM
00763  188A  A9 03              LDA #$03
00764  188C  A2 08              LDX #$08
00765  188E  A0 03              LDY #$03
00766  1890  20 BA FF           JSR SETLFS
00767  1893  20 C0 FF           JSR OPEN
00768  1896  20 B2 1C           JSR DISERR
00769  1899  B0 1B              BCS AGET1
00770  189B  A2 03              LDX #$03
00771  189D  20 C6 FF           JSR CHKIN
00772  18A0              ;*********************************
00773  18A0              ; READ IN DATA TABLE
00774  18A0              ;*********************************
00775  18A0  A0 00              LDY #$00
00776  18A2  20 CF FF           JSR CHRIN
00777  18A5  8D E9 12           STA NDATA
00778  18A8  F0 0C              BEQ AGET1
00779  18AA  20 CF FF    AGET   JSR CHRIN
00780  18AD  99 F1 12           STA TDATA,Y
00781  18B0  C8                 INY
00782  18B1  20 B7 FF           JSR READST
00783  18B4  F0 F4              BEQ AGET
00784  18B6  A9 03       AGET1  LDA #$03
00785  18B8  20 C3 FF           JSR CLOSE
00786  18BB  20 CC FF           JSR CLRCHN
00787  18BE              ;*********************************
00788  18BE              ; PRINT DATA TABLE
00789  18BE              ;*********************************
00790  18BE  AD E9 12    PRTDAS LDA NDATA
00791  18C1  8D E7 12           STA CDATA
00792  18C4  A0 00              LDY #$00
00793  18C6  8C 54 12           STY SAVY
00794  18C9  20 E1 22    PRTNEX JSR CRLF
00795  18CC  A2 05              LDX #$05
00796  18CE  8E 53 12           STX SAVX
00797  18D1  AC 54 12    PRTDAL LDY SAVY
00798  18D4  B9 F1 12           LDA TDATA,Y
00799  18D7  20 93 1D           JSR PRBYT
00800  18DA  20 F3 22           JSR SPACE
00801  18DD  EE 54 12           INC SAVY
00802  18E0  CE 53 12           DEC SAVX
00803  18E3  D0 EC              BNE PRTDAL
00804  18E5  CE E7 12           DEC CDATA
00805  18E8  D0 DF              BNE PRTNEX
00806  18EA              ;*********************************
00807  18EA  4C 8A 19           JMP XOP0
00808  18ED              ;*********************************
00809  18ED              ; READ DATA FOR KEYBOARD
00810  18ED              ;*********************************
00811  18ED  A9 72       NOTABS LDA #<MSA1      ;NUMBER OF DATA






DISASSEMBLER20......PAGE 0019

LINE# LOC   CODE        LINE


00812  18EF  A0 1B              LDY #>MSA1
00813  18F1  20 A9 1D           JSR STRPNT
00814  18F4  20 19 1D           JSR GETWRD      ;INPUT HEX BYTE
00815  18F7  AD 4F 12           LDA ADRS        ;GET BYTE
00816  18FA  8D E9 12           STA NDATA       ;SET NUM TABLES
00817  18FD  D0 03              BNE AOPX        ;0 DATA THEN END
00818  18FF  4C 8A 19           JMP XOP0        ;RETURN
00819  1902  A9 00       AOPX   LDA #$00        ;ZERO OFFSET
00820  1904  8D E7 12           STA CDATA       ;FIRST TABLE
00821  1907              ;*********************************
00822  1907              ; CALCULATE TABLE OFFSET
00823  1907              ;*********************************
00824  1907  AD E7 12    AOP1   LDA CDATA       ;GET TABLE NUMBER
00825  190A  0A                 ASL A           ;*2
00826  190B  0A                 ASL A           ;*4
00827  190C  18                 CLC             ;C=0
00828  190D  6D E7 12           ADC CDATA       ;*5
00829  1910  8D 54 12           STA SAVY        ;STORE AS OFFSET
00830  1913              ;*********************************
00831  1913  A9 95              LDA #<MSA2
00832  1915  A0 1B              LDY #>MSA2
00833  1917  20 A9 1D           JSR STRPNT      ;PRINT MSG
00834  191A  20 19 1D           JSR GETWRD      ;GET ADDRESS
00835  191D  AC 54 12           LDY SAVY        ;GET OFFSET
00836  1920  AD 4F 12           LDA ADRS
00837  1923  99 F1 12           STA TDATA,Y
00838  1926  C8                 INY
00839  1927  AD 50 12           LDA ADRS+1
00840  192A  99 F1 12           STA TDATA,Y
00841  192D  C8                 INY
00842  192E  8C 54 12           STY SAVY
00843  1931              ;*********************************
00844  1931              ; END OF DATA TABLE
00845  1931              ;*********************************
00846  1931  A9 AE       AOP2   LDA #<MSA3
00847  1933  A0 1B              LDY #>MSA3
00848  1935  20 A9 1D           JSR STRPNT
00849  1938  20 19 1D           JSR GETWRD      ;GET ADDRESS
00850  193B  AC 54 12           LDY SAVY
00851  193E  AD 4F 12           LDA ADRS
00852  1941  99 F1 12           STA TDATA,Y
00853  1944  C8                 INY
00854  1945  AD 50 12           LDA ADRS+1
00855  1948  99 F1 12           STA TDATA,Y
00856  194B  C8                 INY
00857  194C  8C 54 12           STY SAVY
00858  194F              ;*********************************
00859  194F              ; GET TYPE OF TABLE
00860  194F              ;*********************************
00861  194F  A9 C5              LDA #<MSG5      ;TABLE TYPE
00862  1951  A0 1B              LDY #>MSG5
00863  1953  20 A9 1D           JSR STRPNT
00864  1956  20 E4 FF    AOP3   JSR GETIN
00865  1959  F0 FB              BEQ AOP3
00866  195B  C9 30              CMP #'0'






DISASSEMBLER20......PAGE 0020

LINE# LOC   CODE        LINE


00867  195D  F0 14              BEQ ASC
00868  195F  C9 31              CMP #'1'
00869  1961  F0 10              BEQ ASC
00870  1963  C9 32              CMP #'2'
00871  1965  F0 0C              BEQ ASC
00872  1967  C9 33              CMP #'3'
00873  1969  F0 08              BEQ ASC
00874  196B  C9 34              CMP #'4'
00875  196D  F0 04              BEQ ASC
00876  196F  C9 53              CMP #'S'
00877  1971  D0 E3              BNE AOP3
00878  1973  20 D2 FF    ASC    JSR CHROUT
00879  1976  AC 54 12           LDY SAVY
00880  1979  99 F1 12           STA TDATA,Y
00881  197C              ;*********************************
00882  197C  EE E7 12           INC CDATA       ;INC TABLE COUNT
00883  197F  AD E7 12           LDA CDATA       ;GET TABLE COUNT
00884  1982  CD E9 12           CMP NDATA       ;ALL TABLES?
00885  1985  F0 03              BEQ XOP0        ;IF NOT GET MORE
00886  1987  4C 07 19           JMP AOP1        ;IF NOT GET MORE
00887  198A              ;*********************************
00888  198A              ; GET LABEL GENERATION OPTION
00889  198A              ;*********************************
00890  198A  A9 31       XOP0   LDA #<MSB4
00891  198C  A0 1C              LDY #>MSB4
00892  198E  20 A9 1D           JSR STRPNT
00893  1991  20 71 1D           JSR CRYS
00894  1994  B0 04              BCS XOP1
00895  1996  A9 01              LDA #$01
00896  1998  D0 02              BNE XOP2
00897  199A  A9 00       XOP1   LDA #$00
00898  199C  8D 17 12    XOP2   STA XOPT
00899  199F              ;*********************************
00900  199F              ; OUTPUT FORMAT OPTION
00901  199F              ;*********************************
00902  199F  A9 52              LDA #<MSB5
00903  19A1  A0 1C              LDY #>MSB5
00904  19A3  20 A9 1D           JSR STRPNT
00905  19A6  20 71 1D           JSR CRYS
00906  19A9  B0 04              BCS FOP1
00907  19AB  A9 00              LDA #$00
00908  19AD  F0 02              BEQ FOP2
00909  19AF  A9 FF       FOP1   LDA #$FF
00910  19B1  8D 1C 12    FOP2   STA FOROPT
00911  19B4              ;*********************************
00912  19B4  60                 RTS
00913  19B5              ;*********************************
00914  19B5              ;   COMMAND MESSAGES
00915  19B5              ;*********************************
00916  19B5  93          MSG    .BYTE $93       ;CLEAR SCREEN 
00917  19B6  0D          .BYTE  $0D,$0D
00917  19B7  0D 
00918  19B8  43 42       .BYTE  'CBM RESIDENT'
00919  19C4  0D          .BYTE  $0D
00920  19C5  44 49       .BYTE  'DISASSEMBLER'






DISASSEMBLER20......PAGE 0021

LINE# LOC   CODE        LINE


00921  19D1  0D          .BYTE  $0D
00922  19D2  56 30       .BYTE  'V080282'
00923  19D9  0D          .BYTE  $0D
00924  19DA  28 43       .BYTE  '(C)1982 COMMODORE'
00925  19EB  0D          .BYTE  $0D
00926  19EC  42 55       .BYTE  'BUSINESS MACHINES'
00927  19FD  0D          .BYTE  $0D
00928  19FE  00          .BYTE  0
00929  19FF              ;*********************************
00930  19FF  0D          MSF1   .BYTE $0D
00931  1A00  50 52       .BYTE  'PROGRAM FILE'
00932  1A0C  0D          .BYTE  $0D
00933  1A0D  28 43       .BYTE  '(CR OR NAME):'
00934  1A1A  00          .BYTE  0
00935  1A1B              ;*********************************
00936  1A1B  0D          MSF2   .BYTE $0D
00937  1A1C  0D          .BYTE  $0D
00938  1A1D  50 52       .BYTE  'PROGRAM ADDRESS:'
00939  1A2D  0D          .BYTE  $0D
00940  1A2E  24          .BYTE  '$'
00941  1A2F  00          .BYTE  0
00942  1A30              ;*********************************
00943  1A30  0D          MSG1   .BYTE $0D
00944  1A31  0D          .BYTE  $0D
00945  1A32  45 44       .BYTE  'EDITOR64 FILE'
00946  1A3F  0D          .BYTE  $0D
00947  1A40  28 43       .BYTE  '(CR OR NAME):'
00948  1A4D  00          .BYTE  0
00949  1A4E              ;*********************************
00950  1A4E  2C 53       WRITE  .BYTE ',S,W'
00951  1A52  2C 50       PROGM  .BYTE ',P,R'
00952  1A56  49 30       INIT   .BYTE 'I0'
00953  1A58              ;*********************************
00954  1A58  0D          MSG2   .BYTE $0D
00955  1A59  0D          .BYTE  $0D
00956  1A5A  48 41       .BYTE  'HARD COPY'
00957  1A63  0D          .BYTE  $0D
00958  1A64  28 59       .BYTE  '(Y/CR OR N)? '
00959  1A71  00          .BYTE  0
00960  1A72              ;*********************************
00961  1A72  0D          MSD1   .BYTE $0D
00962  1A73  53 54       .BYTE  'START ADDRESS :$'
00963  1A83  00          .BYTE  0
00964  1A84              ;*********************************
00965  1A84  0D          MSD2   .BYTE $0D
00966  1A85  45 4E       .BYTE  'END ADDRESS :$'
00967  1A93  00          .BYTE  0
00968  1A94              ;*********************************
00969  1A94  0D          MSD4   .BYTE $0D
00970  1A95  41 44       .BYTE  'ADDRESS OFFSET (OR CR):$'
00971  1AAD  00          .BYTE  0
00972  1AAE              ;*********************************
00973  1AAE  0D          MSD4A  .BYTE $0D
00974  1AAF  41 44       .BYTE  'ADDRESS OFFSET :$'
00975  1AC0  00          .BYTE  0






DISASSEMBLER20......PAGE 0022

LINE# LOC   CODE        LINE


00976  1AC1              ;*********************************
00977  1AC1  0D          MSD5   .BYTE $0D
00978  1AC2  57 49       .BYTE  'WINDOW OUTPUT'
00979  1ACF  0D          .BYTE  $0D
00980  1AD0  28 59       .BYTE  '(Y OR N/CR)? '
00981  1ADD  00          .BYTE  0
00982  1ADE              ;*********************************
00983  1ADE  0D          MSR1   .BYTE $0D
00984  1ADF  0D          .BYTE  $0D
00985  1AE0  52 45       .BYTE  'RELATIVE BRANCH'
00986  1AEF  0D          .BYTE  $0D
00987  1AF0  54 4F       .BYTE  'TO LABEL'
00988  1AF8  0D          .BYTE  $0D
00989  1AF9  28 59       .BYTE  '(Y/CR OR N)? '
00990  1B06  00          .BYTE  0
00991  1B07              ;*********************************
00992  1B07  0D          MSB1   .BYTE $0D
00993  1B08  42 49              .BYTE 'BIT INSTRUCTION CODING'
00994  1B1E  0D                 .BYTE $0D,$0D
00994  1B1F  0D 
00995  1B20  30 2F              .BYTE '0/CR STD',$0D
00995  1B28  0D 
00996  1B29  31 20              .BYTE '1 $2C',$0D
00996  1B2E  0D 
00997  1B2F  32 20              .BYTE '2 $24',$0D
00997  1B34  0D 
00998  1B35  33 20              .BYTE '3 $2C & $24',$0D
00998  1B40  0D 
00999  1B41  0D                 .BYTE $0D
01000  1B42  45 4E              .BYTE 'ENTER BIT CODE: '
01001  1B52  00                 .BYTE 0
01002  1B53              ;*********************************
01003  1B53  0D          MSAOP  .BYTE $0D
01004  1B54  44 41       .BYTE  'DATA TABLE FILE (CR OR NAME):'
01005  1B71  00          .BYTE  0
01006  1B72  0D          MSA1   .BYTE $0D
01007  1B73  0D          .BYTE  $0D
01008  1B74  4E 55       .BYTE  'NUMBER OF DATA TABLES'
01009  1B89  0D          .BYTE  $0D
01010  1B8A  28 4F       .BYTE  '(OR CR) :$'
01011  1B94  00          .BYTE  0
01012  1B95  0D          MSA2   .BYTE $0D
01013  1B96  0D          .BYTE  $0D
01014  1B97  54 41       .BYTE  'TABLE START ADDRESS'
01015  1BAA  0D          .BYTE  $0D
01016  1BAB  3A 24       .BYTE  ':$'
01017  1BAD  00          .BYTE  0
01018  1BAE  0D          MSA3   .BYTE $0D
01019  1BAF  0D          .BYTE  $0D
01020  1BB0  54 41       .BYTE  'TABLE END ADDRESS'
01021  1BC1  0D          .BYTE  $0D
01022  1BC2  3A 24       .BYTE  ':$'
01023  1BC4  00          .BYTE  0
01024  1BC5  0D          MSG5   .BYTE $0D,$0D
01024  1BC6  0D 






DISASSEMBLER20......PAGE 0023

LINE# LOC   CODE        LINE


01025  1BC7  44 49              .BYTE 'DISASSEMBLY'
01026  1BD2  0D                 .BYTE $0D
01027  1BD3  4F 50              .BYTE 'OPTIONS'
01028  1BDA  0D                 .BYTE $0D,$0D
01028  1BDB  0D 
01029  1BDC  30 20              .BYTE '0 ASCII',$0D
01029  1BE3  0D 
01030  1BE4  31 20              .BYTE '1 BYTE',$0D
01030  1BEA  0D 
01031  1BEB  32 20              .BYTE '2 WORD',$0D
01031  1BF1  0D 
01032  1BF2  33 20              .BYTE '3 DBYTE',$0D
01032  1BF9  0D 
01033  1BFA  34 20              .BYTE '4 WORD-1',$0D
01033  1C02  0D 
01034  1C03  53 20              .BYTE 'S SKIP ADDRESS RANGE',$0D
01034  1C17  0D 
01035  1C18  45 4E              .BYTE 'ENTER DISASSEMBLY'
01036  1C29  0D                 .BYTE $0D
01037  1C2A  43 4F              .BYTE 'CODE: '
01038  1C30  00                 .BYTE 0
01039  1C31              ;*********************************
01040  1C31  0D          MSB4   .BYTE $0D
01041  1C32  0D          .BYTE  $0D
01042  1C33  4C 41       .BYTE  'LABLE GENERATION'
01043  1C43  0D          .BYTE  $0D
01044  1C44  28 59       .BYTE  '(Y/CR OR N)? '
01045  1C51  00          .BYTE  0
01046  1C52              ;*********************************
01047  1C52  0D          MSB5   .BYTE $0D
01048  1C53  0D          .BYTE  $0D
01049  1C54  46 4F       .BYTE  'FORMATED LISTING'
01050  1C64  0D          .BYTE  $0D
01051  1C65  28 59       .BYTE  '(Y/CR OR N)? '
01052  1C72  00          .BYTE  0
01053  1C73              ;*********************************
01054  1C73              ;.FIL 0:UTIL.ASM
01055  1C73              ;*********************************
01056  1C73              .END
01057  1C73              ;*********************************
01058  1C73              .LIB   UTIL.ASM
01059  1C73              ;*********************************
01060  1C73              ; FILE UTIL.ASM
01061  1C73              ;*********************************
01062  1C73              ;
01063  1C73              ;        DISASSEMBLER64
01064  1C73              ;    SYMBOLIC DISASSEMBLER
01065  1C73              ;       BY DENTON MARLOWE
01066  1C73              ;
01067  1C73              ;  (C)1986 BY DENTON MARLOWE
01068  1C73              ;
01069  1C73              ;*********************************
01070  1C73              ;      *** UTILITIES ***
01071  1C73              ;*********************************
01072  1C73              ; CHECK LINE COUNT FOR OUTPUT FILE






DISASSEMBLER20......PAGE 0024

LINE# LOC   CODE        LINE


01073  1C73              ;*********************************
01074  1C73  AD 12 12    LINECK LDA PASS
01075  1C76  CD 15 12           CMP CPASS
01076  1C79  D0 36              BNE LINECO
01077  1C7B  AD 19 12           LDA DEVICE
01078  1C7E  29 08              AND #$08
01079  1C80  F0 2F              BEQ LINECO
01080  1C82              ;*********************************
01081  1C82              ; CLOSE SOURCE FILE AND OPEN NEXT
01082  1C82              ;*********************************
01083  1C82  38                 SEC
01084  1C83  AD C0 12           LDA LINEFL
01085  1C86  E9 20              SBC #$20
01086  1C88  8D 51 12           STA TEMP
01087  1C8B  AD C1 12           LDA LINEFL+1
01088  1C8E  E9 03              SBC #$03
01089  1C90  0D 51 12           ORA TEMP
01090  1C93  90 1C              BCC LINECO
01091  1C95  EA                 NOP
01092  1C96  EA                 NOP
01093  1C97  EA                 NOP
01094  1C98  20 3F 22           JSR EFILE
01095  1C9B  A9 08              LDA #$08
01096  1C9D  20 C3 FF           JSR CLOSE
01097  1CA0  20 A2 17           JSR OFILE
01098  1CA3  A9 00              LDA #$00
01099  1CA5  8D C0 12           STA LINEFL
01100  1CA8  8D C1 12           STA LINEFL+1
01101  1CAB  20 29 22           JSR ORGIN
01102  1CAE  20 4F 22           JSR COMENT
01103  1CB1  60          LINECO RTS
01104  1CB2              ;*********************************
01105  1CB2              ;  DISK ERROR CHECK
01106  1CB2              ;*********************************
01107  1CB2  A9 08       DISERR LDA #$08        ;DEV #8
01108  1CB4  85 BA              STA $BA         ;PUT IN DEV TABLE
01109  1CB6  20 B4 FF           JSR $FFB4       ;SEND TALK
01110  1CB9  A9 6F              LDA #$6F        ;SECONDARY ADDRESS
01111  1CBB  85 B9              STA $B9         ;PUT IN TABLE
01112  1CBD  20 96 FF           JSR $FF96       ;SEND SEC
01113  1CC0  20 A5 FF           JSR $FFA5       ;GET FIRST BYTE
01114  1CC3  C9 30              CMP #$30        ;IS IT A ZERO
01115  1CC5  D0 0C              BNE DLOOC       ;IF NOT ZERO ERROR
01116  1CC7  20 A5 FF    DLOOE  JSR $FFA5       ;GET BYTE
01117  1CCA  C9 0D              CMP #$0D        ;IS IT CR?
01118  1CCC  D0 F9              BNE DLOOE       ;GET NEXT BYTE
01119  1CCE  20 AB FF           JSR $FFAB       ;UNTALK
01120  1CD1  18                 CLC             ;NO ERROR FLAG
01121  1CD2  60                 RTS             ;RETURN
01122  1CD3              ;*********************************
01123  1CD3              ; PRINT DISK ERROR
01124  1CD3              ;*********************************
01125  1CD3  48          DLOOC  PHA             ;STACK BYTE
01126  1CD4  A9 0D              LDA #$0D        ;ASCII CR
01127  1CD6  20 D2 FF           JSR CHROUT      ;PRINT IT






DISASSEMBLER20......PAGE 0025

LINE# LOC   CODE        LINE


01128  1CD9  68                 PLA             ;GET BYTE
01129  1CDA  20 D2 FF           JSR CHROUT      ;PRINT IT
01130  1CDD  20 A5 FF    DLOOA  JSR $FFA5       ;GET NEXT BYTE
01131  1CE0  20 D2 FF           JSR CHROUT      ;PRINT IT
01132  1CE3  C9 0D              CMP #$0D        ;IS IT CR
01133  1CE5  D0 F6              BNE DLOOA       ;GET NEXT BYTE
01134  1CE7  20 AB FF           JSR $FFAB       ;UNTALK
01135  1CEA  38                 SEC             ;SET ERROR FLAG
01136  1CEB  60                 RTS             ;RETURN
01137  1CEC              ;*********************************
01138  1CEC              ; START NEW LINE AND INC COUNT
01139  1CEC              ;*********************************
01140  1CEC  EE 58 12    NEWLIN INC LINECT
01141  1CEF  D0 03              BNE *+5
01142  1CF1  EE 59 12           INC LINECT+1
01143  1CF4  EE C0 12           INC LINEFL
01144  1CF7  D0 03              BNE *+5
01145  1CF9  EE C1 12           INC LINEFL+1
01146  1CFC  20 E1 22           JSR CRLF
01147  1CFF  AD 19 12           LDA DEVICE
01148  1D02  29 04              AND #$04
01149  1D04  F0 03              BEQ NEWEXT
01150  1D06  20 5B 1E           JSR NEXLIN
01151  1D09  60          NEWEXT RTS
01152  1D0A              ;*********************************
01153  1D0A              ; INPUT UTILITIES
01154  1D0A              ;*********************************
01155  1D0A              ; INPUT STRING ROUTINE
01156  1D0A              ;*********************************
01157  1D0A  A0 00       INSTNG LDY #$00
01158  1D0C  20 CF FF    INSTN1 JSR CHRIN
01159  1D0F  99 5C 12           STA BUF,Y
01160  1D12  C8                 INY
01161  1D13  C9 0D              CMP #$0D
01162  1D15  D0 F5              BNE INSTN1
01163  1D17  88                 DEY
01164  1D18  60                 RTS
01165  1D19              ;*********************************
01166  1D19              ; INPUT HEX CHAR STRING
01167  1D19              ;*********************************
01168  1D19  A9 00       GETWRD LDA #$00
01169  1D1B  8D 4F 12           STA ADRS
01170  1D1E  8D 50 12           STA ADRS+1
01171  1D21  20 0A 1D           JSR INSTNG
01172  1D24  88                 DEY
01173  1D25  30 15              BMI INEND
01174  1D27              ;*********************************
01175  1D27              ; PROCESS INPUT
01176  1D27              ;*********************************
01177  1D27  20 3D 1D           JSR GETBYT
01178  1D2A  AD 51 12           LDA TEMP
01179  1D2D  8D 4F 12           STA ADRS
01180  1D30  88                 DEY
01181  1D31  30 09              BMI INEND
01182  1D33  20 3D 1D           JSR GETBYT






DISASSEMBLER20......PAGE 0026

LINE# LOC   CODE        LINE


01183  1D36  AD 51 12           LDA TEMP
01184  1D39  8D 50 12           STA ADRS+1
01185  1D3C  60          INEND  RTS
01186  1D3D              ;*********************************
01187  1D3D              ; COVERT BUFFER INTO BYTES
01188  1D3D              ;*********************************
01189  1D3D  B9 5C 12    GETBYT LDA BUF,Y
01190  1D40  20 5A 1D           JSR BINARY
01191  1D43  8D 51 12           STA TEMP
01192  1D46  88                 DEY
01193  1D47  30 10              BMI INENX
01194  1D49  B9 5C 12           LDA BUF,Y
01195  1D4C  20 5A 1D           JSR BINARY
01196  1D4F  0A                 ASL A
01197  1D50  0A                 ASL A
01198  1D51  0A                 ASL A
01199  1D52  0A                 ASL A
01200  1D53  0D 51 12           ORA TEMP
01201  1D56  8D 51 12           STA TEMP
01202  1D59  60          INENX  RTS
01203  1D5A              ;*********************************
01204  1D5A              ; CONVERT A INTO HEX NIBBLE
01205  1D5A              ;*********************************
01206  1D5A  38          BINARY SEC
01207  1D5B  E9 30              SBC #'0'
01208  1D5D  90 0E              BCC NOHEX
01209  1D5F  C9 0A              CMP #$0A
01210  1D61  90 0C              BCC YSHEX
01211  1D63  E9 07              SBC #$07
01212  1D65  C9 10              CMP #$10
01213  1D67  B0 04              BCS NOHEX
01214  1D69  C9 0A              CMP #$0A
01215  1D6B  B0 02              BCS YSHEX
01216  1D6D  38          NOHEX  SEC
01217  1D6E  60                 RTS
01218  1D6F  18          YSHEX  CLC
01219  1D70  60                 RTS
01220  1D71              ;*********************************
01221  1D71              ; GET OPTION (CR/Y OR N): Y=C=0
01222  1D71              ;*********************************
01223  1D71  20 CF FF    CRYS   JSR CHRIN
01224  1D74  C9 59              CMP #'Y'
01225  1D76  F0 11              BEQ CRYS1
01226  1D78  C9 0D              CMP #$0D
01227  1D7A  F0 0D              BEQ CRYS1
01228  1D7C  D0 0D              BNE CRNO1
01229  1D7E              ;*********************************
01230  1D7E              ; GET OPTION (Y OR CR/N): Y=C=0
01231  1D7E              ;*********************************
01232  1D7E  20 CF FF    CRNO   JSR CHRIN
01233  1D81  C9 4E              CMP #'N'
01234  1D83  F0 06              BEQ CRNO1
01235  1D85  C9 0D              CMP #$0D
01236  1D87  F0 02              BEQ CRNO1
01237  1D89  18          CRYS1  CLC






DISASSEMBLER20......PAGE 0027

LINE# LOC   CODE        LINE


01238  1D8A  60                 RTS
01239  1D8B  38          CRNO1  SEC
01240  1D8C  60                 RTS
01241  1D8D              ;*********************************
01242  1D8D              ; PRINT UTILITES
01243  1D8D              ;*********************************
01244  1D8D              ; PRINT WORD MSB IN Y LSB IN A
01245  1D8D              ;*********************************
01246  1D8D  48          PRBYTS PHA             ;PUT A ON STACK
01247  1D8E  98                 TYA             ;PUT HIH BYTE IN A
01248  1D8F  20 93 1D           JSR PRBYT       ;PRINT MSB
01249  1D92  68                 PLA             ;GET LSB
01250  1D93              ;*********************************
01251  1D93              ; PRINT BYTE IN A
01252  1D93              ;*********************************
01253  1D93  48          PRBYT  PHA             ;PUT BYTE ON STACK
01254  1D94  4A                 LSR A           ;4 RIGHT SHIFTS
01255  1D95  4A                 LSR A           ;TO MOVE HIGH
01256  1D96  4A                 LSR A           ;NIBBLE TO LOW
01257  1D97  4A                 LSR A           ;NIB WITH HIGH 0'S
01258  1D98  A8                 TAY             ;USE AS POINTER
01259  1D99  B9 FF 1E           LDA HEXA,Y      ;GET ASCII
01260  1D9C  20 FF 1D           JSR PCHAR       ;PRINT
01261  1D9F  68                 PLA             ;PULL BYTE OUT
01262  1DA0  29 0F              AND #$0F        ;MASK HIGH NIBBLE
01263  1DA2  A8                 TAY             ;USE AS POINTER
01264  1DA3  B9 FF 1E           LDA HEXA,Y      ;GET ASCII
01265  1DA6  4C FF 1D           JMP PCHAR       ;PRINT
01266  1DA9              ;*********************************
01267  1DA9              ; STRING OUTPUT ROUTINE
01268  1DA9              ;*********************************
01269  1DA9  85 02       STRPNT STA ZEROUR      ;POINTER TO
01270  1DAB  84 03              STY ZEROUR+1    ;MESSAGE
01271  1DAD  A0 00              LDY #$00        ;OFFSET
01272  1DAF  B1 02       SOUT   LDA (ZEROUR),Y  ;GET CHAR
01273  1DB1  F0 06              BEQ SEXIT       ;IF ZERO EXIT
01274  1DB3  20 FF 1D           JSR PCHAR       ;PRINT
01275  1DB6  C8                 INY             ;INC OFFSET
01276  1DB7  D0 F6              BNE SOUT        ;LOOP
01277  1DB9  60          SEXIT  RTS             ;RETURN
01278  1DBA              ;*********************************
01279  1DBA              ; PRINT DEC NUMBER (0000)
01280  1DBA              ;*********************************
01281  1DBA  86 02       PRTPAG STX ZEROUR      ;LOW  BYTE NUM
01282  1DBC  85 03              STA ZEROUR+1    ;HIGH BYTE NUM
01283  1DBE  A2 03              LDX #$03        ;4 CHARS
01284  1DC0  8E 53 12           STX SAVX        ;SAVE COUNT
01285  1DC3  D0 09              BNE PRTNU1      ;BRANCH
01286  1DC5              ;*********************************
01287  1DC5              ; PRINT DEC NUMBER (00000)
01288  1DC5              ;*********************************
01289  1DC5  86 02       PRTNUM STX ZEROUR      ;LOW  BYTE NUM
01290  1DC7  85 03              STA ZEROUR+1    ;HIGH BYTE NUM
01291  1DC9  A2 04              LDX #$04        ;5 CHARS
01292  1DCB  8E 53 12           STX SAVX        ;SAVE COUNT






DISASSEMBLER20......PAGE 0028

LINE# LOC   CODE        LINE


01293  1DCE              ;*********************************
01294  1DCE              ; PRINT DEC NUMBER AND LEADING 0
01295  1DCE              ;*********************************
01296  1DCE  AE 53 12    PRTNU1 LDX SAVX
01297  1DD1  A0 30              LDY #$30
01298  1DD3  D0 01              BNE PRTNU3
01299  1DD5  C8          PRTNU2 INY 
01300  1DD6  38          PRTNU3 SEC 
01301  1DD7  A5 02              LDA ZEROUR
01302  1DD9  FD 0F 1F           SBC CONST0,X
01303  1DDC  85 02              STA ZEROUR
01304  1DDE  A5 03              LDA ZEROUR+1
01305  1DE0  FD 14 1F           SBC CONST1,X
01306  1DE3  85 03              STA ZEROUR+1
01307  1DE5  B0 EE              BCS PRTNU2
01308  1DE7  A5 02              LDA ZEROUR
01309  1DE9  7D 0F 1F           ADC CONST0,X
01310  1DEC  85 02              STA ZEROUR
01311  1DEE  A5 03              LDA ZEROUR+1
01312  1DF0  7D 14 1F           ADC CONST1,X
01313  1DF3  85 03              STA ZEROUR+1
01314  1DF5  98                 TYA
01315  1DF6  20 FF 1D           JSR PCHAR
01316  1DF9  CE 53 12           DEC SAVX
01317  1DFC  10 D0              BPL PRTNU1
01318  1DFE  60                 RTS
01319  1DFF              ;*********************************
01320  1DFF              ;  OUTPUT CHAR TO OPEN CHANNEL
01321  1DFF              ;*********************************
01322  1DFF  48          PCHAR  PHA             ;SAVE CHAR
01323  1E00  AD 19 12           LDA DEVICE      ;GET FILE FLAG
01324  1E03  29 08              AND #$08        ;CHECK FOR DISK
01325  1E05  F0 0D              BEQ PRIN        ;IF NONE BRANCH
01326  1E07  A2 08              LDX #$08        ;DISK FILE #1
01327  1E09  20 C9 FF           JSR CHKOUT      ;FILE IS OUTPUT
01328  1E0C  68                 PLA             ;GET CHAR
01329  1E0D  48                 PHA             ;RESAVE CHAR
01330  1E0E  20 D2 FF           JSR CHROUT      ;OUTPUT TO DISK
01331  1E11  20 CC FF           JSR CLRCHN      ;RESET OUTPUT
01332  1E14  AD 19 12    PRIN   LDA DEVICE      ;GET DEVICE FLAG
01333  1E17  29 04              AND #$04        ;CHECK FOR PRINTER
01334  1E19  F0 0D              BEQ SCREN       ;IF NOT BRANCH
01335  1E1B  A2 04              LDX #$04        ;PRINT FILE #4
01336  1E1D  20 C9 FF           JSR CHKOUT      ;FILE IS OUTPUT
01337  1E20  68                 PLA             ;GET CHAR
01338  1E21  48                 PHA             ;RESAVE CHAR
01339  1E22  20 D2 FF           JSR CHROUT      ;OUTPUT TO PRINTER
01340  1E25  20 CC FF           JSR CLRCHN      ;RESET OUTPUT
01341  1E28  AD 19 12    SCREN  LDA DEVICE      ;GET DEVICE FLAG
01342  1E2B  29 03              AND #$03        ;CHECK FOR SCREEN
01343  1E2D  F0 05              BEQ PEXIT       ;IF NOT BRANCH
01344  1E2F  68                 PLA             ;GET CHAR
01345  1E30  48                 PHA             ;RESAVE CHAR
01346  1E31  20 D2 FF           JSR CHROUT      ;OUTPUT TO SCREEN
01347  1E34  68          PEXIT  PLA             ;GET CHAR






DISASSEMBLER20......PAGE 0029

LINE# LOC   CODE        LINE


01348  1E35  60                 RTS             ;RETURN
01349  1E36              ;*********************************
01350  1E36              ; PRINTER OUTPUT ROUTINES
01351  1E36              ;*********************************
01352  1E36              ; FINISH OUT PAGE WITH CR
01353  1E36              ;*********************************
01354  1E36  20 49 1E    FINISH JSR CRLFPR      ;PRINT CR
01355  1E39  EE 57 12           INC LISTCT      ;INC LINE COUNT
01356  1E3C  AD 57 12           LDA LISTCT      ;GET COUNT
01357  1E3F  C9 42              CMP #$42        ;66 LINES
01358  1E41  D0 F3              BNE FINISH      ;IF NOT MORE
01359  1E43  A9 00              LDA #$00        ;ZERO BYTE
01360  1E45  8D 57 12           STA LISTCT      ;RESET COUNT
01361  1E48  60                 RTS             ;RETURN
01362  1E49              ;*********************************
01363  1E49              ; PRINT CR TO PRINTER
01364  1E49              ;*********************************
01365  1E49  A9 04       CRLFPR LDA #$04        ;DEVICE #4
01366  1E4B  8D 19 12           STA DEVICE      ;SET PRINTER
01367  1E4E  20 E1 22           JSR CRLF        ;CR
01368  1E51  AD 1A 12           LDA OUTPUT      ;GET DEVICE
01369  1E54  8D 19 12           STA DEVICE      ;RESET DEVICE
01370  1E57  60                 RTS             ;RETURN
01371  1E58              ;*********************************
01372  1E58              ; START NEWLINE AND CHECK COUNT
01373  1E58              ;*********************************
01374  1E58  20 49 1E    NEXPTR JSR CRLFPR      ;PRINT CR
01375  1E5B  EE 57 12    NEXLIN INC LISTCT      ;INC LINE COUNT
01376  1E5E  AD 57 12           LDA LISTCT      ;GET COUNT
01377  1E61  C9 3C              CMP #$3C        ;48 LINES
01378  1E63  D0 45              BNE LINEOK      ;IF NOT BRANCH
01379  1E65  20 36 1E           JSR FINISH      ;FINISH PAGE
01380  1E68              ;*********************************
01381  1E68              ; START NEW PAGE WITH HEADING
01382  1E68              ;*********************************
01383  1E68  AD 19 12    HEADER LDA DEVICE      ;CHECK DEVICE
01384  1E6B  29 04              AND #$04        ;PRINTER?
01385  1E6D  F0 3B              BEQ LINEOK      ;IF NOT EXIT
01386  1E6F  20 58 1E           JSR NEXPTR      ;NEXT LINE
01387  1E72  A9 04              LDA #$04        ;DEVICE #4
01388  1E74  8D 19 12           STA DEVICE      ;SET DEVICE
01389  1E77  A9 19              LDA #<XTITLE    ;HEADER
01390  1E79  A0 1F              LDY #>XTITLE    ;
01391  1E7B  20 A9 1D           JSR STRPNT      ;PRINT IT
01392  1E7E              ;*********************************
01393  1E7E              ; PRINT PAGE COUNT AND HEADER
01394  1E7E              ;*********************************
01395  1E7E  AE 55 12           LDX PAGECT
01396  1E81  AD 56 12           LDA PAGECT+1
01397  1E84  20 BA 1D           JSR PRTPAG
01398  1E87  20 58 1E           JSR NEXPTR
01399  1E8A  20 58 1E           JSR NEXPTR
01400  1E8D  A9 04              LDA #$04
01401  1E8F  8D 19 12           STA DEVICE
01402  1E92  A9 34              LDA #<LTITLE






DISASSEMBLER20......PAGE 0030

LINE# LOC   CODE        LINE


01403  1E94  A0 1F              LDY #>LTITLE
01404  1E96  20 A9 1D           JSR STRPNT
01405  1E99  20 58 1E           JSR NEXPTR
01406  1E9C              ;*********************************
01407  1E9C              ; INC PAGE COUNT
01408  1E9C              ;*********************************
01409  1E9C  EE 55 12           INC PAGECT
01410  1E9F  D0 03              BNE PAGER1
01411  1EA1  EE 56 12           INC PAGECT+1
01412  1EA4  20 58 1E    PAGER1 JSR NEXPTR
01413  1EA7  20 58 1E           JSR NEXPTR
01414  1EAA  60          LINEOK RTS 
01415  1EAB              ;*********************************
01416  1EAB              ; SYMBOL TABLE ROUTINES
01417  1EAB              ;*********************************
01418  1EAB              ; START NEWLINE AND CHECK COUNT
01419  1EAB              ;*********************************
01420  1EAB  20 49 1E    NEXPTS JSR CRLFPR      ;PRINT CR
01421  1EAE  EE 57 12           INC LISTCT      ;INC LINE COUNT
01422  1EB1  AD 57 12           LDA LISTCT      ;GET COUNT
01423  1EB4  C9 3C              CMP #$3C        ;48 LINES
01424  1EB6  D0 1D              BNE HEADOK      ;IF NOT BRANCH
01425  1EB8  20 36 1E           JSR FINISH      ;FINISH PAGE
01426  1EBB              ;*********************************
01427  1EBB              ; START NEW PAGE WITH HEADING
01428  1EBB              ;*********************************
01429  1EBB  20 AB 1E    HEADES JSR NEXPTS      ;NEXT LINE
01430  1EBE  A9 51              LDA #<XTITLS    ;HEADER
01431  1EC0  A0 1F              LDY #>XTITLS    ;
01432  1EC2  20 A9 1D           JSR STRPNT      ;PRINT IT
01433  1EC5  20 AB 1E           JSR NEXPTS
01434  1EC8  20 AB 1E           JSR NEXPTS
01435  1ECB  A9 5E              LDA #<LTITLS
01436  1ECD  A0 1F              LDY #>LTITLS
01437  1ECF  20 A9 1D           JSR STRPNT
01438  1ED2  20 AB 1E           JSR NEXPTS
01439  1ED5  60          HEADOK RTS
01440  1ED6              ;*********************************
01441  1ED6              ; CHECK FOR NEW PAGE FOR SYMBOL
01442  1ED6              ;*********************************
01443  1ED6  AD 57 12    HEADSY LDA LISTCT
01444  1ED9  C9 35              CMP #$35
01445  1EDB  B0 06              BCS HEADFX
01446  1EDD  20 AB 1E           JSR NEXPTS
01447  1EE0  4C AB 1E           JMP NEXPTS
01448  1EE3  4C 36 1E    HEADFX JMP FINISH
01449  1EE6              ;*********************************
01450  1EE6              ; SCREEN UTILITES
01451  1EE6              ;*********************************
01452  1EE6  AD 19 12    SCROFF LDA DEVICE
01453  1EE9  29 04              AND #$04
01454  1EEB  F0 08              BEQ SCRNO1
01455  1EED  AD 0F 90           LDA VICREG
01456  1EF0  29 EF              AND #$EF
01457  1EF2  8D 0F 90           STA VICREG






DISASSEMBLER20......PAGE 0031

LINE# LOC   CODE        LINE


01458  1EF5  60          SCRNO1 RTS
01459  1EF6              ;*********************************
01460  1EF6  AD 0F 90    SCRON  LDA VICREG
01461  1EF9  09 10              ORA #$10
01462  1EFB  8D 0F 90           STA VICREG
01463  1EFE  60                 RTS
01464  1EFF              ;*********************************
01465  1EFF              ; HEX-TO-ASCII TABLE
01466  1EFF              ;*********************************
01467  1EFF  30 31       HEXA   .BYTE '0123456789ABCDEF'
01468  1F0F              ;*********************************
01469  1F0F              ; CONSTANTS FOR PRTNUM ROUTINE
01470  1F0F              ;*********************************
01471  1F0F  01          CONST0 .BYTE $01,$0A,$64,$E8,$10
01471  1F10  0A 
01471  1F11  64 
01471  1F12  E8 
01471  1F13  10 
01472  1F14  00          CONST1 .BYTE $00,$00,$00,$03,$27
01472  1F15  00 
01472  1F16  00 
01472  1F17  03 
01472  1F18  27 
01473  1F19              ;*********************************
01474  1F19              ; PAGE TITLE
01475  1F19              ;*********************************
01476  1F19  44 49       XTITLE .BYTE 'DISASSEMBLER64.......PAGE '
01477  1F33  00                 .BYTE $00
01478  1F34  4C 49       LTITLE .BYTE 'LINE# LOC   CODE        LINE'
01479  1F50  00                 .BYTE $00
01480  1F51              ;********************************
01481  1F51              ; SYMBOL PAGE TITLE
01482  1F51              ;********************************
01483  1F51  53 59       XTITLS .BYTE 'SYMBOL TABLE',0
01483  1F5D  00 
01484  1F5E  53 59       LTITLS .BYTE 'SYMBOL VALUE',0
01484  1F6A  00 
01485  1F6B              ;*********************************
01486  1F6B              ;.FIL 0:MODE.ASM
01487  1F6B              ;*********************************
01488  1F6B              .END
01489  1F6B              ;*********************************
01490  1F6B              .LIB   MODE.ASM
01491  1F6B              ;*********************************
01492  1F6B              ; FILE MODE.ASM
01493  1F6B              ;*********************************
01494  1F6B              ;
01495  1F6B              ;        DISASSEMBLER64
01496  1F6B              ;    SYMBOLIC DISASSEMBLER
01497  1F6B              ;       BY DENTON MARLOWE
01498  1F6B              ;
01499  1F6B              ;  (C)1986 BY DENTON MARLOWE
01500  1F6B              ;
01501  1F6B              ;*********************************
01502  1F6B              ; ADDRESSING MODE UTILITIES






DISASSEMBLER20......PAGE 0032

LINE# LOC   CODE        LINE


01503  1F6B              ;*********************************
01504  1F6B              ;      DISASSEMBLE ONE LINE
01505  1F6B              ;*********************************
01506  1F6B  20 97 26    DSLINE JSR DATAOP      ;CHECK FOR DATA
01507  1F6E  30 3D              BMI BYTT        ;N=1 THEN FOUND
01508  1F70              ;*********************************
01509  1F70              ; CHECK BIT ZP DECODING OPTIONS
01510  1F70              ;*********************************
01511  1F70  AD 65 39           LDA BITFLG      ;CHECK BIT FLAG
01512  1F73  F0 0D              BEQ DISL        ;IF ZERO NO BIT
01513  1F75                     
01514  1F75  20 1A 23           JSR GETSL       ;GET BYTE
01515  1F78  C9 24              CMP #$24        ;ZEROPAGE BIT
01516  1F7A  F0 34              BEQ BYZBIT      ;
01517  1F7C  C9 2C              CMP #$2C        ;ZEROPAGE BIT
01518  1F7E  F0 55              BEQ BYABIT      ;
01519  1F80  D0 00              BNE DISL        ;
01520  1F82              ;*********************************
01521  1F82              ; CHECK BIT ABS DECODING OPTIONS
01522  1F82              ;*********************************
01523  1F82              
01524  1F82              ;********************************
01525  1F82              ; PROCESS LINE OF CODE
01526  1F82              ;********************************
01527  1F82              DISL   = *
01528  1F82  20 1A 23           JSR GETSL       ;GET BYTE
01529  1F85  AE 12 12           LDX PASS        ;GET PASS COUNT
01530  1F88  EC 15 12           CPX CPASS       ;LAST
01531  1F8B  F0 06              BEQ DISL1       ;IF LAST BRANCH
01532  1F8D  20 5F 29           JSR OPERN1      ;IF LAST BRANCH
01533  1F90  4C AD 1F           JMP BYTT        ;NEXT INSTRUCTION
01534  1F93              ;********************************
01535  1F93              ; PRINT DISASSEMBLY ADDRESS
01536  1F93              ;********************************
01537  1F93  20 52 29    DISL1  JSR PRTASS      ;PRINT LINE DATA
01538  1F96  20 78 22           JSR PRAD        ;PRINT ADDRESS
01539  1F99  20 F3 22           JSR SPACE       ;SPACE OVER
01540  1F9C              ;********************************
01541  1F9C              ; PRINT INSTRUCTION
01542  1F9C              ;********************************
01543  1F9C  20 1A 23           JSR GETSL       ;GET BYTE
01544  1F9F  48                 PHA             ;STORE
01545  1FA0  20 33 29           JSR MNEMON      ;PRINT MNEMONIC
01546  1FA3  20 F3 22           JSR SPACE       ;SPACE OVER
01547  1FA6  68                 PLA             ;GET BYTE
01548  1FA7  20 67 29           JSR OPERND      ;PRINT OPERAND
01549  1FAA  20 EC 1C    FINAL  JSR NEWLIN      ;START NEW LINE
01550  1FAD  4C F8 22    BYTT   JMP NEXTSL      ;NEXT INSTRUCTION
01551  1FB0              ;********************************
01552  1FB0              ;      BIT ZP SKIP TRICK
01553  1FB0              ;
01554  1FB0              ; THE SKIP WILL ALWAYS INVOLVE
01555  1FB0              ; A FOLLWING OPCODE THAT IS EITHER
01556  1FB0              ; AN OPCODE WITH NO OPERAND OR
01557  1FB0              ; OR ONE BYTE OPERAND LIKE A BRANCH






DISASSEMBLER20......PAGE 0033

LINE# LOC   CODE        LINE


01558  1FB0              ; OR ZERO PAGE INSTRUCTION
01559  1FB0              ;*********************************
01560  1FB0              BYZBIT = *
01561  1FB0  AD 65 39           LDA BITFLG
01562  1FB3  29 02              AND #$02
01563  1FB5  F0 CB              BEQ DISL
01564  1FB7              ;********************************
01565  1FB7              ;      TO SKIP OR NOT
01566  1FB7              ;*********************************
01567  1FB7  20 11 23           JSR INCSL       ;INC TO OPERAND
01568  1FBA  20 1A 23           JSR GETSL       ;GET OPERAND
01569  1FBD  48                 PHA
01570  1FBE  20 30 23           JSR DECSL
01571  1FC1  68                 PLA
01572  1FC2                                     ;CHECK FOR SKIP
01573  1FC2  C9 10              CMP #$10        ;BPL SKIP
01574  1FC4  F0 40              BEQ B0000
01575  1FC6  C9 18              CMP #$18        ;CLC SKIP
01576  1FC8  F0 3C              BEQ B0000
01577  1FCA  C9 30              CMP #$30        ;BMI
01578  1FCC  F0 38              BEQ B0000
01579  1FCE  C9 38              CMP #$38        ;SEC
01580  1FD0  F0 34              BEQ B0000
01581  1FD2              ;
01582  1FD2  4C 82 1F           JMP DISL
01583  1FD5              ;********************************
01584  1FD5              ;      BIT ABS SKIP TRICK
01585  1FD5              ;*********************************
01586  1FD5              BYABIT = *
01587  1FD5  AD 65 39           LDA BITFLG
01588  1FD8  29 01              AND #$01
01589  1FDA  F0 A6              BEQ DISL
01590  1FDC              ;********************************
01591  1FDC              ;      TO SKIP OR NOT
01592  1FDC              ;*********************************
01593  1FDC  20 11 23           JSR INCSL       ;INC TO OPERAND
01594  1FDF  20 1A 23           JSR GETSL       ;GET OPERAND
01595  1FE2  48                 PHA
01596  1FE3  20 30 23           JSR DECSL
01597  1FE6  68                 PLA
01598  1FE7                                     ;CHECK FOR SKIP
01599  1FE7  C9 A1              CMP #$A1        ;LDY A IMMEDIATE SKIP
01600  1FE9  F0 1B              BEQ B0000
01601  1FEB  C9 A2              CMP #$A2        ;LDA A IMMEDIATE SKIP
01602  1FED  F0 17              BEQ B0000
01603  1FEF  C9 A9              CMP #$A9        ;LDX A IMMEDIATE SKIP
01604  1FF1  F0 13              BEQ B0000
01605  1FF3                     
01606  1FF3  C9 65              CMP #$65        ;ADC ZP
01607  1FF5  F0 0F              BEQ B0000
01608  1FF7                     
01609  1FF7  C9 85              CMP #$85        ;STA ZP
01610  1FF9  F0 0B              BEQ B0000
01611  1FFB                     
01612  1FFB  C9 B1              CMP #$B1        ;LDA (ZP),Y






DISASSEMBLER20......PAGE 0034

LINE# LOC   CODE        LINE


01613  1FFD  F0 07              BEQ B0000
01614  1FFF                     
01615  1FFF  C9 E6              CMP #$E6        ;INC
01616  2001  F0 03              BEQ B0000
01617  2003              ;
01618  2003  4C 82 1F           JMP DISL
01619  2006              ;********************************
01620  2006              ;      PRINTING PASS?
01621  2006              ;*********************************
01622  2006              B0000  = *
01623  2006  AD 12 12           LDA PASS        ;GET PASS COUNT
01624  2009  CD 15 12           CMP CPASS       ;LAST
01625  200C  D0 9F              BNE BYTT        ;IF NOT NEXT BYTE
01626  200E              ;*********************************
01627  200E              ;  PRINT LINE DATA FOR .BYTE
01628  200E              ;*********************************
01629  200E  20 4F 22           JSR COMENT      ;COMENT LINE
01630  2011              ;
01631  2011  20 F3 23           JSR PRTDAT      ;PRINT LINE DATA
01632  2014  20 80 23           JSR PRTONE      ;ONE BYTE
01633  2017  20 78 22           JSR PRAD        ;PRINT ADDRESS
01634  201A  20 F3 22           JSR SPACE       ;SPACE OVER
01635  201D  A9 49              LDA #<MSGBIT    ;.BYTE $
01636  201F  A0 23              LDY #>MSGBIT    ;
01637  2021  20 A9 1D           JSR STRPNT      ;PRINT IT
01638  2024              ;
01639  2024  20 1A 23           JSR GETSL       ;GET BYTE
01640  2027  20 93 1D           JSR PRBYT       ;PRINT BYTE
01641  202A              ;
01642  202A  A9 51              LDA #<MSGBZP    ;BIT COMMENT
01643  202C  A0 23              LDY #>MSGBZP    ;
01644  202E  20 A9 1D           JSR STRPNT      ;PRINT IT
01645  2031              ;
01646  2031  20 EC 1C           JSR NEWLIN      ;PRINT BYTE
01647  2034                                     ;JSR INCSL    ;INC SELECT
01648  2034  20 55 22           JSR COMET       ;COMENT LINE
01649  2037                                     ;JSR DECSL    ;REASET SELE
CT
01650  2037  4C AA 1F           JMP FINAL       ;CR AND NEXT BYTE
01651  203A              ;*********************************
01652  203A              ;BYTEXT JMP DISL1
01653  203A              ;*********************************
01654  203A              ; ADDRESSING MODE UTILITIES
01655  203A              ;*********************************
01656  203A              ;
01657  203A              ;*********************************
01658  203A              ; ANALYSIS OPERAND ROUTINES
01659  203A              ;*********************************
01660  203A              ;    BIT ZP ONE-BYTE OPERAND
01661  203A              ; ZERO PAGE BIT IS ALMOST ALWAYS
01662  203A              ;   A BIT TRICK TO SKIP THE NEXT
01663  203A              ;          OPCODE
01664  203A              ;********************************
01665  203A  EA          ONEBIT NOP
01666  203B              ;*********************************
01667  203B              ;      ONE-BYTE OPERAND






DISASSEMBLER20......PAGE 0035

LINE# LOC   CODE        LINE


01668  203B              ;********************************
01669  203B  20 11 23    ONEBYT JSR INCSL       ;INC TO BYTE
01670  203E  20 1A 23           JSR GETSL       ;GET BYTE
01671  2041  8D 45 12           STA WORKED      ;STORE OPERAND
01672  2044  A9 00              LDA #$00        ;ZERO BYTE
01673  2046  8D 46 12           STA WORKED+1    ;ZERO HIGH BYTE
01674  2049  AD 12 12           LDA PASS        ;GET PASS COUNT
01675  204C  CD 13 12           CMP IPASS       ;INTERNAL
01676  204F  F0 54              BEQ OPCPUT      ;TABLE OPERAND
01677  2051  CD 14 12           CMP EPASS       ;EXTERNAL
01678  2054  F0 52              BEQ OPCSYM      ;EXTERNAL EQUATE
01679  2056              ;*********************************
01680  2056              ; OUTPUT OPERAND
01681  2056              ;*********************************
01682  2056  20 4A 2D           JSR SYMOP       ;CHECK FOR SYMBOL
01683  2059  B0 50              BCS TWOB        ;SYMBOL FOUND
01684  205B  20 2A 24           JSR RANGE       ;IS IT INTERNAL
01685  205E  90 06              BCC ONEBY       ;GENERATE LABEL
01686  2060  20 BE 22           JSR DOLLAR      ;EXTERNAL
01687  2063  4C 69 20           JMP ONEBX       ;PRINT ADDRESS
01688  2066  20 6E 22    ONEBY  JSR PRLA        ;PRINT XX
01689  2069  AD 45 12    ONEBX  LDA WORKED      ;GET OPERAND
01690  206C  4C 93 1D           JMP PRBYT       ;PRINT BYTE
01691  206F              ;********************************
01692  206F              ;      BIT ABS TWO-BYTE OPERAND
01693  206F              ;********************************
01694  206F  EA          TWOBIT NOP
01695  2070              ;********************************
01696  2070              ;      TWO-BYTE OPERAND
01697  2070              ;********************************
01698  2070  20 11 23    TWOBYT JSR INCSL       ;INC TO BYTE
01699  2073  20 1A 23           JSR GETSL       ;GET BYTE
01700  2076  8D 45 12           STA WORKED      ;STORE LOW BYTE
01701  2079  20 11 23           JSR INCSL       ;INC TO BYTE
01702  207C  20 1A 23           JSR GETSL       ;GET BYTE
01703  207F  8D 46 12           STA WORKED+1    ;STORE HIGH BYTE
01704  2082  AD 12 12           LDA PASS        ;GET PASS COUNT
01705  2085  CD 13 12           CMP IPASS       ;INTERNAL
01706  2088  F0 1B              BEQ OPCPUT      ;TABLE OPERNAD
01707  208A  CD 14 12           CMP EPASS       ;EXTERNAL
01708  208D  F0 19              BEQ OPCSYM      ;EXTERNAL EQUATE
01709  208F              ;********************************
01710  208F              ;  OUTPUT OPERAND
01711  208F              ;********************************
01712  208F  20 4A 2D           JSR SYMOP       ;CHECK SYMBOL
01713  2092  B0 17              BCS TWOB        ;C=1 FOUND ONE
01714  2094  20 2A 24           JSR RANGE       ;IS IT INTERNAL
01715  2097  90 06              BCC TWOBY       ;GERNERATE LABEL
01716  2099  20 BE 22           JSR DOLLAR      ;EXTERNAL
01717  209C  4C A2 20           JMP TWOBX       ;
01718  209F              ;********************************
01719  209F              ;  OUTPUT OPERAND
01720  209F              ;********************************
01721  209F              TWOBY  =*
01722  209F  20 6E 22           JSR PRLA        ;PRINT XX






DISASSEMBLER20......PAGE 0036

LINE# LOC   CODE        LINE


01723  20A2              TWOBX  = *
01724  20A2  4C B0 22           JMP PWORKD      ;PRINT ADDRESS
01725  20A5              OPCPUT = *
01726  20A5  4C A1 24           JMP PUTI        ;PUT IN TABLE
01727  20A8              OPCSYM = *
01728  20A8  4C 4A 2D           JMP SYMOP       ;CHECK EXT EQUATE
01729  20AB              TWOB   = *
01730  20AB  60                 RTS             ;RETURN
01731  20AC              ;*********************************
01732  20AC              ; ILLEGAL MODES, UNUSED OPCODES
01733  20AC              ;
01734  20AC              ; ZZZZ XX .BYTE $XX ;'Y' ;??? ILLEGAL OPCODE
01735  20AC              ;
01736  20AC              ;*********************************
01737  20AC  EE 5A 12    ILLEGL INC ERRCT       ;INC ERROR COUNT
01738  20AF  D0 03              BNE *+5         ;SKIP NEXT LINE
01739  20B1  EE 5B 12           INC ERRCT+1     ;INC ERROR COUNT
01740  20B4  A0 29              LDY #>MBYTE     ;.BYTE
01741  20B6  A9 1A              LDA #<MBYTE     ;
01742  20B8  20 A9 1D           JSR STRPNT      ;PRINT STRING
01743  20BB  20 BE 22           JSR DOLLAR      ;PRINT $
01744  20BE  20 1A 23           JSR GETSL       ;GET ILLEGAL BYTE
01745  20C1                     
01746  20C1              ;BEGIN REV 2017-3
01747  20C1  48                 PHA             ;PUT BYTE ON STACK
01748  20C2              ;
01749  20C2  20 93 1D           JSR PRBYT       ;PRINT IT
01750  20C5  20 F3 22           JSR SPACE       ;SPACE OVER
01751  20C8              ;
01752  20C8  68                 PLA             ;POP BYTE OFF STACK
01753  20C9  20 22 28           JSR CASCII      ;IS IT PRINTABLE ASCII
01754  20CC  B0 18              BCS ISKIP       ;IF NOT EXIT
01755  20CE  48                 PHA             ;STACK IT
01756  20CF  20 F3 22           JSR SPACE       ;SPACE OVER
01757  20D2  20 B9 22           JSR SEMIC       ;COMMENT
01758  20D5  A9 27              LDA #'''        ;QUOTE
01759  20D7  20 FF 1D           JSR PCHAR       ;PRINT IT
01760  20DA  68                 PLA             ;POP IT
01761  20DB  20 FF 1D           JSR PCHAR       ;PRINT IT
01762  20DE  A9 27              LDA #'''        ;QUOTE
01763  20E0  20 FF 1D           JSR PCHAR       ;PRINT IT
01764  20E3  20 F3 22           JSR SPACE       ;SPACE OVER
01765  20E6              ;
01766  20E6              ISKIP  = *
01767  20E6              ;END REV 2017-3
01768  20E6  A0 23              LDY #>ILLMSG
01769  20E8  A9 6C              LDA #<ILLMSG
01770  20EA  4C A9 1D           JMP STRPNT
01771  20ED              ;********************************
01772  20ED              ;      ACCUMULATOR MODE
01773  20ED              ;********************************
01774  20ED  A9 41       ACC    LDA #'A'        ;ASCII A
01775  20EF  4C FF 1D           JMP PCHAR       ;PRINT IT
01776  20F2              ;********************************
01777  20F2              ;       IMMEDIATE MODE






DISASSEMBLER20......PAGE 0037

LINE# LOC   CODE        LINE


01778  20F2              ;********************************
01779  20F2  20 11 23    IMMEDT JSR INCSL       ;INC TO DATA BYTE
01780  20F5  AE 12 12           LDX PASS        ;GET PASS
01781  20F8  EC 15 12           CPX CPASS       ;LAST PASS
01782  20FB  D0 2A              BNE IMEXIT      ;EXIT
01783  20FD  A9 23              LDA #'#'        ;ASCII #
01784  20FF  20 FF 1D           JSR PCHAR       ;PRINT IT
01785  2102  20 BE 22           JSR DOLLAR      ;PRINT $
01786  2105  20 1A 23           JSR GETSL       ;GET BYTE
01787  2108  48                 PHA             ;STACK IT
01788  2109  20 93 1D           JSR PRBYT       ;PRINT IT
01789  210C  68                 PLA             ;POP IT
01790  210D  20 22 28           JSR CASCII      ;PRINTABLE ASCII
01791  2110  B0 15              BCS IMEXIT      ;IF NOT EXIT
01792  2112  48                 PHA             ;STACK IT
01793  2113  20 E6 22           JSR SPAC6       ;SPACE OVER
01794  2116  20 B9 22           JSR SEMIC       ;COMMENT
01795  2119  A9 27              LDA #'''        ;QUOTE
01796  211B  20 FF 1D           JSR PCHAR       ;PRINT IT
01797  211E  68                 PLA             ;POP IT
01798  211F  20 FF 1D           JSR PCHAR       ;PRINT IT
01799  2122  A9 27              LDA #'''        ;QUOTE
01800  2124  20 FF 1D           JSR PCHAR       ;PRINT IT
01801  2127  60          IMEXIT RTS             ;EXIT
01802  2128              ;*********************************
01803  2128              ;      BIT ZERO PAGE MODE
01804  2128              ;*********************************
01805  2128  EA          ZERBIT NOP
01806  2129              ;*********************************
01807  2129              ;      ZERO PAGE MODE
01808  2129              ;*********************************
01809  2129  4C 3B 20    ZEROPG JMP ONEBYT      ;PRINT ONE BYTE
01810  212C              ;*********************************
01811  212C              ;      ZERO PAGE,X MODE
01812  212C              ;********************************
01813  212C  20 3B 20    ZEROX  JSR ONEBYT      ;PRINT ONE BYTE
01814  212F  4C CD 22           JMP XINDEX      ;PRINT ,X
01815  2132              ;********************************
01816  2132              ;       ZERO PAGE,Y MODE
01817  2132              ;********************************
01818  2132  20 3B 20    ZEROY  JSR ONEBYT      ;PRINT ONE BYTE
01819  2135  4C D7 22           JMP YINDEX      ;PRINT ,Y
01820  2138              ;*********************************
01821  2138              ;         BIT ABSOLUTE MODE
01822  2138              ;*********************************
01823  2138  EA          ABSBIT NOP
01824  2139              ;*********************************
01825  2139              ;         ABSOLUTE MODE
01826  2139              ;*********************************
01827  2139  20 70 20    ABSLUT JSR TWOBYT      ;PRINT TWO BYTE
01828  213C  20 30 23           JSR DECSL       ;DEC TO SECOND
01829  213F  20 30 23           JSR DECSL       ;DEC TO OPCODE
01830  2142  20 1A 23           JSR GETSL       ;GET BYTE
01831  2145  48                 PHA
01832  2146  20 11 23           JSR INCSL






DISASSEMBLER20......PAGE 0038

LINE# LOC   CODE        LINE


01833  2149  20 11 23           JSR INCSL
01834  214C  68                 PLA
01835  214D  C9 4C              CMP #$4C        ;IS IT JMP
01836  214F  D0 0C              BNE ABSEXT      ;IF NOT EXIT
01837  2151  20 EC 1C           JSR NEWLIN      ;NEXT LINE
01838  2154  20 11 23           JSR INCSL
01839  2157  20 55 22           JSR COMET       ;COMMENT LINE
01840  215A  20 30 23           JSR DECSL
01841  215D  60          ABSEXT RTS             ;RETURN
01842  215E              ;*********************************
01843  215E              ;       ABSOLUTE,X MODE
01844  215E              ;********************************
01845  215E  20 70 20    ABSX   JSR TWOBYT      ;PRINT TWO BYTE
01846  2161  4C CD 22           JMP XINDEX      ;PRINT ,X
01847  2164              ;********************************
01848  2164              ;       ABSOLUTE,Y MODE
01849  2164              ;********************************
01850  2164  20 70 20    ABSY   JSR TWOBYT      ;PRINT TWO BYTE
01851  2167  4C D7 22           JMP YINDEX      ;PRINT ,Y
01852  216A              ;********************************
01853  216A              ;       IMPLIED MODE
01854  216A              ;********************************
01855  216A  20 1A 23    IMPLID JSR GETSL       ;GET BYTE
01856  216D  F0 09              BEQ IMPLI1      ;BRK
01857  216F  C9 60              CMP #$60        ;CHECK CODE
01858  2171  F0 05              BEQ IMPLI1      ;RTS
01859  2173  C9 40              CMP #$40        ;CHECK CODE
01860  2175  F0 01              BEQ IMPLI1      ;RTI
01861  2177  60          IMPONE RTS             ;RETURN
01862  2178  20 EC 1C    IMPLI1 JSR NEWLIN      ;PRINT NEW LINE
01863  217B  20 11 23           JSR INCSL
01864  217E  20 55 22           JSR COMET       ;COMMENT LINE
01865  2181  4C 30 23           JMP DECSL
01866  2184              ;********************************
01867  2184              ;       INDIRECT MODE
01868  2184              ;********************************
01869  2184  20 C3 22    INDRCT JSR LPAREN      ;PRINT (
01870  2187  20 70 20           JSR TWOBYT      ;PRINT TWO BYTE
01871  218A  20 C8 22           JSR RPAREN      ;PRINT )
01872  218D  20 EC 1C           JSR NEWLIN      ;NEXT LINE
01873  2190  20 11 23           JSR INCSL
01874  2193  20 55 22           JSR COMET       ;COMMENT LINE
01875  2196  4C 30 23           JMP DECSL
01876  2199              ;********************************
01877  2199              ;     INDIRECT,X MODE
01878  2199              ;********************************
01879  2199  20 C3 22    INDX   JSR LPAREN      ;PRINT (
01880  219C  20 2C 21           JSR ZEROX       ;PRINT $HH,X
01881  219F  4C C8 22           JMP RPAREN      ;PRINT )
01882  21A2              ;********************************
01883  21A2              ;     INDIRECT,Y MODE
01884  21A2              ;********************************
01885  21A2  20 C3 22    INDY   JSR LPAREN      ;PRINT (
01886  21A5  20 3B 20           JSR ONEBYT      ;PRINT ONE BYTE
01887  21A8  20 C8 22           JSR RPAREN      ;PRINT )






DISASSEMBLER20......PAGE 0039

LINE# LOC   CODE        LINE


01888  21AB  4C D7 22           JMP YINDEX      ;PRINT ,Y
01889  21AE              ;*********************************
01890  21AE              ;      RELATIVE MODE
01891  21AE              ;*********************************
01892  21AE  20 11 23    RELATV JSR INCSL       ;INC BYTE POINTER
01893  21B1  AD 12 12           LDA PASS        ;GET PASS COUNT
01894  21B4  CD 14 12           CMP EPASS       ;EXTERNAL
01895  21B7  F0 44              BEQ RELSYM      ;EXIT ON EXTERNAL
01896  21B9              ;
01897  21B9  AD 22 12           LDA SELECT      ;GET LOW POINTER
01898  21BC  8D 45 12           STA WORKED      ;STORE TEMP
01899  21BF  AD 23 12           LDA SELECT+1    ;GET HIGH POINTER
01900  21C2  8D 46 12           STA WORKED+1    ;STORE TEMP
01901  21C5  EE 45 12           INC WORKED      ;ADD 1 TO ADDRESS
01902  21C8  D0 03              BNE *+5         ;ZERO MEANS CARRY
01903  21CA  EE 46 12           INC WORKED+1    ;INC HIGH ADDRESS
01904  21CD              ;
01905  21CD  20 1A 23           JSR GETSL       ;GET BYTE BRANCH OFFSET
01906  21D0  C9 00              CMP #$00        ;IS IT ZERO
01907  21D2  10 03              BPL FORWRD      ;IF SO BRANCH
01908  21D4  CE 46 12           DEC WORKED+1    ;DEC HIGH POINTER
01909  21D7  18          FORWRD CLC             ;CLEAR CARRY FLAG
01910  21D8  6D 45 12           ADC WORKED      ;ADD IN OPERAND
01911  21DB  90 03              BCC RELND       ;TO SELECT ADDRES
01912  21DD  EE 46 12           INC WORKED+1    ;AND NOW POINTS
01913  21E0  8D 45 12    RELND  STA WORKED      ;TARGET ADDRESS
01914  21E3              ;
01915  21E3  AD 12 12           LDA PASS        ;GET PASS COUNT
01916  21E6  CD 13 12           CMP IPASS       ;INTERNAL
01917  21E9  F0 0F              BEQ RELPUT      ;ADDRESS TABLE
01918  21EB              ;
01919  21EB  20 4A 2D           JSR SYMOP       ;CHECK FOR SYMBOL
01920  21EE  B0 0D              BCS RELSYM      ;C=1 SYMBOL
01921  21F0              ;
01922  21F0  AD 18 12           LDA ROPT        ;CHECK OPTION
01923  21F3  C9 01              CMP #$01        ;REL TO * ?
01924  21F5  F0 07              BEQ RELPC       ;IF SO DO IT
01925  21F7              ;
01926  21F7  4C AD 22           JMP PWORK       ;PRINT ADDRESS
01927  21FA              ;
01928  21FA              RELPUT = *
01929  21FA  4C A1 24           JMP PUTI        ;PUT IN TABLE
01930  21FD              ;
01931  21FD  60          RELSYM RTS             ;RETURN
01932  21FE              ;*********************************
01933  21FE              ; PRINT RELATIVE TO PC
01934  21FE              ;*********************************
01935  21FE  20 1A 23    RELPC  JSR GETSL       ;GET BRANCH DATA
01936  2201  48                 PHA             ;SAVE ON STACK
01937  2202  30 07              BMI RELNEG      ;BACKWARD ?
01938  2204  A9 5F              LDA #<POSREL
01939  2206  A0 23              LDY #>POSREL
01940  2208  4C 0F 22           JMP RELPM
01941  220B  A9 63       RELNEG LDA #<NEGREL
01942  220D  A0 23              LDY #>NEGREL






DISASSEMBLER20......PAGE 0040

LINE# LOC   CODE        LINE


01943  220F  20 A9 1D    RELPM  JSR STRPNT
01944  2212  68                 PLA             ;GET BRANCH DATA
01945  2213  18                 CLC             ;CLEAR CARRY
01946  2214  69 02              ADC #$02        ;ADD 2 FOR BRANCH
01947  2216  10 05              BPL RELP        ;FORWARD ?
01948  2218  18                 CLC             ;CLEAR CARRY
01949  2219  49 FF              EOR #$FF        ;COMPLMENT
01950  221B  69 01              ADC #$01        ;ADD 1 FOR 2'S
01951  221D  20 93 1D    RELP   JSR PRBYT       ;PRINT BRANCH
01952  2220  20 E6 22           JSR SPAC6       ;SPACE
01953  2223  20 B9 22           JSR SEMIC       ;COMMENT CHAR
01954  2226  4C AD 22           JMP PWORK       ;PRINT ADDRESS
01955  2229              ;*********************************
01956  2229              ;  ORGIN LABEL
01957  2229              ;*********************************
01958  2229  20 17 24    ORGIN  JSR PRTOTH      ;PRINT LINE DATA
01959  222C  A9 2A              LDA #'*'        ;PC
01960  222E  20 FF 1D           JSR PCHAR       ;PRINT IT
01961  2231  A9 3D              LDA #'='        ;EQUALS
01962  2233  20 FF 1D           JSR PCHAR       ;PRINT IT
01963  2236  20 BE 22           JSR DOLLAR      ;ASCII $
01964  2239  20 A4 22           JSR PSELEC      ;PRINT ADDRESS
01965  223C  4C EC 1C           JMP NEWLIN      ;START NEWLINE
01966  223F              ;*********************************
01967  223F              ; END OF FILE LABLE
01968  223F              ;*********************************
01969  223F  20 4F 22    EFILE  JSR COMENT      ;COMMENT LINE
01970  2242  20 17 24           JSR PRTOTH      ;PRINT LINE DATA
01971  2245  A9 67              LDA #<MSGEND    ;END MESSAGE
01972  2247  A0 23              LDY #>MSGEND
01973  2249  20 A9 1D           JSR STRPNT      ;PRINT IT
01974  224C  4C EC 1C           JMP NEWLIN      ;NEW LINE
01975  224F              ;*********************************
01976  224F              ; PRINT COMMENT LINE
01977  224F              ;*********************************
01978  224F  20 55 22    COMENT JSR COMET       ;PRINT COMMENT
01979  2252  4C EC 1C           JMP NEWLIN      ;NEXT LINE
01980  2255              ;*********************************
01981  2255  20 17 24    COMET  JSR PRTOTH      ;PRINT LINE DATA
01982  2258  20 B9 22           JSR SEMIC       ;PRINT COMMENT
01983  225B  AD 1C 12           LDA FOROPT
01984  225E  D0 03              BNE CSHORT
01985  2260  A0 20              LDY #$20        ;COUNTER
01986  2262  2C                 .BYTE $2C
01987  2263  A0 10       CSHORT LDY #$10
01988  2265  A9 2A       COMPT  LDA #'*'        ;STAR
01989  2267  20 FF 1D           JSR PCHAR       ;PRINT CHAR
01990  226A  88                 DEY             ;DEC COUNTER
01991  226B  D0 F8              BNE COMPT       ;20 OR 10 STARS
01992  226D  60                 RTS             ;RETURN
01993  226E              ;*********************************
01994  226E              ;     PRINT SELECTED ADDRESS
01995  226E              ;*********************************
01996  226E  A9 58       PRLA   LDA #'X'        ;XX LABEL
01997  2270  20 FF 1D           JSR PCHAR       ;






DISASSEMBLER20......PAGE 0041

LINE# LOC   CODE        LINE


01998  2273  A9 58              LDA #'X'        ;
01999  2275  4C FF 1D           JMP PCHAR       ;
02000  2278              ;*********************************
02001  2278              ; PRINT CODE ADDRESS
02002  2278              ;*********************************
02003  2278  20 36 2D    PRAD   JSR SYM         ;CHECK FOR SYMBOLIC
02004  227B  B0 1F              BCS NPRAD1      ;C=1 SYMBOLIC LABEL
02005  227D  AD 17 12           LDA XOPT        ;CHECK GENERATION
02006  2280  F0 10              BEQ P1          ;NO LABELS
02007  2282  20 00 25           JSR INTCHA      ;IS ADDRESS IN TAB
02008  2285  B0 0B              BCS P1          ;C=1 YES
02009  2287  AD 1C 12           LDA FOROPT      ;CHECK FORMAT
02010  228A  F0 03              BEQ POVER       ;STD FORMAT
02011  228C  4C F3 22           JMP SPACE       ;ONE SPACE
02012  228F  4C E6 22    POVER  JMP SPAC6       ;SPACE OVER
02013  2292              ;*********************************
02014  2292              ; PRINT ADDRESS AS LABEL
02015  2292              ;*********************************
02016  2292  20 6E 22    P1     JSR PRLA        ;PRINT XX
02017  2295  20 A4 22           JSR PSELEC      ;PRINT ADDRESS
02018  2298  EA                 NOP
02019  2299  EA                 NOP
02020  229A  EA                 NOP
02021  229B  60          NPRAD  RTS             ;RETURN
02022  229C              ;*********************************
02023  229C  AD 1C 12    NPRAD1 LDA FOROPT
02024  229F  D0 FA              BNE NPRAD
02025  22A1  4C E7 2D           JMP FIXSYM
02026  22A4              ;*********************************
02027  22A4              ; PRINT SELECT ADDRESS
02028  22A4              ;*********************************
02029  22A4  AD 22 12    PSELEC LDA SELECT      ;LOW BYTE
02030  22A7  AC 23 12           LDY SELECT+1    ;HIGH BYTE
02031  22AA  4C 8D 1D           JMP PRBYTS      ;PRINT THEM
02032  22AD              ;*********************************
02033  22AD              ; PRINT WORKED ADDRESS WITH XX
02034  22AD              ;*********************************
02035  22AD  20 6E 22    PWORK  JSR PRLA        ;PRINT XX
02036  22B0              ;*********************************
02037  22B0              ; PRINT WORKED ADDRESS
02038  22B0              ;*********************************
02039  22B0  AD 45 12    PWORKD LDA WORKED      ;LOW BYTE
02040  22B3  AC 46 12           LDY WORKED+1    ;HIGH BYTE
02041  22B6  4C 8D 1D           JMP PRBYTS      ;PRINT THEM
02042  22B9              ;********************************
02043  22B9              ; PRINT SEMICOLON FOR COMMENT
02044  22B9              ;********************************
02045  22B9  A9 3B       SEMIC  LDA #';'
02046  22BB  4C FF 1D           JMP PCHAR
02047  22BE              ;********************************
02048  22BE              ; PRINT DOLLAR SIGN FOR HEX
02049  22BE              ;********************************
02050  22BE  A9 24       DOLLAR LDA #'$'
02051  22C0  4C FF 1D           JMP PCHAR
02052  22C3              ;********************************






DISASSEMBLER20......PAGE 0042

LINE# LOC   CODE        LINE


02053  22C3              ; PRINT LEFT PARENTTHESES
02054  22C3              ;********************************
02055  22C3  A9 28       LPAREN LDA #'('
02056  22C5  4C FF 1D           JMP PCHAR
02057  22C8              ;********************************
02058  22C8              ; PRINT RIGHT PARENTTHESES
02059  22C8              ;********************************
02060  22C8  A9 29       RPAREN LDA #')'
02061  22CA  4C FF 1D           JMP PCHAR
02062  22CD              ;********************************
02063  22CD              ; PRINT A COMMA AND AN "X"
02064  22CD              ;********************************
02065  22CD  A9 2C       XINDEX LDA #','
02066  22CF  20 FF 1D           JSR PCHAR
02067  22D2  A9 58              LDA #'X'
02068  22D4  4C FF 1D           JMP PCHAR
02069  22D7              ;********************************
02070  22D7              ; PRINT A COMMA AND A "Y"
02071  22D7              ;********************************
02072  22D7  A9 2C       YINDEX LDA #','
02073  22D9  20 FF 1D           JSR PCHAR
02074  22DC  A9 59              LDA #'Y'
02075  22DE  4C FF 1D           JMP PCHAR
02076  22E1              ;********************************
02077  22E1              ; PRINT CARRAIGE RETURN
02078  22E1              ;*********************************
02079  22E1  A9 0D       CRLF   LDA #$0D        ;ASCII CR
02080  22E3  4C FF 1D           JMP PCHAR       ;PRINT
02081  22E6              ;*********************************
02082  22E6              ; PRINT SIX SPACES
02083  22E6              ;*********************************
02084  22E6  A9 05       SPAC6  LDA #$05
02085  22E8  8D 51 12    SPACM  STA TEMP
02086  22EB  20 F3 22    SPAC   JSR SPACE
02087  22EE  CE 51 12           DEC TEMP
02088  22F1  D0 F8              BNE SPAC
02089  22F3              ;*********************************
02090  22F3              ; PRINT SPACE
02091  22F3              ;*********************************
02092  22F3  A9 20       SPACE  LDA #$20        ;ASCII SPACE
02093  22F5  4C FF 1D           JMP PCHAR       ;PRINT
02094  22F8              ;*********************************
02095  22F8              ; SELECT NEXT BYTE
02096  22F8              ;*********************************
02097  22F8  AD 23 12    NEXTSL LDA SELECT+1
02098  22FB  CD 21 12           CMP EA+1
02099  22FE  90 0A              BCC SLOK
02100  2300  D0 0D              BNE NOINC
02101  2302  AD 22 12           LDA SELECT
02102  2305  CD 20 12           CMP EA
02103  2308  B0 05              BCS NOINC
02104  230A  20 11 23    SLOK   JSR INCSL
02105  230D  18                 CLC
02106  230E  60                 RTS
02107  230F  38          NOINC  SEC






DISASSEMBLER20......PAGE 0043

LINE# LOC   CODE        LINE


02108  2310  60                 RTS
02109  2311              ;*********************************
02110  2311              ; INC SELECTED BYTE
02111  2311              ;*********************************
02112  2311  EE 22 12    INCSL  INC SELECT
02113  2314  D0 03              BNE *+5
02114  2316  EE 23 12           INC SELECT+1
02115  2319  60                 RTS
02116  231A              ;*********************************
02117  231A              ; GET SELECTED BYTE
02118  231A              ;*********************************
02119  231A  18          GETSL  CLC
02120  231B  AD 22 12           LDA SELECT
02121  231E  6D 24 12           ADC OFFSET
02122  2321  85 02              STA ZEROUR
02123  2323  AD 23 12           LDA SELECT+1
02124  2326  6D 25 12           ADC OFFSET+1
02125  2329  85 03              STA ZEROUR+1
02126  232B  A0 00              LDY #$00
02127  232D  B1 02              LDA (ZEROUR),Y
02128  232F  60                 RTS
02129  2330              ;*********************************
02130  2330              ; DEC SLECTED BYTE
02131  2330              ;*********************************
02132  2330  AD 22 12    DECSL  LDA SELECT
02133  2333  D0 03              BNE *+5
02134  2335  CE 23 12           DEC SELECT+1
02135  2338  CE 22 12           DEC SELECT
02136  233B  60                 RTS
02137  233C              ;*********************************
02138  233C              ; INITIALIZE SELECT
02139  233C              ;*********************************
02140  233C  AD 1E 12    INTSA  LDA SA
02141  233F  8D 22 12           STA SELECT
02142  2342  AD 1F 12           LDA SA+1
02143  2345  8D 23 12           STA SELECT+1
02144  2348  60                 RTS
02145  2349              ;*********************************
02146  2349              ; ASCII STRING DATA
02147  2349              ;*********************************
02148  2349  2E 42       MSGBIT .BYTE '.BYTE $',0
02148  2350  00 
02149  2351  20 3B       MSGBZP .BYTE '         ;BIT ZP SKIP',0
02149  235E  00 
02150  235F  2A 2B 24    POSREL .BYTE '*+$',0
02150  2362  00 
02151  2363  2A 2D 24    NEGREL .BYTE '*-$',0
02151  2366  00 
02152  2367  2E 45       MSGEND .BYTE '.END',0
02152  236B  00 
02153  236C  3B 3F       ILLMSG .BYTE ';??? ILLEGAL OPCODE',0
02153  237F  00 
02154  2380              ;*********************************
02155  2380              ; PRINT ONE BYTE OPCODE DATA
02156  2380              ;*********************************






DISASSEMBLER20......PAGE 0044

LINE# LOC   CODE        LINE


02157  2380  20 1A 23    PRTONE JSR GETSL       ;GET BYTE
02158  2383  20 93 1D           JSR PRBYT       ;PRINT BYTE
02159  2386  AD 1C 12           LDA FOROPT
02160  2389  F0 03              BEQ PRTON1
02161  238B  A9 07              LDA #$07
02162  238D  2C                 .BYTE $2C
02163  238E  A9 09       PRTON1 LDA #$09        ;10 SPACES
02164  2390  20 E8 22           JSR SPACM       ;
02165  2393  4C EC 23           JMP PRTEST      ;RESET I/O DEVICE
02166  2396              ;*********************************
02167  2396              ; PRINT TWO BYTE OPCODE DATA
02168  2396              ;*********************************
02169  2396  20 1A 23    PRTTWO JSR GETSL       ;GET BYTE
02170  2399  20 93 1D           JSR PRBYT       ;PRINT BYTE
02171  239C  20 F3 22           JSR SPACE       ;
02172  239F  20 11 23           JSR INCSL       ;INC TO OPERAND
02173  23A2  20 1A 23           JSR GETSL       ;GET BYTE
02174  23A5  20 93 1D           JSR PRBYT       ;PRINT IT
02175  23A8  AD 1C 12           LDA FOROPT
02176  23AB  F0 03              BEQ PRTTW1
02177  23AD  A9 04              LDA #$04
02178  23AF  2C                 .BYTE $2C
02179  23B0  A9 06       PRTTW1 LDA #$06        ;7 SPACES
02180  23B2  20 E8 22           JSR SPACM       ;
02181  23B5  20 30 23           JSR DECSL       ;RESET POINTER
02182  23B8  4C EC 23           JMP PRTEST      ;RESET I/O DEVICE
02183  23BB              ;*********************************
02184  23BB              ; PRINT THREE BYTE OPCODE DATA
02185  23BB              ;*********************************
02186  23BB  20 1A 23    PRTTHE JSR GETSL       ;GET BYTE
02187  23BE  20 93 1D           JSR PRBYT       ;PRINT BYTE
02188  23C1  20 F3 22           JSR SPACE       ;
02189  23C4  20 11 23           JSR INCSL       ;INC TO OPERAND
02190  23C7  20 1A 23           JSR GETSL       ;GET BYTE
02191  23CA  20 93 1D           JSR PRBYT       ;PRINT IT
02192  23CD  20 F3 22           JSR SPACE       ;
02193  23D0  20 11 23           JSR INCSL       ;INC TO LAST BYTE
02194  23D3  20 1A 23           JSR GETSL       ;GET BYTE
02195  23D6  20 93 1D           JSR PRBYT       ;PRINT IT
02196  23D9  AD 1C 12           LDA FOROPT
02197  23DC  F0 03              BEQ PRTTH1
02198  23DE  A9 01              LDA #$01
02199  23E0  2C                 .BYTE $2C
02200  23E1  A9 03       PRTTH1 LDA #$03        ;4 SPACES
02201  23E3  20 E8 22           JSR SPACM       ;
02202  23E6  20 30 23           JSR DECSL       ;DEC POINTER
02203  23E9  20 30 23           JSR DECSL       ;DEC POINTER
02204  23EC              ;*********************************
02205  23EC              ; RESET I/O DEVICE (DISK IF USED)
02206  23EC              ;*********************************
02207  23EC  AD 1A 12    PRTEST LDA OUTPUT      ;GET I/O DEVICE
02208  23EF  8D 19 12           STA DEVICE      ;RESET I/O
02209  23F2  60                 RTS             ;RETURN
02210  23F3              ;*********************************
02211  23F3              ; PRINT LINE DATA FOR OPCODE






DISASSEMBLER20......PAGE 0045

LINE# LOC   CODE        LINE


02212  23F3              ;*********************************
02213  23F3  AD 19 12    PRTDAT LDA DEVICE      ;OUTPUT DEVICE
02214  23F6  29 07              AND #$07        ;MASK DISK
02215  23F8  8D 19 12           STA DEVICE      ;RESET
02216  23FB  AD 1C 12           LDA FOROPT      ;CHECK FORMAT
02217  23FE  D0 0F              BNE PRTDAF      ;SKIP LINE #
02218  2400  AD 59 12           LDA LINECT+1    ;HIH BYTE LINE
02219  2403  AE 58 12           LDX LINECT      ;LOW BYTE LINE
02220  2406  20 C5 1D           JSR PRTNUM      ;PRINT NUMBER
02221  2409  20 F3 22           JSR SPACE       ;
02222  240C  20 F3 22           JSR SPACE       ;
02223  240F  20 A4 22    PRTDAF JSR PSELEC      ;PRINT ADDRESS
02224  2412  A9 01              LDA #$01        ;2 SPACES
02225  2414  4C E8 22           JMP SPACM       ;
02226  2417              ;*********************************
02227  2417              ; PRINT LINE DATA FOR OTHER LINES
02228  2417              ;*********************************
02229  2417  20 F3 23    PRTOTH JSR PRTDAT      ;PRINT LINE
02230  241A  AD 1C 12           LDA FOROPT
02231  241D  F0 03              BEQ PRTOT1
02232  241F  A9 09              LDA #$09
02233  2421  2C                 .BYTE $2C
02234  2422  A9 0B       PRTOT1 LDA #$0B        ;12 SPACES
02235  2424  20 E8 22           JSR SPACM       ;
02236  2427  4C EC 23           JMP PRTEST      ;RESET I/O
02237  242A              ;********************************
02238  242A              ;.FIL 0:INTERNAL.ASM
02239  242A              ;********************************
02240  242A              .END
02241  242A              ;*********************************
02242  242A              .LIB   INTERNAL.ASM
02243  242A              ;*********************************
02244  242A              ; FILE INTERNAL.ASM
02245  242A              ;*********************************
02246  242A              ;
02247  242A              ;        DISASSEMBLER64
02248  242A              ;    SYMBOLIC DISASSEMBLER
02249  242A              ;       BY DENTON MARLOWE
02250  242A              ;
02251  242A              ;  (C)1986 BY DENTON MARLOWE
02252  242A              ;
02253  242A              ;*********************************
02254  242A              ; INTERNAL ADDRESS TABLE ROUTINES
02255  242A              ;*********************************
02256  242A              ; CHECK FOR OUT OF RANGE ADDRESS
02257  242A              ;*********************************
02258  242A  AD 46 12    RANGE  LDA WORKED+1    ;GET HIGH
02259  242D  CD 29 12           CMP EAGOL+1     ;COMPARE
02260  2430  90 0A              BCC RANG        ;< CHECK START
02261  2432  D0 1A              BNE ROUT        ;> OUT OF RANGE
02262  2434  AD 45 12           LDA WORKED      ;GET LOW
02263  2437  CD 28 12           CMP EAGOL       ;COMPARE
02264  243A  B0 12              BCS ROUT        ;> OUT OF RANGE
02265  243C              ;*********************************
02266  243C  AD 46 12    RANG   LDA WORKED+1    ;GET HIGH






DISASSEMBLER20......PAGE 0046

LINE# LOC   CODE        LINE


02267  243F  CD 27 12           CMP SAGOL+1     ;COMPARE
02268  2442  90 0A              BCC ROUT        ;< OUT OF RANGE
02269  2444  AD 45 12           LDA WORKED      ;GET LOW
02270  2447  CD 26 12           CMP SAGOL       ;COMPARE
02271  244A  90 02              BCC ROUT        ;< OUT OF RANGE
02272  244C              ;*********************************
02273  244C  18                 CLC             ;C=0 IN RANGE
02274  244D  60                 RTS
02275  244E  38          ROUT   SEC             ;C=1 OUT RANGE
02276  244F  60                 RTS
02277  2450              ;*********************************
02278  2450              ; INITIALIZE INTERNAL TABLE
02279  2450              ;*********************************
02280  2450  AD EF 12    INITIN LDA DATABE
02281  2453  8D 30 12           STA TABINS
02282  2456  8D 32 12           STA TABINE
02283  2459  AD F0 12           LDA DATABE+1
02284  245C  8D 31 12           STA TABINS+1
02285  245F  8D 33 12           STA TABINE+1
02286  2462              ;*********************************
02287  2462              ; INITIALIZE INTERNAL TABLE POINT
02288  2462              ;*********************************
02289  2462  AD 30 12    INTSET LDA TABINS
02290  2465  8D 2E 12           STA TABINP
02291  2468  AD 31 12           LDA TABINS+1
02292  246B  8D 2F 12           STA TABINP+1
02293  246E  60                 RTS
02294  246F              ;*********************************
02295  246F              ; SAVE INTERNAL TABLE POINTERS
02296  246F              ;*********************************
02297  246F  AD 30 12    SAVINT LDA TABINS
02298  2472  8D 4B 12           STA SAVES
02299  2475  AD 31 12           LDA TABINS+1
02300  2478  8D 4C 12           STA SAVES+1
02301  247B  AD 32 12           LDA TABINE
02302  247E  8D 4D 12           STA SAVEE
02303  2481  AD 33 12           LDA TABINE+1
02304  2484  8D 4E 12           STA SAVEE+1
02305  2487  60                 RTS
02306  2488              ;*********************************
02307  2488              ; RESTORE INTERNAL TABLE POINTERS
02308  2488              ;*********************************
02309  2488  AD 4B 12    RESINT LDA SAVES
02310  248B  8D 30 12           STA TABINS
02311  248E  AD 4C 12           LDA SAVES+1
02312  2491  8D 31 12           STA TABINS+1
02313  2494  AD 4D 12           LDA SAVEE
02314  2497  8D 32 12           STA TABINE
02315  249A  AD 4E 12           LDA SAVEE+1
02316  249D  8D 33 12           STA TABINE+1
02317  24A0  60                 RTS
02318  24A1              ;*********************************
02319  24A1              ; PUT ADDRESS IN INTERNAL TABLE
02320  24A1              ;*********************************
02321  24A1  38          PUTI   SEC






DISASSEMBLER20......PAGE 0047

LINE# LOC   CODE        LINE


02322  24A2  AD 30 12           LDA TABINS
02323  24A5  ED 32 12           SBC TABINE
02324  24A8  8D 51 12           STA TEMP
02325  24AB  AD 31 12           LDA TABINS+1
02326  24AE  ED 33 12           SBC TABINE+1
02327  24B1  0D 51 12           ORA TEMP
02328  24B4  F0 05              BEQ PUIT
02329  24B6              ;
02330  24B6  20 0C 25           JSR INTCHK      ;IS ADDRESS IN TAB
02331  24B9  B0 23              BCS INTEXT      ;IF SO EXIT
02332  24BB              ;
02333  24BB  AD 32 12    PUIT   LDA TABINE      ;GET LOW END
02334  24BE  85 02              STA ZEROUR      ;STORE
02335  24C0  AD 33 12           LDA TABINE+1    ;GET HIGH END
02336  24C3  85 03              STA ZEROUR+1    ;STORE
02337  24C5  A0 00              LDY #$00        ;OFFSET
02338  24C7  AD 45 12           LDA WORKED      ;GET LOW ADDRESS
02339  24CA  91 02              STA (ZEROUR),Y  ;PUT IN TABLE
02340  24CC  C8                 INY             ;OFFSET TO HIGH
02341  24CD  AD 46 12           LDA WORKED+1    ;GET HIGH ADDRESS
02342  24D0  91 02              STA (ZEROUR),Y  ;PUT IN TABLE
02343  24D2              ;
02344  24D2  20 B9 22           JSR SEMIC       ;PRINT ;
02345  24D5  20 B0 22           JSR PWORKD      ;PRINT ADDRESS
02346  24D8              ;*********************************
02347  24D8  20 E0 24           JSR INCIE       ;INC TO HIGH & LOW
02348  24DB  4C E0 24           JMP INCIE       ;INC TO HIGH & LOW
02349  24DE              ;
02350  24DE              INTEXT = *
02351  24DE  18                 CLC             ;C=0 FOR NO MATCH
02352  24DF  60                 RTS             ;RETURN
02353  24E0              ;*********************************
02354  24E0              ; INC INTERNAL END TABLE POINTER
02355  24E0              ;*********************************
02356  24E0  EE 32 12    INCIE  INC TABINE
02357  24E3  D0 03              BNE *+5
02358  24E5  EE 33 12           INC TABINE+1
02359  24E8              ;*********************************
02360  24E8              ; INC INTERNAL ADDRESS POINTER
02361  24E8              ;*********************************
02362  24E8  EE 2E 12    INCI   INC TABINP
02363  24EB  D0 03              BNE *+5
02364  24ED  EE 2F 12           INC TABINP+1
02365  24F0  60                 RTS
02366  24F1              ;*********************************
02367  24F1              ; GET BYTE FROM INTERNAL TABLE
02368  24F1              ;*********************************
02369  24F1  AD 2E 12    GETI   LDA TABINP
02370  24F4  85 02              STA ZEROUR
02371  24F6  AD 2F 12           LDA TABINP+1
02372  24F9  85 03              STA ZEROUR+1
02373  24FB  A0 00              LDY #$00
02374  24FD  B1 02              LDA (ZEROUR),Y
02375  24FF  60                 RTS
02376  2500              ;*********************************






DISASSEMBLER20......PAGE 0048

LINE# LOC   CODE        LINE


02377  2500              ; CHECK IF ADDRESS IN TABLE
02378  2500              ;*********************************
02379  2500  AD 22 12    INTCHA LDA SELECT
02380  2503  8D 45 12           STA WORKED
02381  2506  AD 23 12           LDA SELECT+1
02382  2509  8D 46 12           STA WORKED+1
02383  250C              ;*********************************
02384  250C  20 62 24    INTCHK JSR INTSET
02385  250F  20 F1 24    INTCH  JSR GETI
02386  2512  8D 47 12           STA WORKER
02387  2515  20 E8 24           JSR INCI
02388  2518  20 F1 24           JSR GETI
02389  251B  8D 48 12           STA WORKER+1
02390  251E  38                 SEC
02391  251F  AD 46 12           LDA WORKED+1
02392  2522  ED 48 12           SBC WORKER+1
02393  2525  8D 51 12           STA TEMP
02394  2528  AD 45 12           LDA WORKED
02395  252B  ED 47 12           SBC WORKER
02396  252E  0D 51 12           ORA TEMP
02397  2531  F0 17              BEQ INTMAT
02398  2533              ;*********************************
02399  2533  20 E8 24           JSR INCI
02400  2536  AD 2F 12           LDA TABINP+1
02401  2539  CD 33 12           CMP TABINE+1
02402  253C  90 D1              BCC INTCH
02403  253E  D0 08              BNE INTEND
02404  2540  AD 2E 12           LDA TABINP
02405  2543  CD 32 12           CMP TABINE
02406  2546  90 C7              BCC INTCH
02407  2548              ;*********************************
02408  2548  18          INTEND CLC
02409  2549  60                 RTS
02410  254A  38          INTMAT SEC
02411  254B  60                 RTS
02412  254C              ;*********************************
02413  254C              ; 2 BYTE TABLE SORT ROUTINE
02414  254C              ;*********************************
02415  254C  20 62 24    SORT   JSR INTSET      ;SET POINTERS
02416  254F  AD 30 12           LDA TABINS
02417  2552  8D 34 12           STA SMALLS
02418  2555  8D 36 12           STA SMALLP
02419  2558  AD 31 12           LDA TABINS+1
02420  255B  8D 35 12           STA SMALLS+1
02421  255E  8D 37 12           STA SMALLP+1
02422  2561              ;*********************************
02423  2561              ; PUT FIRST WORD INTO TEMP
02424  2561              ;*********************************
02425  2561  20 F1 24    SORT1  JSR GETI
02426  2564  8D 51 12           STA TEMP
02427  2567  20 E8 24           JSR INCI
02428  256A  20 F1 24           JSR GETI
02429  256D  8D 52 12           STA TEMP+1
02430  2570              ;*********************************
02431  2570              ; INC TO NEXT WORD AND COMPARE






DISASSEMBLER20......PAGE 0049

LINE# LOC   CODE        LINE


02432  2570              ; SMALLP POINTS TO LOW BYTE
02433  2570              ;*********************************
02434  2570  20 E8 24    SORT2  JSR INCI
02435  2573  AD 2E 12           LDA TABINP
02436  2576  8D 36 12           STA SMALLP
02437  2579  AD 2F 12           LDA TABINP+1
02438  257C  8D 37 12           STA SMALLP+1
02439  257F  20 F1 24           JSR GETI
02440  2582  8D 45 12           STA WORKED
02441  2585  20 E8 24           JSR INCI
02442  2588  AD 2F 12           LDA TABINP+1
02443  258B  CD 33 12           CMP TABINE+1
02444  258E  90 0D              BCC T2
02445  2590  D0 08              BNE S3
02446  2592  AD 2E 12           LDA TABINP
02447  2595  CD 32 12           CMP TABINE
02448  2598  90 03              BCC T2
02449  259A  4C F2 25    S3     JMP SORT3
02450  259D  20 F1 24    T2     JSR GETI
02451  25A0  8D 46 12           STA WORKED+1
02452  25A3  CD 52 12           CMP TEMP+1
02453  25A6  90 0D              BCC SMALL
02454  25A8  D0 08              BNE LARGE
02455  25AA  AD 45 12           LDA WORKED
02456  25AD  CD 51 12           CMP TEMP
02457  25B0  90 03              BCC SMALL
02458  25B2  4C 70 25    LARGE  JMP SORT2
02459  25B5              ;*********************************
02460  25B5              ; WORD IS SMALL THAN TEMP PUT IT
02461  25B5              ; WHERE TEMP CAME FROM (SMALLS)
02462  25B5              ;*********************************
02463  25B5  AD 34 12    SMALL  LDA SMALLS
02464  25B8  85 02              STA ZEROUR
02465  25BA  AD 35 12           LDA SMALLS+1
02466  25BD  85 03              STA ZEROUR+1
02467  25BF  A0 00              LDY #$00
02468  25C1  AD 45 12           LDA WORKED
02469  25C4  91 02              STA (ZEROUR),Y
02470  25C6  C8                 INY
02471  25C7  AD 46 12           LDA WORKED+1
02472  25CA  91 02              STA (ZEROUR),Y
02473  25CC              ;*********************************
02474  25CC              ; PUT TEMP IN PLACE OF WORD
02475  25CC              ; SMALLP POINTS TO LO ADDRESS
02476  25CC              ;*********************************
02477  25CC  AD 36 12           LDA SMALLP
02478  25CF  85 02              STA ZEROUR
02479  25D1  AD 37 12           LDA SMALLP+1
02480  25D4  85 03              STA ZEROUR+1
02481  25D6  A0 00              LDY #$00
02482  25D8  AD 51 12           LDA TEMP
02483  25DB  91 02              STA (ZEROUR),Y
02484  25DD  C8                 INY
02485  25DE  AD 52 12           LDA TEMP+1
02486  25E1  91 02              STA (ZEROUR),Y






DISASSEMBLER20......PAGE 0050

LINE# LOC   CODE        LINE


02487  25E3              ;*********************************
02488  25E3  AD 34 12           LDA SMALLS
02489  25E6  8D 2E 12           STA TABINP
02490  25E9  AD 35 12           LDA SMALLS+1
02491  25EC  8D 2F 12           STA TABINP+1
02492  25EF  4C 61 25           JMP SORT1
02493  25F2              ;*********************************
02494  25F2              ; IF AFTER SCAN TO TABLE GOTO NEXT
02495  25F2              ; WORD IN TABLE FOR CHECK
02496  25F2              ;*********************************
02497  25F2  18          SORT3  CLC
02498  25F3  AD 34 12           LDA SMALLS
02499  25F6  69 02              ADC #$02
02500  25F8  8D 34 12           STA SMALLS
02501  25FB  8D 2E 12           STA TABINP
02502  25FE  AD 35 12           LDA SMALLS+1
02503  2601  69 00              ADC #$00
02504  2603  8D 35 12           STA SMALLS+1
02505  2606  8D 2F 12           STA TABINP+1
02506  2609  AD 35 12           LDA SMALLS+1
02507  260C  CD 33 12           CMP TABINE+1
02508  260F  90 0A              BCC SORTOK
02509  2611  D0 0B              BNE SORT4
02510  2613  AD 34 12           LDA SMALLS
02511  2616  CD 32 12           CMP TABINE
02512  2619  B0 03              BCS SORT4
02513  261B  4C 61 25    SORTOK JMP SORT1
02514  261E              ;*********************************
02515  261E  4C 62 24    SORT4  JMP INTSET
02516  2621              ;*********************************
02517  2621              ; PRINT INTERNAL ADDRESS TABLE
02518  2621              ;*********************************
02519  2621  38          INTPRT SEC
02520  2622  AD 30 12           LDA TABINS
02521  2625  ED 32 12           SBC TABINE
02522  2628  8D 51 12           STA TEMP
02523  262B  AD 31 12           LDA TABINS+1
02524  262E  ED 33 12           SBC TABINE+1
02525  2631  0D 51 12           ORA TEMP
02526  2634  D0 01              BNE INTOUT
02527  2636  60                 RTS
02528  2637              ;*********************************
02529  2637  20 D6 1E    INTOUT JSR HEADSY
02530  263A  20 4C 25           JSR SORT
02531  263D              ;*********************************
02532  263D  A9 03       LOOP1  LDA #$03
02533  263F  8D 52 12           STA SAVA
02534  2642  20 F1 24    INTPR  JSR GETI
02535  2645  8D 45 12           STA WORKED
02536  2648  20 E8 24           JSR INCI
02537  264B  20 F1 24           JSR GETI
02538  264E  8D 46 12           STA WORKED+1
02539  2651  20 F3 22           JSR SPACE
02540  2654  20 4A 2D           JSR SYMOP
02541  2657  90 0B              BCC INTPRS






DISASSEMBLER20......PAGE 0051

LINE# LOC   CODE        LINE


02542  2659  20 E7 2D           JSR FIXSYM
02543  265C  A9 02              LDA #$02
02544  265E  20 E8 22           JSR SPACM
02545  2661  4C 69 26           JMP INTPRM
02546  2664  A9 08       INTPRS LDA #$08
02547  2666  20 E8 22           JSR SPACM
02548  2669  20 B0 22    INTPRM JSR PWORKD
02549  266C  20 E8 24           JSR INCI
02550  266F  AD 2F 12           LDA TABINP+1
02551  2672  CD 33 12           CMP TABINE+1
02552  2675  90 0A              BCC PRTOK
02553  2677  D0 15              BNE PREND
02554  2679  AD 2E 12           LDA TABINP
02555  267C  CD 32 12           CMP TABINE
02556  267F  B0 0D              BCS PREND
02557  2681  CE 52 12    PRTOK  DEC SAVA
02558  2684  30 0B              BMI LOOP2
02559  2686  A9 02              LDA #$02
02560  2688  20 E8 22           JSR SPACM
02561  268B  4C 42 26           JMP INTPR
02562  268E  4C AB 1E    PREND  JMP NEXPTS
02563  2691  20 AB 1E    LOOP2  JSR NEXPTS
02564  2694  4C 3D 26           JMP LOOP1
02565  2697              ;*********************************
02566  2697              ;.FIL 0:ASC.ASM
02567  2697              ;*********************************
02568  2697              .END
02569  2697              ;*********************************
02570  2697              .LIB   ASC.ASM
02571  2697              ;*********************************
02572  2697              ; FILE ASC.ASM
02573  2697              ;*********************************
02574  2697              ;
02575  2697              ;        DISASSEMBLER64
02576  2697              ;    SYMBOLIC DISASSEMBLER
02577  2697              ;       BY DENTON MARLOWE
02578  2697              ;
02579  2697              ;  (C)1986 BY DENTON MARLOWE
02580  2697              ;
02581  2697              ;*********************************
02582  2697              ; DATA TABLE HANDLER
02583  2697              ;*********************************
02584  2697  AD E9 12    DATAOP LDA NDATA       ;GET NUM TABLES
02585  269A  F0 07              BEQ ENDAX       ;IF ZERO EXIT
02586  269C  A9 00              LDA #$00        ;ZERO BYTE
02587  269E  8D E7 12           STA CDATA       ;SET FIRST TABLE
02588  26A1  F0 03              BEQ DATAO1      ;
02589  26A3  4C 87 27    ENDAX  JMP ENDDAT      ;
02590  26A6              ;*********************************
02591  26A6  AD E7 12    DATAO1 LDA CDATA       ;CURRENT TABLE
02592  26A9  CD E9 12           CMP NDATA       ;LAST TABLE DONE
02593  26AC  F0 F5              BEQ ENDAX       ;IF SO EXIT
02594  26AE  0A                 ASL A           ;CDATA*2
02595  26AF  0A                 ASL A           ;CDATA*4
02596  26B0  18                 CLC






DISASSEMBLER20......PAGE 0052

LINE# LOC   CODE        LINE


02597  26B1  6D E7 12           ADC CDATA       ;CDATA*5
02598  26B4  A8                 TAY             ;PUT INTO INDEX
02599  26B5  B9 F1 12           LDA TDATA,Y     ;START LOW
02600  26B8  8D 47 12           STA WORKER      ;STORE
02601  26BB  C8                 INY             ;INC OFFSET
02602  26BC  B9 F1 12           LDA TDATA,Y     ;START HIGH
02603  26BF  8D 48 12           STA WORKER+1    ;STORE
02604  26C2  38                 SEC             ;C=1
02605  26C3  AD 47 12           LDA WORKER      ;
02606  26C6  ED 22 12           SBC SELECT      ;
02607  26C9  8D 51 12           STA TEMP        ;
02608  26CC  AD 48 12           LDA WORKER+1    ;
02609  26CF  ED 23 12           SBC SELECT+1    ;
02610  26D2  0D 51 12           ORA TEMP        ;
02611  26D5  F0 05              BEQ DATAO2      ;MATCH
02612  26D7  EE E7 12           INC CDATA       ;NEXT TABLE
02613  26DA  D0 CA              BNE DATAO1      ;CHECK FOR MATCH
02614  26DC              ;*********************************
02615  26DC              ; GET TABLE DATA
02616  26DC              ;*********************************
02617  26DC  C8          DATAO2 INY             ;INC OFFSET
02618  26DD  B9 F1 12           LDA TDATA,Y     ;END LOW
02619  26E0  8D E4 12           STA EAS         ;STORE
02620  26E3  C8                 INY             ;INC OFFSET
02621  26E4  B9 F1 12           LDA TDATA,Y     ;END HIGH
02622  26E7  8D E5 12           STA EAS+1       ;STORE
02623  26EA  C8                 INY             ;INC OFFSET
02624  26EB  B9 F1 12           LDA TDATA,Y     ;DATA TYPE
02625  26EE  8D E6 12           STA TEXTER      ;STORE
02626  26F1  C9 53              CMP #'S'        ;IS IT SKIPPER
02627  26F3  D0 23              BNE ASCCCC      ;
02628  26F5              ;*********************************
02629  26F5              ; SKIP RANGE OF ADDRESSES
02630  26F5              ;*********************************
02631  26F5  AD 12 12           LDA PASS
02632  26F8  CD 15 12           CMP CPASS
02633  26FB  D0 1B              BNE ASCCCC
02634  26FD  AD E4 12           LDA EAS
02635  2700  8D 22 12           STA SELECT
02636  2703  AD E5 12           LDA EAS+1
02637  2706  8D 23 12           STA SELECT+1
02638  2709  20 11 23           JSR INCSL
02639  270C  20 29 22           JSR ORGIN
02640  270F  20 30 23           JSR DECSL
02641  2712  20 4F 22           JSR COMENT
02642  2715  4C 84 27           JMP DATUT
02643  2718              ;*********************************
02644  2718              ; CHECK PASS
02645  2718              ;*********************************
02646  2718  AD 12 12    ASCCCC LDA PASS
02647  271B  CD 14 12           CMP EPASS       ;EXTERNAL
02648  271E  D0 0F              BNE ASCKK
02649  2720  AD E4 12    SKIPER LDA EAS
02650  2723  8D 22 12           STA SELECT
02651  2726  AD E5 12           LDA EAS+1






DISASSEMBLER20......PAGE 0053

LINE# LOC   CODE        LINE


02652  2729  8D 23 12           STA SELECT+1
02653  272C  4C 84 27           JMP DATUT
02654  272F              ;*********************************
02655  272F              ; DISASSEMBLER LOOP FOR DATA
02656  272F              ;*********************************
02657  272F  AD 12 12    ASCKK  LDA PASS        ;GET PASS
02658  2732  CD 15 12           CMP CPASS       ;IS IT LAST
02659  2735  D0 0E              BNE ASCI1       ;NO PRINT
02660  2737  20 4F 22           JSR COMENT      ;COMMENT LINE
02661  273A  AD 12 12    ASCII  LDA PASS        ;GET PASS
02662  273D  CD 15 12           CMP CPASS       ;IS IT LAST
02663  2740  D0 03              BNE ASCI1       ;NO PRINT
02664  2742  20 F3 23           JSR PRTDAT      ;PRINT LINE
02665  2745  20 8A 27    ASCI1  JSR ACHECK      ;DIS ONE LINE
02666  2748  B0 29              BCS ASCIIQ      ;IF EA STOP
02667  274A              ;*********************************
02668  274A  20 E1 FF           JSR STOP
02669  274D  F0 24              BEQ ASCIIQ
02670  274F  20 E4 FF           JSR GETIN
02671  2752  F0 E6              BEQ ASCII
02672  2754  C9 20              CMP #' '
02673  2756  D0 E2              BNE ASCII
02674  2758  AD 19 12           LDA DEVICE
02675  275B  48                 PHA
02676  275C  A9 03              LDA #$03
02677  275E  8D 19 12           STA DEVICE
02678  2761  A9 F9              LDA #<PMSG
02679  2763  A0 13              LDY #>PMSG
02680  2765  20 A9 1D           JSR STRPNT
02681  2768  68                 PLA
02682  2769  8D 19 12           STA DEVICE
02683  276C  20 E4 FF    PAUS1  JSR GETIN
02684  276F  F0 FB              BEQ PAUS1
02685  2771  D0 C7              BNE ASCII
02686  2773              ;*********************************
02687  2773  AD 12 12    ASCIIQ LDA PASS        ;GET PASS
02688  2776  CD 15 12           CMP CPASS       ;IS IT LAST
02689  2779  D0 09              BNE DATUT       ;EXIT
02690  277B  20 11 23           JSR INCSL
02691  277E  20 4F 22           JSR COMENT      ;COMMENT LINE
02692  2781  20 30 23           JSR DECSL
02693  2784              ;*********************************
02694  2784              ; EXIT TO NEXTSL
02695  2784              ;*********************************
02696  2784  A9 FF       DATUT  LDA #$FF        ;SET N=1
02697  2786  60                 RTS             ;RETURN
02698  2787  A9 00       ENDDAT LDA #$00        ;SET N=0
02699  2789  60                 RTS             ;RETURN
02700  278A              ;*********************************
02701  278A              ; CHECK OPTIONS
02702  278A              ;*********************************
02703  278A  AD E6 12    ACHECK LDA TEXTER      ;GET DATA TYPE
02704  278D  C9 34              CMP #'4'         ;WORD-1
02705  278F  F0 0B              BEQ AC0
02706  2791  C9 33              CMP #'3'         ;DBYTE






DISASSEMBLER20......PAGE 0054

LINE# LOC   CODE        LINE


02707  2793  F0 0A              BEQ AC1
02708  2795  C9 32              CMP #'2'         ;WORD
02709  2797  F0 03              BEQ AC0
02710  2799  4C A2 27           JMP BYTES       ;BYTE OR ASCII
02711  279C  4C 5E 28    AC0    JMP WORDS       ;WORD OR WORD-1
02712  279F  4C 2E 28    AC1    JMP DBYTES      ;DBYTES
02713  27A2              ;*********************************
02714  27A2              ; .BYTE DIRECTIVE
02715  27A2              ;*********************************
02716  27A2  AD 12 12    BYTES  LDA PASS        ;GET PASS
02717  27A5  CD 15 12           CMP CPASS       ;IS IT LAST
02718  27A8  D0 20              BNE BYTESX      ;IF NOT EXIT
02719  27AA  20 80 23           JSR PRTONE      ;PRINT BYTE
02720  27AD  20 78 22           JSR PRAD        ;PRINT ADDRESS
02721  27B0  A0 29              LDY #>MBYTE     ;.BYTE
02722  27B2  A9 1A              LDA #<MBYTE     ;
02723  27B4  20 A9 1D           JSR STRPNT      ;PRINT IT
02724  27B7  AD E6 12           LDA TEXTER      ;GET TYPE
02725  27BA  C9 30              CMP #'0'          ;ASCII
02726  27BC  F0 0F              BEQ ALINE       ;ASCII BYTES
02727  27BE  20 BE 22           JSR DOLLAR      ;PRINT $
02728  27C1  20 1A 23           JSR GETSL       ;GET BYTE
02729  27C4  20 93 1D           JSR PRBYT       ;PRINT BYTE
02730  27C7  20 EC 1C           JSR NEWLIN      ;NEXT LINE
02731  27CA  4C 01 29    BYTESX JMP NEXTBY      ;NEXT BYTE
02732  27CD              ;*********************************
02733  27CD              ; ASCII TEXT
02734  27CD              ;*********************************
02735  27CD  A9 00       ALINE  LDA #$00        ;ZERO BYTE
02736  27CF  8D 51 12           STA TEMP        ;STORE IN COUNT
02737  27D2              ;*********************************
02738  27D2              ; CHECK FIRST BYTE OF LINE
02739  27D2              ;*********************************
02740  27D2  20 1A 23           JSR GETSL       ;GET BYTE
02741  27D5  20 22 28           JSR CASCII      ;CHECK FOR ASCII
02742  27D8  B0 39              BCS NASCII      ;IF NOT BRANCH
02743  27DA  A9 27              LDA #'''        ;PRINT ONE QUOTE
02744  27DC  20 FF 1D           JSR PCHAR       ;PRINT IT
02745  27DF              ;*********************************
02746  27DF  20 1A 23    ALOP   JSR GETSL       ;GET BYTE
02747  27E2  20 22 28           JSR CASCII      ;IS IT ASCII
02748  27E5  B0 24              BCS EASCII      ;IF NOT END LINE
02749  27E7  20 FF 1D           JSR PCHAR       ;PRINT ASCII
02750  27EA              ; REV 2-12-2018 START
02751  27EA              ; IF CHAR = ' THEN PRINT SECOND '
02752  27EA  20 1A 23           JSR GETSL       ; GET BYTE AGAIN
02753  27ED  C9 27              CMP #$27        ;'''
02754  27EF  D0 03              BNE Q00000
02755  27F1  20 FF 1D           JSR PCHAR       ;PRINT ASCII
02756  27F4              Q00000 = *
02757  27F4              ; REV 2-12-2018 END 
02758  27F4  20 01 29           JSR NEXTBY      ;INC SELECT
02759  27F7  B0 0D              BCS EASCI1      ;C=1 IF END
02760  27F9  EE 51 12           INC TEMP        ;INC COUNT
02761  27FC  AD 51 12           LDA TEMP        ;LOAD COUNT






DISASSEMBLER20......PAGE 0055

LINE# LOC   CODE        LINE


02762  27FF  C9 28              CMP #$28        ;40 CHAR
02763  2801  F0 08              BEQ EASCII      ;IF SO END
02764  2803  4C DF 27           JMP ALOP        ;NEXT
02765  2806              ;*********************************
02766  2806  20 0B 28    EASCI1 JSR EASCII
02767  2809  38                 SEC
02768  280A  60                 RTS
02769  280B              ;*********************************
02770  280B  A9 27       EASCII LDA #'''        ;PRINT ONE QUOTE
02771  280D  20 FF 1D           JSR PCHAR       ;
02772  2810  4C EC 1C           JMP NEWLIN      ;PRINT CR
02773  2813              ;*********************************
02774  2813  20 BE 22    NASCII JSR DOLLAR      ;PRINT $
02775  2816  20 1A 23           JSR GETSL       ;GET BYTE
02776  2819  20 93 1D           JSR PRBYT       ;PRINT IT
02777  281C  20 EC 1C           JSR NEWLIN      ;PRINT CR
02778  281F  4C 01 29           JMP NEXTBY      ;NEXT SL
02779  2822              ;*********************************
02780  2822              ; CHECK ACCUM FOR PRINTABLE ASCII
02781  2822              ;*********************************
02782  2822  C9 20       CASCII CMP #$20        ;< SPACE
02783  2824  30 06              BMI NOASC       ;IF LESS NOASCII
02784  2826  C9 60              CMP #$60        ;> _
02785  2828  B0 02              BCS NOASC       ;IF GREATER NO
02786  282A  18                 CLC             ;CLEAR CARRY OK
02787  282B  60                 RTS             ;RETURN
02788  282C  38          NOASC  SEC             ;SET CARRY BAD
02789  282D  60                 RTS             ;RETURN
02790  282E              ;*********************************
02791  282E              ; .DBYTE DIRECTIVE
02792  282E              ;*********************************
02793  282E  AD 12 12    DBYTES LDA PASS        ;CHECK PASS
02794  2831  CD 15 12           CMP CPASS       ;LAST PASS
02795  2834  D0 25              BNE DBYTEX      ;EXIT
02796  2836  20 96 23           JSR PRTTWO      ;PRINT 2 BYTES
02797  2839  20 78 22           JSR PRAD        ;PRINT ADDRESS
02798  283C  A0 29              LDY #>MDBYTE    ;.DBYTE
02799  283E  A9 2A              LDA #<MDBYTE    ;
02800  2840  20 A9 1D           JSR STRPNT      ;PRINT IT
02801  2843  20 1A 23           JSR GETSL       ;GET BYTE
02802  2846  8D 46 12           STA WORKED+1    ;STORE
02803  2849  20 11 23           JSR INCSL       ;GET BYTE
02804  284C  20 1A 23           JSR GETSL       ;GET BYTE
02805  284F  8D 45 12           STA WORKED      ;STORE
02806  2852  20 BE 22           JSR DOLLAR      ;PRINT $
02807  2855  20 B0 22           JSR PWORKD      ;PRINT WORD
02808  2858  20 EC 1C           JSR NEWLIN      ;PRINT CR
02809  285B  4C 01 29    DBYTEX JMP NEXTBY      ;NEXT SL
02810  285E              ;*********************************
02811  285E              ; .WORD DIRECTIVE
02812  285E              ;*********************************
02813  285E  AD 12 12    WORDS  LDA PASS        ;GET PASS
02814  2861  CD 15 12           CMP CPASS         ;LAST
02815  2864  D0 0D              BNE WORD1       ;IF NOT BRANCH
02816  2866  20 96 23           JSR PRTTWO      ;PRINT 2 BYTES






DISASSEMBLER20......PAGE 0056

LINE# LOC   CODE        LINE


02817  2869  20 78 22           JSR PRAD        ;PRINT ADDRESS
02818  286C  A0 29              LDY #>MWORD     ;.WORD
02819  286E  A9 22              LDA #<MWORD     ;
02820  2870  20 A9 1D           JSR STRPNT      ;PRINT IT
02821  2873              ;*********************************
02822  2873              ; GET WORD INTO WORKED
02823  2873              ;*********************************
02824  2873  20 1A 23    WORD1  JSR GETSL       ;GET BYTE
02825  2876  8D 45 12           STA WORKED      ;STORE BYTE
02826  2879  8D 36 12           STA SMALLP      ;STORE BYTE
02827  287C  20 11 23           JSR INCSL       ;GET BYTE
02828  287F  20 1A 23           JSR GETSL       ;GET BYTE
02829  2882  8D 46 12           STA WORKED+1    ;STORE BYTE
02830  2885  8D 37 12           STA SMALLP+1    ;STORE BYTE
02831  2888  AD E6 12           LDA TEXTER      ;GET OPTION
02832  288B  C9 34              CMP #'4'          ;.WORD ADRS-1
02833  288D  F0 2A              BEQ WORDM       ;BRANCH
02834  288F              ;*********************************
02835  288F              ; CHECK PASS
02836  288F              ;*********************************
02837  288F  AD 12 12           LDA PASS        ;CHECK PASS
02838  2892  CD 13 12           CMP IPASS       ;INTERNAL
02839  2895  F0 16              BEQ WORDPT      ;TABLE WORD
02840  2897  CD 14 12           CMP EPASS
02841  289A  F0 17              BEQ WORDSY
02842  289C              ;*********************************
02843  289C              ; PRINT WORD
02844  289C              ;*********************************
02845  289C  20 4A 2D           JSR SYMOP       ;CHECK SYMBOL
02846  289F  B0 5A              BCS WORDS3      ;C=1 SYMBOL
02847  28A1  20 BE 22           JSR DOLLAR      ;PRINT $
02848  28A4  20 B0 22           JSR PWORKD      ;PRINT WORD
02849  28A7  20 EC 1C           JSR NEWLIN      ;PRINT CR
02850  28AA  4C 01 29    WORDSX JMP NEXTBY      ;NEXT SL
02851  28AD  20 A1 24    WORDPT JSR PUTI        ;PUT IN TABLE
02852  28B0  4C 01 29           JMP NEXTBY      ;NEXT SL
02853  28B3  20 4A 2D    WORDSY JSR SYMOP
02854  28B6  4C 01 29           JMP NEXTBY
02855  28B9              ;*********************************
02856  28B9              ; .WORD ADDRESS-1
02857  28B9              ;*********************************
02858  28B9  18          WORDM  CLC
02859  28BA  AD 45 12           LDA WORKED
02860  28BD  69 01              ADC #$01
02861  28BF  8D 45 12           STA WORKED
02862  28C2  AD 46 12           LDA WORKED+1
02863  28C5  69 00              ADC #$00
02864  28C7  8D 46 12           STA WORKED+1
02865  28CA              ;*********************************
02866  28CA              ; CHECK PASS
02867  28CA              ;*********************************
02868  28CA  AD 12 12           LDA PASS        ;CHECK PASS
02869  28CD  CD 13 12           CMP IPASS       ;INTERNAL
02870  28D0  F0 DB              BEQ WORDPT      ;TABLE WORD
02871  28D2  CD 14 12           CMP EPASS       ;EXTERNAL






DISASSEMBLER20......PAGE 0057

LINE# LOC   CODE        LINE


02872  28D5  F0 DC              BEQ WORDSY      ;TABLE WORD
02873  28D7              ;*********************************
02874  28D7              ; PRINT WORD
02875  28D7              ;*********************************
02876  28D7  20 4A 2D           JSR SYMOP       ;CHECK SYMBOL
02877  28DA  90 0D              BCC WORDS2      ;C=0 NO SYMBOL
02878  28DC  A9 2D              LDA #'-'
02879  28DE  20 FF 1D           JSR PCHAR
02880  28E1  A9 31              LDA #'1'
02881  28E3  20 FF 1D           JSR PCHAR
02882  28E6  4C FB 28           JMP WORDS3
02883  28E9              ;*********************************
02884  28E9  20 BE 22    WORDS2 JSR DOLLAR      ;PRINT $
02885  28EC  AD 36 12           LDA SMALLP
02886  28EF  8D 45 12           STA WORKED
02887  28F2  AD 37 12           LDA SMALLP+1
02888  28F5  8D 46 12           STA WORKED+1
02889  28F8  20 B0 22           JSR PWORKD      ;PRINT WORD
02890  28FB  20 EC 1C    WORDS3 JSR NEWLIN      ;PRINT CR
02891  28FE  4C 01 29    WORDXX JMP NEXTBY      ;NEXT SL
02892  2901              ;*********************************
02893  2901              ; SELECT NEXT BYTE OF DATA
02894  2901              ;*********************************
02895  2901  AD 23 12    NEXTBY LDA SELECT+1
02896  2904  CD E5 12           CMP EAS+1
02897  2907  90 0A              BCC SBLOK
02898  2909  D0 0D              BNE NOBINC
02899  290B  AD 22 12           LDA SELECT
02900  290E  CD E4 12           CMP EAS
02901  2911  B0 05              BCS NOBINC
02902  2913  20 11 23    SBLOK  JSR INCSL
02903  2916  18                 CLC
02904  2917  60                 RTS
02905  2918  38          NOBINC SEC
02906  2919  60                 RTS
02907  291A              ;*********************************
02908  291A  20 2E       MBYTE  .BYTE ' .BYTE ',0
02908  2921  00 
02909  2922  20 2E       MWORD  .BYTE ' .WORD ',0
02909  2929  00 
02910  292A  20 2E       MDBYTE .BYTE ' .DBYTE ',0
02910  2932  00 
02911  2933              ;*********************************
02912  2933              ;.FIL 0:TABLE.ASM
02913  2933              ;*********************************
02914  2933              .END
02915  2933              ;*********************************
02916  2933              .LIB   TABLE.ASM
02917  2933              ;*********************************
02918  2933              ; FILE TABLE.ASM
02919  2933              ;*********************************
02920  2933              ;
02921  2933              ;        DISASSEMBLER64
02922  2933              ;    SYMBOLIC DISASSEMBLER
02923  2933              ;       BY DENTON MARLOWE






DISASSEMBLER20......PAGE 0058

LINE# LOC   CODE        LINE


02924  2933              ;
02925  2933              ;  (C)1986 BY DENTON MARLOWE
02926  2933              ;
02927  2933              ;*********************************
02928  2933              ;       PRINT MNEMONIC
02929  2933              ;
02930  2933              ; OPCODE IN A
02931  2933              ;
02932  2933              ; BUG ILLEGAL OPCODE WOULD PRINT OUT AS
02933  2933              ;
02934  2933              ; ZZZZ XX                 ...  .BYTE $XX ;??? ILL
EGAL OPCODE
02935  2933              ; WHERE THE "..." WERE THREE NULLS
02936  2933              ; BECAUSE ILLEGAL OPCODE MNEMONIC IS CODES AS 0,0
,0
02937  2933              ;
02938  2933              ;*********************************
02939  2933  A2 03       MNEMON LDX #3          ;3 CHARACTERS
02940  2935  8E 51 12           STX TEMP        ;COUNTER
02941  2938  AA                 TAX             ;CODE IS INDEX
02942  2939  BD AE 2A           LDA MCODES,X    ;GET OFFSET
02943  293C  AA                 TAX             ;INDEX OFFSET
02944  293D  BD D6 29    MNLOOP LDA MNAMES,X    ;GET CHARACTER
02945  2940              ;BEGIN REV 2017-0
02946  2940  F0 09              BEQ ILLOP       ;ILLEGAL OPCODE MNEMONIC C
HAR IS A NULL
02947  2942              ;END REV 2017-0
02948  2942  8E 53 12           STX SAVX        ;SAVE INDEX
02949  2945  20 FF 1D           JSR PCHAR       ;PRINT CHAR
02950  2948  AE 53 12           LDX SAVX        ;GET INDEX
02951  294B              ;BEGIN REV 2017-1
02952  294B              ILLOP  = *
02953  294B              ;END REV 2017-0
02954  294B  E8                 INX             ;NEXT CHAR
02955  294C  CE 51 12           DEC TEMP        ;DEC COUNT
02956  294F  D0 EC              BNE MNLOOP      ;LOOP TILL 0
02957  2951  60                 RTS             ;RETURN
02958  2952              ;*********************************
02959  2952              ;        PRINT OPERAND
02960  2952              ;*********************************
02961  2952  48          PRTASS PHA             ;STACK INDEX
02962  2953  20 F3 23           JSR PRTDAT      ;PRINT LINE DATA
02963  2956  68                 PLA             ;PULL INDEX
02964  2957  A8                 TAY             ;SAVE INDEX
02965  2958  A9 82              LDA #<SUBP
02966  295A  A2 29              LDX #>SUBP
02967  295C  4C 6C 29           JMP GETOPE      ;LOOK UP ROUTINE
02968  295F              ;*********************************
02969  295F  A8          OPERN1 TAY             ;SAVE INDEX
02970  2960  A9 9E              LDA #<SUBS1
02971  2962  A2 29              LDX #>SUBS1
02972  2964  4C 6C 29           JMP GETOPE      ;LOOK UP ROUTINE
02973  2967              ;*********************************
02974  2967  A8          OPERND TAY             ;SAVE INDEX
02975  2968  A9 BA              LDA #<SUBS
02976  296A  A2 29              LDX #>SUBS
02977  296C              ;*********************************
02978  296C              ; LOOK UP AND JMP TO ROUTINE






DISASSEMBLER20......PAGE 0059

LINE# LOC   CODE        LINE


02979  296C              ;*********************************
02980  296C  85 02       GETOPE STA ZEROUR      ;LOW TABLE
02981  296E  86 03              STX ZEROUR+1    ;HIGH TABLE
02982  2970  B9 AE 2B           LDA MODES,Y     ;GET OFFSET
02983  2973  A8                 TAY             ;INDEX OFFSET
02984  2974  B1 02              LDA (ZEROUR),Y  ;GET LOW BYTE
02985  2976  8D 4F 12           STA ADRS        ;STORE
02986  2979  C8                 INY             ;INC INDEX
02987  297A  B1 02              LDA (ZEROUR),Y  ;GET HIGH BYTE
02988  297C  8D 50 12           STA ADRS+1      ;STORE
02989  297F  6C 4F 12           JMP (ADRS)      ;INDIRECT JMP
02990  2982              ;*********************************
02991  2982              ; TABLE OF ADDRESSING MODE SUBS
02992  2982              ;*********************************
02993  2982              ; MACHINE LANGUAGE ROUTINES
02994  2982              ;*********************************
02995  2982              SUBP   = *             ; MODES
02996  2982  80 23       .WORD  PRTONE          ; 0  $00
02997  2984  80 23       .WORD  PRTONE          ; 2  $02
02998  2986  96 23       .WORD  PRTTWO          ; 4  $04
02999  2988  96 23       .WORD  PRTTWO          ; 6  $06
03000  298A  96 23       .WORD  PRTTWO          ; 8  $08
03001  298C  96 23       .WORD  PRTTWO          ; 10 $0A
03002  298E  BB 23       .WORD  PRTTHE          ; 12 $0C
03003  2990  BB 23       .WORD  PRTTHE          ; 14 $0E
03004  2992  BB 23       .WORD  PRTTHE          ; 16 $10
03005  2994  80 23       .WORD  PRTONE          ; 18 $12
03006  2996  96 23       .WORD  PRTTWO          ; 20 $14
03007  2998  96 23       .WORD  PRTTWO          ; 22 $16
03008  299A  96 23       .WORD  PRTTWO          ; 24 $18
03009  299C  BB 23       .WORD  PRTTHE          ; 26 $1A
03010  299E              ;*********************************
03011  299E              ; CODE ANALYSIS ROUTINES
03012  299E              ;*********************************
03013  299E              SUBS1  = *             ; MODES
03014  299E  77 21       .WORD  IMPONE          ; 0  $00
03015  29A0  77 21       .WORD  IMPONE          ; 2  $02
03016  29A2  F2 20       .WORD  IMMEDT          ; 4  $04
03017  29A4  3B 20       .WORD  ONEBYT          ; 6  $06
03018  29A6  3B 20       .WORD  ONEBYT          ; 8  $08
03019  29A8  3B 20       .WORD  ONEBYT          ; 10 $0A
03020  29AA  70 20       .WORD  TWOBYT          ; 12 $0C
03021  29AC  70 20       .WORD  TWOBYT          ; 14 $0E
03022  29AE  70 20       .WORD  TWOBYT          ; 16 $10
03023  29B0  77 21       .WORD  IMPONE          ; 18 $12
03024  29B2  AE 21       .WORD  RELATV          ; 20 $14
03025  29B4  3B 20       .WORD  ONEBYT          ; 22 $16
03026  29B6  3B 20       .WORD  ONEBYT          ; 24 $18
03027  29B8  70 20       .WORD  TWOBYT          ; 26 $1A
03028  29BA              ;*********************************
03029  29BA              ; FINAL PASS ADDRESSING MODES
03030  29BA              ;*********************************
03031  29BA              SUBS   = *             ; MODES
03032  29BA  AC 20       .WORD  ILLEGL          ; 0  $00
03033  29BC  ED 20       .WORD  ACC             ; 2  $02






DISASSEMBLER20......PAGE 0060

LINE# LOC   CODE        LINE


03034  29BE  F2 20       .WORD  IMMEDT          ; 4  $04
03035  29C0  29 21       .WORD  ZEROPG          ; 6  $06
03036  29C2  2C 21       .WORD  ZEROX           ; 8  $08
03037  29C4  32 21       .WORD  ZEROY           ; 10 $0A
03038  29C6  39 21       .WORD  ABSLUT          ; 12 $0C
03039  29C8  5E 21       .WORD  ABSX            ; 14 $0E
03040  29CA  64 21       .WORD  ABSY            ; 16 $10
03041  29CC  6A 21       .WORD  IMPLID          ; 18 $12
03042  29CE  AE 21       .WORD  RELATV          ; 20 $14
03043  29D0  99 21       .WORD  INDX            ; 22 $16
03044  29D2  A2 21       .WORD  INDY            ; 24 $18
03045  29D4  84 21       .WORD  INDRCT          ; 26 $1A
03046  29D6              ;*********************************
03047  29D6              ; LIST OF MNEMONICS
03048  29D6              ;*********************************
03049  29D6              MNAMES = *             ; MCODES
03050  29D6  00          .BYTE  0,0,0           ; 0   $00
03050  29D7  00 
03050  29D8  00 
03051  29D9  41 44 43    .BYTE  'ADC'           ; 3   $03
03052  29DC  41 4E 44    .BYTE  'AND'           ; 6   $06
03053  29DF  41 53 4C    .BYTE  'ASL'           ; 9   $09
03054  29E2  42 43 43    .BYTE  'BCC'           ; 12  $0C
03055  29E5  42 43 53    .BYTE  'BCS'           ; 15  $0F
03056  29E8  42 45 51    .BYTE  'BEQ'           ; 18  $12
03057  29EB  42 49 54    .BYTE  'BIT'           ; 21  $15
03058  29EE  42 4D 49    .BYTE  'BMI'           ; 24  $18
03059  29F1  42 4E 45    .BYTE  'BNE'           ; 27  $1B
03060  29F4  42 50 4C    .BYTE  'BPL'           ; 30  $1E
03061  29F7  42 52 4B    .BYTE  'BRK'           ; 33  $21
03062  29FA  42 56 43    .BYTE  'BVC'           ; 36  $24
03063  29FD  42 56 53    .BYTE  'BVS'           ; 39  $27
03064  2A00  43 4C 43    .BYTE  'CLC'           ; 42  $2A
03065  2A03  43 4C 44    .BYTE  'CLD'           ; 45  $2D
03066  2A06  43 4C 49    .BYTE  'CLI'           ; 48  $30
03067  2A09  43 4C 56    .BYTE  'CLV'           ; 51  $33
03068  2A0C  43 4D 50    .BYTE  'CMP'           ; 54  $36
03069  2A0F  43 50 58    .BYTE  'CPX'           ; 57  $39
03070  2A12  43 50 59    .BYTE  'CPY'           ; 60  $3C
03071  2A15  44 45 43    .BYTE  'DEC'           ; 63  $3F
03072  2A18  44 45 58    .BYTE  'DEX'           ; 66  $42
03073  2A1B  44 45 59    .BYTE  'DEY'           ; 69  $45
03074  2A1E  45 4F 52    .BYTE  'EOR'           ; 72  $48
03075  2A21  49 4E 43    .BYTE  'INC'           ; 75  $4B
03076  2A24  49 4E 58    .BYTE  'INX'           ; 78  $4E
03077  2A27  49 4E 59    .BYTE  'INY'           ; 81  $51
03078  2A2A  4A 4D 50    .BYTE  'JMP'           ; 84  $54
03079  2A2D  4A 53 52    .BYTE  'JSR'           ; 87  $57
03080  2A30  4C 44 41    .BYTE  'LDA'           ; 90  $5A
03081  2A33  4C 44 58    .BYTE  'LDX'           ; 93  $5D
03082  2A36  4C 44 59    .BYTE  'LDY'           ; 96  $60
03083  2A39  4C 53 52    .BYTE  'LSR'           ; 99  $63
03084  2A3C  4E 4F 50    .BYTE  'NOP'           ; 102 $66
03085  2A3F  4F 52 41    .BYTE  'ORA'           ; 105 $69
03086  2A42  50 48 41    .BYTE  'PHA'           ; 108 $6C






DISASSEMBLER20......PAGE 0061

LINE# LOC   CODE        LINE


03087  2A45  50 48 50    .BYTE  'PHP'           ; 111 $6F
03088  2A48  50 4C 41    .BYTE  'PLA'           ; 114 $72
03089  2A4B  50 4C 50    .BYTE  'PLP'           ; 117 $75
03090  2A4E  52 4F 4C    .BYTE  'ROL'           ; 120 $78
03091  2A51  52 4F 52    .BYTE  'ROR'           ; 123 $7B
03092  2A54  52 54 49    .BYTE  'RTI'           ; 126 $7E
03093  2A57  52 54 53    .BYTE  'RTS'           ; 129 $81
03094  2A5A  53 42 43    .BYTE  'SBC'           ; 132 $84
03095  2A5D  53 45 43    .BYTE  'SEC'           ; 135 $87
03096  2A60  53 45 44    .BYTE  'SED'           ; 138 $8A
03097  2A63  53 45 49    .BYTE  'SEI'           ; 141 $8D
03098  2A66  53 54 41    .BYTE  'STA'           ; 144 $90
03099  2A69  53 54 58    .BYTE  'STX'           ; 147 $93
03100  2A6C  53 54 59    .BYTE  'STY'           ; 150 $96
03101  2A6F  54 41 58    .BYTE  'TAX'           ; 153 $99
03102  2A72  54 41 59    .BYTE  'TAY'           ; 156 $9C
03103  2A75  54 53 58    .BYTE  'TSX'           ; 159 $9F
03104  2A78  54 58 41    .BYTE  'TXA'           ; 162 $A2
03105  2A7B  54 58 53    .BYTE  'TXS'           ; 165 $A5
03106  2A7E  54 59 41    .BYTE  'TYA'           ; 168 $A8
03107  2A81              ;*********************************
03108  2A81              ; QUASI-OPCODES
03109  2A81              ;*********************************
03110  2A81  41 53 4F    .BYTE  'ASO'           ; 171 $AB
03111  2A84  52 4C 41    .BYTE  'RLA'           ; 174 $AE
03112  2A87  4C 53 45    .BYTE  'LSE'           ; 177 $B1
03113  2A8A  52 52 41    .BYTE  'RRA'           ; 180 $B4
03114  2A8D  41 58 53    .BYTE  'AXS'           ; 183 $B7
03115  2A90  4C 41 58    .BYTE  'LAX'           ; 186 $BA
03116  2A93  44 43 4D    .BYTE  'DCM'           ; 189 $BD
03117  2A96  49 4E 53    .BYTE  'INS'           ; 192 $C0
03118  2A99  41 4C 52    .BYTE  'ALR'           ; 195 $C3
03119  2A9C  41 52 52    .BYTE  'ARR'           ; 198 $C6
03120  2A9F  4F 41 4C    .BYTE  'OAL'           ; 201 $C9
03121  2AA2  53 41 58    .BYTE  'SAX'           ; 204 $CC
03122  2AA5  4E 4F 50    .BYTE  'NOP'           ; 207 $CF
03123  2AA8  53 4B 42    .BYTE  'SKB'           ; 210 $D2
03124  2AAB  53 4B 57    .BYTE  'SKW'           ; 213 $D5
03125  2AAE              ;*********************************
03126  2AAE              ; TABLE OF MNEMONIC CODES
03127  2AAE              ;*********************************
03128  2AAE              ;
03129  2AAE              ;A MNEMONIC'S CODE IS ITS OFFSET
03130  2AAE              ;    INTO MNAMES, THE LIST OF
03131  2AAE              ;         MNEONIC NAMES.
03132  2AAE              ;
03133  2AAE              ;*********************************
03134  2AAE              MCODES = *
03135  2AAE              ;     0X  1X  2X  3X  4X  5X  6X  7X
03136  2AAE              ; 0X  BRK ORA KIL SLO NOP ORA ASL SLO
03137  2AAE  21          .BYTE  $21,$69,$00,$00,$00,$69,$09,$00
03137  2AAF  69 
03137  2AB0  00 
03137  2AB1  00 
03137  2AB2  00 






DISASSEMBLER20......PAGE 0062

LINE# LOC   CODE        LINE


03137  2AB3  69 
03137  2AB4  09 
03137  2AB5  00 
03138  2AB6              ;     8X  9X  AX  BX  CX  DX  EX  FX
03139  2AB6                                     ;PHP ORA ASL ANC NOP ORA A
SL SLO
03140  2AB6  6F          .BYTE  $6F,$69,$09,$00,$00,$69,$09,$00
03140  2AB7  69 
03140  2AB8  09 
03140  2AB9  00 
03140  2ABA  00 
03140  2ABB  69 
03140  2ABC  09 
03140  2ABD  00 
03141  2ABE              ; 1X  BPL ORA KIL SLO NOP ORA ASL SLO
03142  2ABE  1E          .BYTE  $1E,$69,$00,$00,$00,$69,$09,$00
03142  2ABF  69 
03142  2AC0  00 
03142  2AC1  00 
03142  2AC2  00 
03142  2AC3  69 
03142  2AC4  09 
03142  2AC5  00 
03143  2AC6                                     ;CLC ORA NOP SLO NOP ORA A
SL SLO
03144  2AC6  2A          .BYTE  $2A,$69,$00,$00,$00,$69,$09,$00
03144  2AC7  69 
03144  2AC8  00 
03144  2AC9  00 
03144  2ACA  00 
03144  2ACB  69 
03144  2ACC  09 
03144  2ACD  00 
03145  2ACE              ; 2X  JSR AND KIL RLA BIT AND ROL RLA
03146  2ACE  57          .BYTE  $57,$06,$00,$00,$15,$06,$78,$00
03146  2ACF  06 
03146  2AD0  00 
03146  2AD1  00 
03146  2AD2  15 
03146  2AD3  06 
03146  2AD4  78 
03146  2AD5  00 
03147  2AD6                                     ;PLP ABD ROL ANC BIT AND R
OL RLA
03148  2AD6  75          .BYTE  $75,$06,$78,$00,$15,$06,$78,$00
03148  2AD7  06 
03148  2AD8  78 
03148  2AD9  00 
03148  2ADA  15 
03148  2ADB  06 
03148  2ADC  78 
03148  2ADD  00 
03149  2ADE              ; 3X  BMI AND KIL RLA NOP AND ROL RLA
03150  2ADE  18          .BYTE  $18,$06,$00,$00,$00,$06,$78,$00
03150  2ADF  06 
03150  2AE0  00 
03150  2AE1  00 
03150  2AE2  00 






DISASSEMBLER20......PAGE 0063

LINE# LOC   CODE        LINE


03150  2AE3  06 
03150  2AE4  78 
03150  2AE5  00 
03151  2AE6              ;     SEC AND NOP RLA NOP AND ROL RLA
03152  2AE6  87          .BYTE  $87,$06,$00,$00,$00,$06,$78,$00
03152  2AE7  06 
03152  2AE8  00 
03152  2AE9  00 
03152  2AEA  00 
03152  2AEB  06 
03152  2AEC  78 
03152  2AED  00 
03153  2AEE              ; 4X  RTI EOR KIL SRE NOP EOR LSR SRE
03154  2AEE  7E          .BYTE  $7E,$48,$00,$00,$00,$48,$63,$00
03154  2AEF  48 
03154  2AF0  00 
03154  2AF1  00 
03154  2AF2  00 
03154  2AF3  48 
03154  2AF4  63 
03154  2AF5  00 
03155  2AF6              ;     PHA EOR LSR ALR JMP EOR LSR SRE
03156  2AF6  6C          .BYTE  $6C,$48,$63,$00,$54,$48,$63,$00
03156  2AF7  48 
03156  2AF8  63 
03156  2AF9  00 
03156  2AFA  54 
03156  2AFB  48 
03156  2AFC  63 
03156  2AFD  00 
03157  2AFE              ; 5X  BVC EOR KIL SRE NOP EOR LSR SRE
03158  2AFE  24          .BYTE  $24,$48,$00,$00,$00,$48,$63,$00
03158  2AFF  48 
03158  2B00  00 
03158  2B01  00 
03158  2B02  00 
03158  2B03  48 
03158  2B04  63 
03158  2B05  00 
03159  2B06              ;     CLI EOR NOP SRE NOP EOR LSR SRE
03160  2B06  30          .BYTE  $30,$48,$00,$00,$00,$48,$63,$00
03160  2B07  48 
03160  2B08  00 
03160  2B09  00 
03160  2B0A  00 
03160  2B0B  48 
03160  2B0C  63 
03160  2B0D  00 
03161  2B0E              ; 6X  RTS ADC KIL RRA NOP ADC ROR RRA
03162  2B0E  81          .BYTE  $81,$03,$00,$00,$00,$03,$7B,$00
03162  2B0F  03 
03162  2B10  00 
03162  2B11  00 
03162  2B12  00 
03162  2B13  03 






DISASSEMBLER20......PAGE 0064

LINE# LOC   CODE        LINE


03162  2B14  7B 
03162  2B15  00 
03163  2B16              ;     PLA ADC ROR ARR JMP ADC ROR RRA
03164  2B16  72          .BYTE  $72,$03,$7B,$00,$54,$03,$7B,$00
03164  2B17  03 
03164  2B18  7B 
03164  2B19  00 
03164  2B1A  54 
03164  2B1B  03 
03164  2B1C  7B 
03164  2B1D  00 
03165  2B1E              ; 7X  BVS ADC KIL RRA NOP ADC ROR RRA
03166  2B1E  27          .BYTE  $27,$03,$00,$00,$00,$03,$7B,$00
03166  2B1F  03 
03166  2B20  00 
03166  2B21  00 
03166  2B22  00 
03166  2B23  03 
03166  2B24  7B 
03166  2B25  00 
03167  2B26              ;     SEI ADC NOP RRA NOP ADC ROR RRA
03168  2B26  8D          .BYTE  $8D,$03,$00,$00,$00,$03,$7B,$00
03168  2B27  03 
03168  2B28  00 
03168  2B29  00 
03168  2B2A  00 
03168  2B2B  03 
03168  2B2C  7B 
03168  2B2D  00 
03169  2B2E              ; 8X  NOP STA NOP SAX STY STA STX SAX
03170  2B2E  00          .BYTE  $00,$90,$00,$00,$96,$90,$93,$00
03170  2B2F  90 
03170  2B30  00 
03170  2B31  00 
03170  2B32  96 
03170  2B33  90 
03170  2B34  93 
03170  2B35  00 
03171  2B36              ;     DEY NOP TXA XXA STY STA STX SAX
03172  2B36  45          .BYTE  $45,$00,$A2,$00,$96,$90,$93,$00
03172  2B37  00 
03172  2B38  A2 
03172  2B39  00 
03172  2B3A  96 
03172  2B3B  90 
03172  2B3C  93 
03172  2B3D  00 
03173  2B3E              ; 9X  BCC STA KIL AHX STY STA STX SAX 
03174  2B3E  0C          .BYTE  $0C,$90,$00,$00,$96,$90,$93,$00
03174  2B3F  90 
03174  2B40  00 
03174  2B41  00 
03174  2B42  96 
03174  2B43  90 
03174  2B44  93 






DISASSEMBLER20......PAGE 0065

LINE# LOC   CODE        LINE


03174  2B45  00 
03175  2B46              ;     TYA STA TXS TAS SHY STA SHX AHX
03176  2B46  A8          .BYTE  $A8,$90,$A5,$00,$00,$90,$00,$00
03176  2B47  90 
03176  2B48  A5 
03176  2B49  00 
03176  2B4A  00 
03176  2B4B  90 
03176  2B4C  00 
03176  2B4D  00 
03177  2B4E              ; AX  LDY LDA LDX LAX LDY LDA LDX LAX
03178  2B4E  60          .BYTE  $60,$5A,$5D,$00,$60,$5A,$5D,$00
03178  2B4F  5A 
03178  2B50  5D 
03178  2B51  00 
03178  2B52  60 
03178  2B53  5A 
03178  2B54  5D 
03178  2B55  00 
03179  2B56              ;     TAY LDA TAX LAX LDY LDA LDX LAX
03180  2B56  9C          .BYTE  $9C,$5A,$99,$00,$60,$5A,$5D,$00
03180  2B57  5A 
03180  2B58  99 
03180  2B59  00 
03180  2B5A  60 
03180  2B5B  5A 
03180  2B5C  5D 
03180  2B5D  00 
03181  2B5E              ; BX  BCS LDA KIL LAX LDY LDA LDX LAX
03182  2B5E  0F          .BYTE  $0F,$5A,$00,$00,$60,$5A,$5D,$00
03182  2B5F  5A 
03182  2B60  00 
03182  2B61  00 
03182  2B62  60 
03182  2B63  5A 
03182  2B64  5D 
03182  2B65  00 
03183  2B66              ;     CLV LDA TSX LAS LDY LDA LDX LAX
03184  2B66  33          .BYTE  $33,$5A,$9F,$00,$60,$5A,$5D,$00
03184  2B67  5A 
03184  2B68  9F 
03184  2B69  00 
03184  2B6A  60 
03184  2B6B  5A 
03184  2B6C  5D 
03184  2B6D  00 
03185  2B6E              ; CX  CPY CMP NOP DCP CPY CMP DEC DCP
03186  2B6E  3C          .BYTE  $3C,$36,$00,$00,$3C,$36,$3F,$00
03186  2B6F  36 
03186  2B70  00 
03186  2B71  00 
03186  2B72  3C 
03186  2B73  36 
03186  2B74  3F 
03186  2B75  00 






DISASSEMBLER20......PAGE 0066

LINE# LOC   CODE        LINE


03187  2B76              ;     INY CMP DEX AXS CPY CMP DEC DCP
03188  2B76  51          .BYTE  $51,$36,$42,$00,$3C,$36,$3F,$00
03188  2B77  36 
03188  2B78  42 
03188  2B79  00 
03188  2B7A  3C 
03188  2B7B  36 
03188  2B7C  3F 
03188  2B7D  00 
03189  2B7E              ; DX  BNE CMP KIL DCP NOP CMP DEC DCP
03190  2B7E  1B          .BYTE  $1B,$36,$00,$00,$00,$36,$3F,$00
03190  2B7F  36 
03190  2B80  00 
03190  2B81  00 
03190  2B82  00 
03190  2B83  36 
03190  2B84  3F 
03190  2B85  00 
03191  2B86              ;     CLD CMP NOP DCP NOP CMP DEC DCP
03192  2B86  2D          .BYTE  $2D,$36,$00,$00,$00,$36,$3F,$00
03192  2B87  36 
03192  2B88  00 
03192  2B89  00 
03192  2B8A  00 
03192  2B8B  36 
03192  2B8C  3F 
03192  2B8D  00 
03193  2B8E              ; EX  CPX SBC NOP ISC CPX SBC INC ISC
03194  2B8E  39          .BYTE  $39,$84,$00,$00,$39,$84,$4B,$00
03194  2B8F  84 
03194  2B90  00 
03194  2B91  00 
03194  2B92  39 
03194  2B93  84 
03194  2B94  4B 
03194  2B95  00 
03195  2B96              ;     INX SBC NOP SBC CPX SBC INC ISC
03196  2B96  4E          .BYTE  $4E,$84,$66,$00,$39,$84,$4B,$00
03196  2B97  84 
03196  2B98  66 
03196  2B99  00 
03196  2B9A  39 
03196  2B9B  84 
03196  2B9C  4B 
03196  2B9D  00 
03197  2B9E              ; FX  BEQ SBC KIL ISC NOP SBC INC ISC
03198  2B9E  12          .BYTE  $12,$84,$00,$00,$00,$84,$4B,$00
03198  2B9F  84 
03198  2BA0  00 
03198  2BA1  00 
03198  2BA2  00 
03198  2BA3  84 
03198  2BA4  4B 
03198  2BA5  00 
03199  2BA6              ;     SED SBC NOP ISC NOP SBC INC ISC






DISASSEMBLER20......PAGE 0067

LINE# LOC   CODE        LINE


03200  2BA6  8A          .BYTE  $8A,$84,$00,$00,$00,$84,$4B,$00
03200  2BA7  84 
03200  2BA8  00 
03200  2BA9  00 
03200  2BAA  00 
03200  2BAB  84 
03200  2BAC  4B 
03200  2BAD  00 
03201  2BAE              ;*********************************
03202  2BAE              ; TABLE OF ADDRESSING MODE CODES
03203  2BAE              ;*********************************
03204  2BAE              ;
03205  2BAE              ; AN ADDRESSING MODE'S CODE IS
03206  2BAE              ; ITS OFFSET INTO SUBS, THE TABLE
03207  2BAE              ; OF ADDRESSING MODE SUBROUTINES
03208  2BAE              ;
03209  2BAE              ; ILLEGL ; 0  $00
03210  2BAE              ; ACC    ; 2  $02
03211  2BAE              ; IMMEDT ; 4  $04
03212  2BAE              ; ZEROPG ; 6  $06
03213  2BAE              ; ZEROX  ; 8  $08
03214  2BAE              ; ZEROY  ; 10 $0A
03215  2BAE              ; ABSLUT ; 12 $0C
03216  2BAE              ; ABSX   ; 14 $0E
03217  2BAE              ; ABSY   ; 16 $10
03218  2BAE              ; IMPLID ; 18 $12
03219  2BAE              ; RELATV ; 20 $14
03220  2BAE              ; INDX   ; 22 $16
03221  2BAE              ; INDY   ; 24 $18
03222  2BAE              ; INDRCT ; 26 $1A
03223  2BAE              ;*********************************
03224  2BAE              MODES  = * 
03225  2BAE              ; 0X   0  1 2 3 4 5 6 7
03226  2BAE  12          .BYTE  18,22,0,0,0,6,6,0
03226  2BAF  16 
03226  2BB0  00 
03226  2BB1  00 
03226  2BB2  00 
03226  2BB3  06 
03226  2BB4  06 
03226  2BB5  00 
03227  2BB6              ;      8  9 A B C D E F
03228  2BB6  12          .BYTE  18,4,2,0,0,12,12,0
03228  2BB7  04 
03228  2BB8  02 
03228  2BB9  00 
03228  2BBA  00 
03228  2BBB  0C 
03228  2BBC  0C 
03228  2BBD  00 
03229  2BBE              ; 1X   0  1 2 3 4 5 6 7
03230  2BBE  14          .BYTE  20,24,0,0,0,8,8,0
03230  2BBF  18 
03230  2BC0  00 
03230  2BC1  00 






DISASSEMBLER20......PAGE 0068

LINE# LOC   CODE        LINE


03230  2BC2  00 
03230  2BC3  08 
03230  2BC4  08 
03230  2BC5  00 
03231  2BC6              ;      8  9 A B C D E F
03232  2BC6  12          .BYTE  18,16,0,0,0,14,14,0
03232  2BC7  10 
03232  2BC8  00 
03232  2BC9  00 
03232  2BCA  00 
03232  2BCB  0E 
03232  2BCC  0E 
03232  2BCD  00 
03233  2BCE              ; 2X   0  1 2 3 4 5 6 7
03234  2BCE  0C          .BYTE  12,22,0,0,6,6,6,0
03234  2BCF  16 
03234  2BD0  00 
03234  2BD1  00 
03234  2BD2  06 
03234  2BD3  06 
03234  2BD4  06 
03234  2BD5  00 
03235  2BD6              ;.BYTE 12,22,0,0,28,6,6,0
03236  2BD6              ;      8  9 A B C D E F
03237  2BD6  12          .BYTE  18,4,2,0,12,12,12,0
03237  2BD7  04 
03237  2BD8  02 
03237  2BD9  00 
03237  2BDA  0C 
03237  2BDB  0C 
03237  2BDC  0C 
03237  2BDD  00 
03238  2BDE              ;.BYTE 18,4,2,0,30,12,12,0
03239  2BDE              ; 3X   0  1 2 3 4 5 6 7
03240  2BDE  14          .BYTE  20,24,0,0,0,8,8,0
03240  2BDF  18 
03240  2BE0  00 
03240  2BE1  00 
03240  2BE2  00 
03240  2BE3  08 
03240  2BE4  08 
03240  2BE5  00 
03241  2BE6              ;      8  9 A B C D E F
03242  2BE6  12          .BYTE  18,16,0,0,0,14,14,0
03242  2BE7  10 
03242  2BE8  00 
03242  2BE9  00 
03242  2BEA  00 
03242  2BEB  0E 
03242  2BEC  0E 
03242  2BED  00 
03243  2BEE              ; 4X   0  1 2 3 4 5 6 7
03244  2BEE  12          .BYTE  18,22,0,0,0,6,6,0
03244  2BEF  16 
03244  2BF0  00 






DISASSEMBLER20......PAGE 0069

LINE# LOC   CODE        LINE


03244  2BF1  00 
03244  2BF2  00 
03244  2BF3  06 
03244  2BF4  06 
03244  2BF5  00 
03245  2BF6              ;      8  9 A B C D E F
03246  2BF6  12          .BYTE  18,4,2,0,12,12,12,0
03246  2BF7  04 
03246  2BF8  02 
03246  2BF9  00 
03246  2BFA  0C 
03246  2BFB  0C 
03246  2BFC  0C 
03246  2BFD  00 
03247  2BFE              ; 5X   0  1 2 3 4 5 6 7
03248  2BFE  14          .BYTE  20,24,0,0,0,8,8,0
03248  2BFF  18 
03248  2C00  00 
03248  2C01  00 
03248  2C02  00 
03248  2C03  08 
03248  2C04  08 
03248  2C05  00 
03249  2C06              ;      8  9 A B C D E F
03250  2C06  12          .BYTE  18,16,0,0,0,14,14,0
03250  2C07  10 
03250  2C08  00 
03250  2C09  00 
03250  2C0A  00 
03250  2C0B  0E 
03250  2C0C  0E 
03250  2C0D  00 
03251  2C0E              ; 6X   0  1 2 3 4 5 6 7
03252  2C0E  12          .BYTE  18,22,0,0,0,6,6,0
03252  2C0F  16 
03252  2C10  00 
03252  2C11  00 
03252  2C12  00 
03252  2C13  06 
03252  2C14  06 
03252  2C15  00 
03253  2C16              ;      8  9 A B C D E F
03254  2C16  12          .BYTE  18,4,2,0,26,12,12,0
03254  2C17  04 
03254  2C18  02 
03254  2C19  00 
03254  2C1A  1A 
03254  2C1B  0C 
03254  2C1C  0C 
03254  2C1D  00 
03255  2C1E              ; 7X   0  1 2 3 4 5 6 7
03256  2C1E  14          .BYTE  20,24,0,0,0,8,8,0
03256  2C1F  18 
03256  2C20  00 
03256  2C21  00 






DISASSEMBLER20......PAGE 0070

LINE# LOC   CODE        LINE


03256  2C22  00 
03256  2C23  08 
03256  2C24  08 
03256  2C25  00 
03257  2C26              ;      8  9 A B C D E F
03258  2C26  12          .BYTE  18,16,0,0,0,14,14,0
03258  2C27  10 
03258  2C28  00 
03258  2C29  00 
03258  2C2A  00 
03258  2C2B  0E 
03258  2C2C  0E 
03258  2C2D  00 
03259  2C2E              ; 8X   0  1 2 3 4 5 6 7
03260  2C2E  00          .BYTE  0,22,0,0,6,6,6,0
03260  2C2F  16 
03260  2C30  00 
03260  2C31  00 
03260  2C32  06 
03260  2C33  06 
03260  2C34  06 
03260  2C35  00 
03261  2C36              ;      8  9 A B C D E F
03262  2C36  12          .BYTE  18,0,18,0,12,12,12,0
03262  2C37  00 
03262  2C38  12 
03262  2C39  00 
03262  2C3A  0C 
03262  2C3B  0C 
03262  2C3C  0C 
03262  2C3D  00 
03263  2C3E              ; 9X   0  1 2 3 4 5 6 7
03264  2C3E  14          .BYTE  20,24,0,0,8,8,10,0
03264  2C3F  18 
03264  2C40  00 
03264  2C41  00 
03264  2C42  08 
03264  2C43  08 
03264  2C44  0A 
03264  2C45  00 
03265  2C46              ;      8  9 A B C D E F
03266  2C46  12          .BYTE  18,16,18,0,0,14,0,0
03266  2C47  10 
03266  2C48  12 
03266  2C49  00 
03266  2C4A  00 
03266  2C4B  0E 
03266  2C4C  00 
03266  2C4D  00 
03267  2C4E              ; AX   0  1 2 3 4 5 6 7
03268  2C4E  04          .BYTE  4,22,4,0,6,6,6,0
03268  2C4F  16 
03268  2C50  04 
03268  2C51  00 
03268  2C52  06 






DISASSEMBLER20......PAGE 0071

LINE# LOC   CODE        LINE


03268  2C53  06 
03268  2C54  06 
03268  2C55  00 
03269  2C56              ;      8  9 A B C D E F
03270  2C56  12          .BYTE  18,4,18,0,12,12,12,0
03270  2C57  04 
03270  2C58  12 
03270  2C59  00 
03270  2C5A  0C 
03270  2C5B  0C 
03270  2C5C  0C 
03270  2C5D  00 
03271  2C5E              ; BX   0  1 2 3 4 5 6 7
03272  2C5E  14          .BYTE  20,24,0,0,8,8,10,0
03272  2C5F  18 
03272  2C60  00 
03272  2C61  00 
03272  2C62  08 
03272  2C63  08 
03272  2C64  0A 
03272  2C65  00 
03273  2C66              ;      8  9 A B C D E F
03274  2C66  12          .BYTE  18,16,18,0,14,14,16,0
03274  2C67  10 
03274  2C68  12 
03274  2C69  00 
03274  2C6A  0E 
03274  2C6B  0E 
03274  2C6C  10 
03274  2C6D  00 
03275  2C6E              ; CX   0  1 2 3 4 5 6 7
03276  2C6E  04          .BYTE  4,22,0,0,6,6,6,0
03276  2C6F  16 
03276  2C70  00 
03276  2C71  00 
03276  2C72  06 
03276  2C73  06 
03276  2C74  06 
03276  2C75  00 
03277  2C76              ;      8  9 A B C D E F
03278  2C76  12          .BYTE  18,4,18,0,12,12,12,0
03278  2C77  04 
03278  2C78  12 
03278  2C79  00 
03278  2C7A  0C 
03278  2C7B  0C 
03278  2C7C  0C 
03278  2C7D  00 
03279  2C7E              ; DX   0  1 2 3 4 5 6 7
03280  2C7E  14          .BYTE  20,24,0,0,0,8,8,0
03280  2C7F  18 
03280  2C80  00 
03280  2C81  00 
03280  2C82  00 
03280  2C83  08 






DISASSEMBLER20......PAGE 0072

LINE# LOC   CODE        LINE


03280  2C84  08 
03280  2C85  00 
03281  2C86              ;      8  9 A B C D E F
03282  2C86  12          .BYTE  18,16,0,0,0,14,14,0
03282  2C87  10 
03282  2C88  00 
03282  2C89  00 
03282  2C8A  00 
03282  2C8B  0E 
03282  2C8C  0E 
03282  2C8D  00 
03283  2C8E              ; EX   0  1 2 3 4 5 6 7
03284  2C8E  04          .BYTE  4,22,0,0,6,6,6,0
03284  2C8F  16 
03284  2C90  00 
03284  2C91  00 
03284  2C92  06 
03284  2C93  06 
03284  2C94  06 
03284  2C95  00 
03285  2C96              ;      8  9 A B C D E F
03286  2C96  12          .BYTE  18,4,18,0,12,12,12,0
03286  2C97  04 
03286  2C98  12 
03286  2C99  00 
03286  2C9A  0C 
03286  2C9B  0C 
03286  2C9C  0C 
03286  2C9D  00 
03287  2C9E              ; FX   0  1 2 3 4 5 6 7
03288  2C9E  14          .BYTE  20,24,0,0,0,8,8,0
03288  2C9F  18 
03288  2CA0  00 
03288  2CA1  00 
03288  2CA2  00 
03288  2CA3  08 
03288  2CA4  08 
03288  2CA5  00 
03289  2CA6              ;      8  9 A B C D E F
03290  2CA6  12          .BYTE  18,16,0,0,0,14,14,0
03290  2CA7  10 
03290  2CA8  00 
03290  2CA9  00 
03290  2CAA  00 
03290  2CAB  0E 
03290  2CAC  0E 
03290  2CAD  00 
03291  2CAE              ;*********************************
03292  2CAE              ;.FIL 0:SYM.ASM
03293  2CAE              ;*********************************
03294  2CAE              .END
03295  2CAE              ;*********************************
03296  2CAE              .LIB   SYM.ASM
03297  2CAE              ;*********************************
03298  2CAE              ; FILE SYMBOL.ASM






DISASSEMBLER20......PAGE 0073

LINE# LOC   CODE        LINE


03299  2CAE              ;*********************************
03300  2CAE              ;
03301  2CAE              ;        DISASSEMBLER64
03302  2CAE              ;    SYMBOLIC DISASSEMBLER
03303  2CAE              ;       BY DENTON MARLOWE
03304  2CAE              ;
03305  2CAE              ;  (C)1986 BY DENTON MARLOWE
03306  2CAE              ;
03307  2CAE              ;*********************************
03308  2CAE              ; SYMBOLIC ROUTINES
03309  2CAE              ;*********************************
03310  2CAE              ; SYMBOLIC DISASSEMBLY OPTION
03311  2CAE              ;*********************************
03312  2CAE  A9 1B       SOP    LDA #<MSS1      ;LOW BYTE MESSAGE
03313  2CB0  A0 30              LDY #>MSS1      ;HIGH BYTE MESSAGE
03314  2CB2  20 A9 1D           JSR STRPNT      ;OUTPUT MESSAGE
03315  2CB5              ;      JSR CRNO    ;GET KEY PRESS
03316  2CB5  20 71 1D           JSR CRYS
03317  2CB8  90 08              BCC SOP1        ;C=0 YES
03318  2CBA              ;*********************************
03319  2CBA              ; ABSOLUTE DISASSEMBLY SELECTED
03320  2CBA              ;*********************************
03321  2CBA  A9 00              LDA #$00        ;SET SYMBLOIC FLAG
03322  2CBC  8D 38 12           STA SYMBOL      ;STORE FLAG
03323  2CBF  4C 0B 2D           JMP SY          ;FOR INTERNAL
03324  2CC2              ;*********************************
03325  2CC2              ; SYMBOLIC DISASSEMBLY SELECTED
03326  2CC2              ;*********************************
03327  2CC2  A9 01       SOP1   LDA #$01        ;SET SYMBOLIC FLAG
03328  2CC4  8D 38 12           STA SYMBOL      ;STORE FLAG
03329  2CC7              ;*********************************
03330  2CC7              ; SETUP START OF TABLE POINTER
03331  2CC7              ;*********************************
03332  2CC7  A9 66              LDA #<STABLE
03333  2CC9  8D 3B 12           STA SYMBOS
03334  2CCC  8D 39 12           STA SYMBOP
03335  2CCF  A9 39              LDA #>STABLE
03336  2CD1  8D 3C 12           STA SYMBOS+1
03337  2CD4  8D 3A 12           STA SYMBOP+1
03338  2CD7              ;*********************************
03339  2CD7              ; CHECK FOR SYMBOL TABLE OPTION
03340  2CD7              ;*********************************
03341  2CD7  A9 40       SYTAB  LDA #<MSS2      ;LOW BYTE MESSAGE
03342  2CD9  A0 30              LDY #>MSS2      ;HIGH BYTE MESSAGE
03343  2CDB  20 A9 1D           JSR STRPNT      ;OUTPUT MESSAGE
03344  2CDE  20 7E 1D           JSR CRNO        ;GET KEY PRESS
03345  2CE1  B0 28              BCS SY          ;C=1 NO
03346  2CE3              ;*********************************
03347  2CE3              ; APPEND SYMBOL TABLE
03348  2CE3              ;*********************************
03349  2CE3  A9 86              LDA #<MSS4
03350  2CE5  A0 30              LDY #>MSS4
03351  2CE7  20 A9 1D           JSR STRPNT
03352  2CEA  20 7E 1D           JSR CRNO
03353  2CED  B0 0A              BCS SOP4






DISASSEMBLER20......PAGE 0074

LINE# LOC   CODE        LINE


03354  2CEF  A9 E9              LDA #<UTABLE
03355  2CF1  8D 39 12           STA SYMBOP
03356  2CF4  A9 3A              LDA #>UTABLE
03357  2CF6  8D 3A 12           STA SYMBOP+1
03358  2CF9              ;*********************************
03359  2CF9              ; GO AND LOAD TABLE
03360  2CF9              ;*********************************
03361  2CF9  20 9E 2E    SOP4   JSR READXX      ;READ FILE
03362  2CFC  B0 0D              BCS SY          ;C=1 ERROR
03363  2CFE              ;*********************************
03364  2CFE              ; SETUP END OF TABLE POINTER
03365  2CFE              ;*********************************
03366  2CFE  AD 39 12           LDA SYMBOP      ;XREF POINTER
03367  2D01  8D 3D 12           STA SYMBOE
03368  2D04  AD 3A 12           LDA SYMBOP+1
03369  2D07  8D 3E 12           STA SYMBOE+1
03370  2D0A  60                 RTS
03371  2D0B              ;*********************************
03372  2D0B              ; DEFAULT SYMBOL TABLE END
03373  2D0B              ;*********************************
03374  2D0B  A9 E9       SY     LDA #<UTABLE
03375  2D0D  8D 3D 12           STA SYMBOE
03376  2D10  A9 3A              LDA #>UTABLE
03377  2D12  8D 3E 12           STA SYMBOE+1
03378  2D15  60                 RTS
03379  2D16              ;*********************************
03380  2D16              ; SET OR RESET SYMBOL TABLE
03381  2D16              ;*********************************
03382  2D16  AD 3B 12    SSET   LDA SYMBOS
03383  2D19  8D 39 12           STA SYMBOP
03384  2D1C  AD 3C 12           LDA SYMBOS+1
03385  2D1F  8D 3A 12           STA SYMBOP+1
03386  2D22  60                 RTS
03387  2D23              ;*********************************
03388  2D23              ; EQUATE TABLE SETUP
03389  2D23              ;*********************************
03390  2D23  AD 32 12    EQUINT LDA TABINE
03391  2D26  8D 2E 12           STA TABINP
03392  2D29  8D 30 12           STA TABINS
03393  2D2C  AD 33 12           LDA TABINE+1
03394  2D2F  8D 2F 12           STA TABINP+1
03395  2D32  8D 31 12           STA TABINS+1
03396  2D35  60                 RTS
03397  2D36              ;*********************************
03398  2D36              ; ENTRY POINT FOR ADDRESS
03399  2D36              ;*********************************
03400  2D36  AD 38 12    SYM    LDA SYMBOL
03401  2D39  F0 43              BEQ SYMEND
03402  2D3B  AD 22 12           LDA SELECT      ;COPY SELECT
03403  2D3E  8D 45 12           STA WORKED      ;ADDRESS INTO
03404  2D41  AD 23 12           LDA SELECT+1    ;WORKED
03405  2D44  8D 46 12           STA WORKED+1
03406  2D47  4C 4F 2D           JMP SYM1        ;CHECK FOR MATCH
03407  2D4A              ;*********************************
03408  2D4A              ; ENTRY POINT FOR OPCODES






DISASSEMBLER20......PAGE 0075

LINE# LOC   CODE        LINE


03409  2D4A              ;*********************************
03410  2D4A  AD 38 12    SYMOP  LDA SYMBOL
03411  2D4D  F0 2F              BEQ SYMEND
03412  2D4F              ;*********************************
03413  2D4F              ; COMPARE ADDRESS TO SYMBOL TABLE
03414  2D4F              ;*********************************
03415  2D4F  20 16 2D    SYM1   JSR SSET
03416  2D52  20 1F 2E    SYM2   JSR GETC
03417  2D55  8D 48 12           STA WORKER+1
03418  2D58  20 16 2E           JSR INCC
03419  2D5B  20 1F 2E           JSR GETC
03420  2D5E  8D 47 12           STA WORKER
03421  2D61              ;*********************************
03422  2D61  38                 SEC             ;SET CARRY
03423  2D62  AD 47 12           LDA WORKER
03424  2D65  ED 45 12           SBC WORKED      ;SUB FROM LOW
03425  2D68  8D 51 12           STA TEMP        ;STORE RESULT
03426  2D6B  AD 48 12           LDA WORKER+1
03427  2D6E  ED 46 12           SBC WORKED+1    ;SUB FROM HIGH
03428  2D71  0D 51 12           ORA TEMP        ;OR RESULTS
03429  2D74  F0 0A              BEQ MATCH       ;CHECK FOR MATCH
03430  2D76  20 F2 2D           JSR NEXTC       ;IF NOT NEXT
03431  2D79  B0 03              BCS SYMEND      ;END OF TABLE?
03432  2D7B  4C 52 2D           JMP SYM2        ;NO CHECK NEXT
03433  2D7E  18          SYMEND CLC             ;NO MATCHES CLEAR
03434  2D7F  60                 RTS             ;RETURN
03435  2D80              ;*********************************
03436  2D80              ; FOUND MATCH
03437  2D80              ;*********************************
03438  2D80  AD 12 12    MATCH  LDA PASS        ;CHECK PASS
03439  2D83  CD 15 12           CMP CPASS       ;IS IT LAST
03440  2D86  F0 18              BEQ MATCHS      ;IF SO PRINT
03441  2D88  CD 16 12           CMP SPASS
03442  2D8B  F0 3A              BEQ MATCHT
03443  2D8D  20 2A 24           JSR RANGE       ;SYMBOL IN RANGE
03444  2D90  90 3F              BCC MATEXT      ;NO INTERNAL EQ
03445  2D92  20 16 2E           JSR INCC        ;INC TO SYMBOL
03446  2D95  20 1F 2E           JSR GETC        ;GET FIRST CHAR
03447  2D98  C9 20              CMP #$20        ;SPACE
03448  2D9A  F0 03              BEQ MATONE      ;NOT EQUATE
03449  2D9C  4C A1 24           JMP PUTI        ;PUT IN EQUATE
03450  2D9F  60          MATONE RTS             ;RETURN
03451  2DA0              ;*********************************
03452  2DA0              ; CHECK FOR SYMBOL+1
03453  2DA0              ;*********************************
03454  2DA0  20 16 2E    MATCHS JSR INCC        ;INC TO LABEL
03455  2DA3  20 1F 2E           JSR GETC        ;GET CHARARCTER
03456  2DA6  C9 20              CMP #$20        ;IS IT SPACE
03457  2DA8  D0 1D              BNE MATCHT      ;IF NOT GO ON
03458  2DAA  38                 SEC             ;SET CARRY
03459  2DAB  AD 39 12           LDA SYMBOP      ;GET LOW POINT
03460  2DAE  E9 09              SBC #$09        ;LAST SYMBOL
03461  2DB0  48                 PHA             ;PUSH ON STACK
03462  2DB1  AD 3A 12           LDA SYMBOP+1    ;GET HIGH POINT
03463  2DB4  E9 00              SBC #$00        ;LAST SYMBOL






DISASSEMBLER20......PAGE 0076

LINE# LOC   CODE        LINE


03464  2DB6  A8                 TAY             ;PUT IN Y
03465  2DB7  68                 PLA             ;GET LO POINT
03466  2DB8  20 D2 2D           JSR STRSYM      ;PRINT SYMBOL
03467  2DBB  A9 2B              LDA #'+'         ;ASCII +
03468  2DBD  20 FF 1D           JSR PCHAR       ;PRINT IT
03469  2DC0  A9 31              LDA #'1'         ;ASCII 1
03470  2DC2  20 FF 1D           JSR PCHAR       ;PRINT IT
03471  2DC5  38                 SEC             ;C=1 SYMBOL
03472  2DC6  60                 RTS             ;RETURN
03473  2DC7              ;*********************************
03474  2DC7  AD 39 12    MATCHT LDA SYMBOP      ;LOW BYTE LABEL
03475  2DCA  AC 3A 12           LDY SYMBOP+1    ;HIGH BYTE LABEL
03476  2DCD  20 D2 2D           JSR STRSYM      ;PRINT LABEL
03477  2DD0              ;*********************************
03478  2DD0  38                 SEC             ;MATCH SET CARRY
03479  2DD1  60          MATEXT RTS             ;RETURN
03480  2DD2              ;*********************************
03481  2DD2              ; PRINT SYMBOL
03482  2DD2              ;*********************************
03483  2DD2  85 02       STRSYM STA ZEROUR
03484  2DD4  84 03              STY ZEROUR+1
03485  2DD6  A0 00              LDY #$00
03486  2DD8  B1 02       STRSY1 LDA (ZEROUR),Y
03487  2DDA  F0 0A              BEQ SYEXIT
03488  2DDC  C9 20              CMP #$20
03489  2DDE  F0 06              BEQ SYEXIT
03490  2DE0  20 FF 1D           JSR PCHAR
03491  2DE3  C8                 INY
03492  2DE4  D0 F2              BNE STRSY1
03493  2DE6  60          SYEXIT RTS
03494  2DE7  B1 02       FIXSYM LDA (ZEROUR),Y
03495  2DE9  F0 FB              BEQ SYEXIT
03496  2DEB  20 FF 1D           JSR PCHAR
03497  2DEE  C8                 INY
03498  2DEF  4C E7 2D           JMP FIXSYM
03499  2DF2              ;*********************************
03500  2DF2              ; INC SYMBOL ADDRESS TABLE POINTER
03501  2DF2              ;*********************************
03502  2DF2  18          NEXTC  CLC
03503  2DF3  AD 39 12           LDA SYMBOP
03504  2DF6  69 08              ADC #$08
03505  2DF8  8D 39 12           STA SYMBOP
03506  2DFB  AD 3A 12           LDA SYMBOP+1
03507  2DFE  69 00              ADC #$00
03508  2E00  8D 3A 12           STA SYMBOP+1
03509  2E03  CD 3E 12           CMP SYMBOE+1
03510  2E06  90 0A              BCC COK
03511  2E08  D0 0A              BNE NCOK
03512  2E0A  AD 39 12           LDA SYMBOP
03513  2E0D  CD 3D 12           CMP SYMBOE
03514  2E10  B0 02              BCS NCOK
03515  2E12  18          COK    CLC
03516  2E13  60                 RTS
03517  2E14  38          NCOK   SEC
03518  2E15  60                 RTS






DISASSEMBLER20......PAGE 0077

LINE# LOC   CODE        LINE


03519  2E16              ;*********************************
03520  2E16  EE 39 12    INCC   INC SYMBOP
03521  2E19  D0 03              BNE *+5
03522  2E1B  EE 3A 12           INC SYMBOP+1
03523  2E1E  60                 RTS
03524  2E1F              ;*********************************
03525  2E1F              ; GET BYTE FROM ADDRESS TABLE
03526  2E1F              ;*********************************
03527  2E1F  AD 39 12    GETC   LDA SYMBOP
03528  2E22  85 02              STA ZEROUR
03529  2E24  AD 3A 12           LDA SYMBOP+1
03530  2E27  85 03              STA ZEROUR+1
03531  2E29  A0 00              LDY #$00
03532  2E2B  B1 02              LDA (ZEROUR),Y
03533  2E2D  60                 RTS
03534  2E2E              ;*********************************
03535  2E2E              ; PRINT EQUATE TABLE
03536  2E2E              ;*********************************
03537  2E2E  38          EQUPRT SEC
03538  2E2F  AD 30 12           LDA TABINS
03539  2E32  ED 32 12           SBC TABINE
03540  2E35  8D 51 12           STA TEMP
03541  2E38  AD 31 12           LDA TABINS+1
03542  2E3B  ED 33 12           SBC TABINE+1
03543  2E3E  0D 51 12           ORA TEMP
03544  2E41  F0 55              BEQ EQUEND
03545  2E43  20 4C 25           JSR SORT
03546  2E46  20 4F 22           JSR COMENT
03547  2E49  20 17 24           JSR PRTOTH
03548  2E4C  A9 1D              LDA #<EQUATE
03549  2E4E  A0 31              LDY #>EQUATE
03550  2E50  20 A9 1D           JSR STRPNT
03551  2E53  20 EC 1C           JSR NEWLIN
03552  2E56  20 4F 22           JSR COMENT
03553  2E59  20 F1 24    EQUOP  JSR GETI
03554  2E5C  8D 45 12           STA WORKED
03555  2E5F  20 E8 24           JSR INCI
03556  2E62  20 F1 24           JSR GETI
03557  2E65  8D 46 12           STA WORKED+1
03558  2E68  20 17 24           JSR PRTOTH
03559  2E6B  20 4A 2D           JSR SYMOP
03560  2E6E  B0 03              BCS EQUOP1
03561  2E70  20 AD 22           JSR PWORK
03562  2E73  A9 3D       EQUOP1 LDA #'='
03563  2E75  20 FF 1D           JSR PCHAR
03564  2E78  A9 24              LDA #'$'
03565  2E7A  20 FF 1D           JSR PCHAR
03566  2E7D  20 B0 22           JSR PWORKD
03567  2E80  20 EC 1C           JSR NEWLIN
03568  2E83              ;*********************************
03569  2E83  20 E8 24           JSR INCI
03570  2E86  AD 2F 12           LDA TABINP+1
03571  2E89  CD 33 12           CMP TABINE+1
03572  2E8C  90 CB              BCC EQUOP
03573  2E8E  D0 08              BNE EQUEND






DISASSEMBLER20......PAGE 0078

LINE# LOC   CODE        LINE


03574  2E90  AD 2E 12           LDA TABINP
03575  2E93  CD 32 12           CMP TABINE
03576  2E96  90 C1              BCC EQUOP
03577  2E98              ;*********************************
03578  2E98  20 4F 22    EQUEND JSR COMENT
03579  2E9B  4C 88 24           JMP RESINT
03580  2E9E              ;*********************************
03581  2E9E              ; READ CROSS REFERENCE SEQ FILE
03582  2E9E              ;      INTO SYMBOL TABLE
03583  2E9E              ;*********************************
03584  2E9E              ; READ FILE NAME DEFAULT ON CR
03585  2E9E              ;*********************************
03586  2E9E  A9 67       READXX LDA #<MSS3
03587  2EA0  A0 30              LDY #>MSS3
03588  2EA2  20 A9 1D           JSR STRPNT
03589  2EA5  20 E4 FF    SOP2   JSR GETIN
03590  2EA8  F0 FB              BEQ SOP2
03591  2EAA  C9 30              CMP #'0'
03592  2EAC  F0 04              BEQ SOP3
03593  2EAE  C9 31              CMP #'1'
03594  2EB0  D0 F3              BNE SOP2
03595  2EB2  20 D2 FF    SOP3   JSR CHROUT
03596  2EB5  8D E6 12           STA TEXTER
03597  2EB8              ;*********************************
03598  2EB8  A9 AB              LDA #<LOADF
03599  2EBA  A0 30              LDY #>LOADF
03600  2EBC  20 A9 1D           JSR STRPNT
03601  2EBF              ;*********************************
03602  2EBF  20 0A 1D           JSR INSTNG
03603  2EC2  F0 20              BEQ READXF
03604  2EC4  98                 TYA
03605  2EC5  48                 PHA
03606  2EC6  20 AC 16           JSR INITD
03607  2EC9  68                 PLA
03608  2ECA  A8                 TAY
03609  2ECB  A2 00              LDX #$00
03610  2ECD  BD 17 30    XFILE1 LDA NAMS,X
03611  2ED0  99 5C 12           STA BUF,Y
03612  2ED3  C8                 INY
03613  2ED4  E8                 INX
03614  2ED5  E0 04              CPX #$04
03615  2ED7  D0 F4              BNE XFILE1
03616  2ED9  98                 TYA
03617  2EDA  A0 12              LDY #>BUF
03618  2EDC  A2 5C              LDX #<BUF
03619  2EDE  20 BD FF           JSR SETNAM
03620  2EE1  4C ED 2E           JMP REOPEN
03621  2EE4              ;*********************************
03622  2EE4              ; DEFAULT FILENAME XRFF0000
03623  2EE4              ;********************************
03624  2EE4  A9 0E       READXF LDA #$0E
03625  2EE6  A0 30              LDY #>NAME
03626  2EE8  A2 0D              LDX #<NAME
03627  2EEA  20 BD FF           JSR SETNAM
03628  2EED              ;*********************************






DISASSEMBLER20......PAGE 0079

LINE# LOC   CODE        LINE


03629  2EED              ; OPEN FILE
03630  2EED              ;********************************
03631  2EED  A9 03       REOPEN LDA #$03
03632  2EEF  A2 08              LDX #$08
03633  2EF1  A0 03              LDY #$03
03634  2EF3  20 BA FF           JSR SETLFS
03635  2EF6  20 C0 FF           JSR OPEN
03636  2EF9              ;********************************
03637  2EF9              ; CHECK FOR DISK ERROR
03638  2EF9              ;*********************************
03639  2EF9  20 B2 1C           JSR DISERR
03640  2EFC  B0 3F              BCS QUITXX
03641  2EFE              ;*********************************
03642  2EFE              ; OUTPUT LOADING MESSAGE
03643  2EFE              ;*********************************
03644  2EFE  A9 CB              LDA #<LOADM     ;MSG LOW
03645  2F00  A0 30              LDY #>LOADM     ;MSG HIGH
03646  2F02  20 A9 1D           JSR STRPNT      ;OUTPUT MSG
03647  2F05              ;*********************************
03648  2F05  A9 00              LDA #$00        ;COL COUNTER
03649  2F07  8D 51 12           STA TEMP
03650  2F0A              ;*********************************
03651  2F0A              ; INPUT AND LOAD SYMBOL TABLE
03652  2F0A              ;*********************************
03653  2F0A  20 4E 2F    READX  JSR READS       ;INPUT SYMBOL
03654  2F0D  20 CC 2F           JSR PUTC
03655  2F10  20 F4 2F           JSR LINES       ;SCREEN OUT
03656  2F13  20 E1 FF           JSR STOP
03657  2F16  F0 05              BEQ QUITX
03658  2F18  20 B7 FF           JSR READST
03659  2F1B  F0 ED              BEQ READX
03660  2F1D              ;*********************************
03661  2F1D              ;    CLOSE OPEN FILE
03662  2F1D              ;*********************************
03663  2F1D  A9 03       QUITX  LDA #$03
03664  2F1F  20 C3 FF           JSR CLOSE
03665  2F22  20 CC FF           JSR CLRCHN
03666  2F25  20 E1 22           JSR CRLF
03667  2F28              ;*********************************
03668  2F28              ; SET END OF TABLE
03669  2F28              ;*********************************
03670  2F28  AD 39 12           LDA SYMBOP
03671  2F2B  8D 3D 12           STA SYMBOE
03672  2F2E  AD 3A 12           LDA SYMBOP+1
03673  2F31  8D 3E 12           STA SYMBOE+1
03674  2F34              ;*********************************
03675  2F34              ; OUTPUT LOADED MESSAGE
03676  2F34              ;*********************************
03677  2F34  A9 E9              LDA #<LOADC
03678  2F36  A0 30              LDY #>LOADC
03679  2F38  20 A9 1D           JSR STRPNT
03680  2F3B  18                 CLC
03681  2F3C  60                 RTS
03682  2F3D              ;*********************************
03683  2F3D              ; OUTPUT ERROR MESSAGE






DISASSEMBLER20......PAGE 0080

LINE# LOC   CODE        LINE


03684  2F3D              ;*********************************
03685  2F3D  A9 03       QUITXX LDA #$03
03686  2F3F  20 C3 FF           JSR CLOSE
03687  2F42  20 CC FF           JSR CLRCHN
03688  2F45  A9 01              LDA #<LOADE
03689  2F47  A0 31              LDY #>LOADE
03690  2F49  20 A9 1D           JSR STRPNT
03691  2F4C  38                 SEC
03692  2F4D  60                 RTS
03693  2F4E              ;*********************************
03694  2F4E              ; READ SYMBOL FROM FILE
03695  2F4E              ;*********************************
03696  2F4E  A2 03       READS  LDX #$03        ;FILE NUMBER
03697  2F50  20 C6 FF           JSR CHKIN       ;FILE IS INPUT
03698  2F53  A0 02              LDY #$02        ;COUNTER
03699  2F55  20 CF FF           JSR CHRIN       ;INPUT CHAR
03700  2F58  99 DA 12           STA SYMBUF,Y    ;1ST CHAR
03701  2F5B  20 D2 FF           JSR CHROUT      ;PRITN IT
03702  2F5E  C8                 INY             ;INC POINTER
03703  2F5F  20 CF FF    READY  JSR CHRIN       ;NEXT CHAR
03704  2F62  99 DA 12           STA SYMBUF,Y    ;STORE
03705  2F65  20 D2 FF           JSR CHROUT      ;PRINT IT
03706  2F68  C8                 INY             ;INC OFFSET
03707  2F69  C0 08              CPY #$08        ;8 IS FOR NULL
03708  2F6B  D0 F2              BNE READY       ;BRANCH IF NOT
03709  2F6D  A9 00              LDA #$00        ;NULL MARKER
03710  2F6F  99 DA 12           STA SYMBUF,Y    ;STORE AT END
03711  2F72              ;*********************************
03712  2F72  20 F3 22           JSR SPACE       ;PRINT SPACE
03713  2F75  20 BE 22           JSR DOLLAR      ;PRINT $ SIGN
03714  2F78              ;*********************************
03715  2F78  AD E6 12           LDA TEXTER
03716  2F7B  C9 30              CMP #'0'
03717  2F7D  F0 2F              BEQ STDREF
03718  2F7F              ;*********************************
03719  2F7F  A0 00              LDY #$00
03720  2F81  20 8E 2F           JSR XGET
03721  2F84  C8                 INY
03722  2F85  20 8E 2F           JSR XGET
03723  2F88  20 CF FF           JSR CHRIN       ;GET $0D
03724  2F8B  4C CC FF           JMP CLRCHN
03725  2F8E              ;*********************************
03726  2F8E  20 CF FF    XGET   JSR CHRIN
03727  2F91  20 D2 FF           JSR CHROUT
03728  2F94  20 5A 1D           JSR BINARY
03729  2F97  0A                 ASL A
03730  2F98  0A                 ASL A
03731  2F99  0A                 ASL A
03732  2F9A  0A                 ASL A
03733  2F9B  99 DA 12           STA SYMBUF,Y
03734  2F9E  20 CF FF           JSR CHRIN
03735  2FA1  20 D2 FF           JSR CHROUT
03736  2FA4  20 5A 1D           JSR BINARY
03737  2FA7  19 DA 12           ORA SYMBUF,Y
03738  2FAA  99 DA 12           STA SYMBUF,Y






DISASSEMBLER20......PAGE 0081

LINE# LOC   CODE        LINE


03739  2FAD  60                 RTS
03740  2FAE              ;*********************************
03741  2FAE  A0 00       STDREF LDY #$00        ;ZERO OFFSET
03742  2FB0  20 CF FF           JSR CHRIN       ;HIGH BYTES
03743  2FB3  99 DA 12           STA SYMBUF,Y    ;
03744  2FB6  8C 54 12           STY SAVY        ;
03745  2FB9  20 93 1D           JSR PRBYT       ;
03746  2FBC  AC 54 12           LDY SAVY        ;
03747  2FBF  C8                 INY             ;
03748  2FC0  20 CF FF           JSR CHRIN       ;LOW BYTE
03749  2FC3  99 DA 12           STA SYMBUF,Y    ;
03750  2FC6  20 93 1D           JSR PRBYT       ;
03751  2FC9  4C CC FF           JMP CLRCHN      ;KEYBOARD INPUT
03752  2FCC              ;*********************************
03753  2FCC              ; MOVE SYMBOL FROM BUFFER TO TABLE
03754  2FCC              ;*********************************
03755  2FCC  A0 00       PUTC   LDY #$00
03756  2FCE  AD 39 12           LDA SYMBOP
03757  2FD1  85 02              STA ZEROUR
03758  2FD3  AD 3A 12           LDA SYMBOP+1
03759  2FD6  85 03              STA ZEROUR+1
03760  2FD8  B9 DA 12    PUT    LDA SYMBUF,Y
03761  2FDB  91 02              STA (ZEROUR),Y
03762  2FDD  C8                 INY
03763  2FDE  C0 09              CPY #$09
03764  2FE0  D0 F6              BNE PUT
03765  2FE2  18                 CLC
03766  2FE3  AD 39 12           LDA SYMBOP
03767  2FE6  69 09              ADC #$09
03768  2FE8  8D 39 12           STA SYMBOP
03769  2FEB  AD 3A 12           LDA SYMBOP+1
03770  2FEE  69 00              ADC #$00
03771  2FF0  8D 3A 12           STA SYMBOP+1
03772  2FF3  60                 RTS
03773  2FF4              ;*********************************
03774  2FF4              ; OUTPUT SYMBOL IN 4 COLUMNS
03775  2FF4              ;*********************************
03776  2FF4  EE 51 12    LINES  INC TEMP
03777  2FF7  A9 03              LDA #$03
03778  2FF9  CD 51 12           CMP TEMP
03779  2FFC  F0 05              BEQ RESET
03780  2FFE  A9 2E              LDA #'.'
03781  3000  4C D2 FF           JMP CHROUT
03782  3003  A9 00       RESET  LDA #$00
03783  3005  8D 51 12           STA TEMP
03784  3008  A9 0D              LDA #$0D
03785  300A  4C D2 FF           JMP CHROUT
03786  300D              ;*********************************
03787  300D              ;   COMMAND MESSAGES
03788  300D              ;*********************************
03789  300D  30 3A       NAME   .BYTE '0:XRLL0000'
03790  3017  2C 53       NAMS   .BYTE ',S,R'
03791  301B              ;*********************************
03792  301B  0D          MSS1   .BYTE $0D
03793  301C  0D                 .BYTE $0D






DISASSEMBLER20......PAGE 0082

LINE# LOC   CODE        LINE


03794  301D  53 59              .BYTE 'SYMBOLIC DISASSEMBLY'
03795  3031  0D                 .BYTE $0D
03796  3032  28 59              .BYTE '(Y OR N/CR)? '
03797  303F  00                 .BYTE 0
03798  3040                     
03799  3040  0D                 MSS2 .BYTE $0D
03800  3041  0D                 .BYTE $0D
03801  3042  4C 4F              .BYTE 'LOAD USER'
03802  304B  0D                 .BYTE $0D
03803  304C  53 59              .BYTE 'SYMBOL TABLE'
03804  3058  0D                 .BYTE $0D
03805  3059  28 59              .BYTE '(Y OR N/CR)? '
03806  3066  00                 .BYTE 0
03807  3067                     
03808  3067  0D                 MSS3 .BYTE $0D
03809  3068  0D                 .BYTE $0D
03810  3069  46 4F              .BYTE 'FORMAT'
03811  306F  0D                 .BYTE $0D
03812  3070  30 3D              .BYTE '0=STANDARD'
03813  307A  0D                 .BYTE $0D
03814  307B  31 3D              .BYTE '1=ASCII : '
03815  3085  00                 .BYTE 0
03816  3086                     
03817  3086  0D                 MSS4 .BYTE $0D
03818  3087  0D                 .BYTE $0D
03819  3088  41 50              .BYTE 'APPEND DEFAULT TABLE'
03820  309C  0D                 .BYTE $0D
03821  309D  28 59              .BYTE '(Y OR N/CR)? '
03822  30AA  00                 .BYTE 0
03823  30AB                     
03824  30AB  0D          LOADF  .BYTE $0D
03825  30AC  0D          .BYTE  $0D
03826  30AD  53 59       .BYTE  'SYMBOL TABLE'
03827  30B9  0D          .BYTE  $0D
03828  30BA  28 43       .BYTE  '(CR OR D:NAME): '
03829  30CA  00          .BYTE  0
03830  30CB              .
03831  30CB  0D          LOADM  .BYTE $0D,$0D
03831  30CC  0D 
03832  30CD  52 45       .BYTE  'READING SYMBOL'
03833  30DB  0D          .BYTE  $0D
03834  30DC  54 41       .BYTE  'TABLE FILE'
03835  30E6  0D          .BYTE  $0D,$0D
03835  30E7  0D 
03836  30E8  00          .BYTE  0
03837  30E9              .
03838  30E9  0D          LOADC  .BYTE $0D
03839  30EA  0D          .BYTE  $0D
03840  30EB  53 59       .BYTE  'SYMBOL TABLE'
03841  30F7  0D          .BYTE  $0D
03842  30F8  4C 4F       .BYTE  'LOADED'
03843  30FE  0D          .BYTE  $0D,$0D
03843  30FF  0D 
03844  3100  00          .BYTE  0
03845  3101              .






DISASSEMBLER20......PAGE 0083

LINE# LOC   CODE        LINE


03846  3101  0D          LOADE  .BYTE $0D
03847  3102  0D          .BYTE  $0D
03848  3103  53 59       .BYTE  'SYMBOL TABLE'
03849  310F  0D          .BYTE  $0D
03850  3110  4E 4F       .BYTE  'NOT LOADED'
03851  311A  0D          .BYTE  $0D,$0D
03851  311B  0D 
03852  311C  00          .BYTE  0
03853  311D              ;*********************************
03854  311D  3B 20       EQUATE .BYTE '; EXTERNAL ADDRESS EQUATES'
03855  3137  00                 .BYTE 0
03856  3138              ;*********************************
03857  3138              ; PATCH CODE AREA
03858  3138              ;*********************************
03859  3138              *=*+$0800
03860  3938              ;*********************************
03861  3938              ; BIT INSTRUCTION CODING
03862  3938              ;*********************************
03863  3938              BITOPT = *
03864  3938  A9 07              LDA #<MSB1      ;TABLE TYPE
03865  393A  A0 1B              LDY #>MSB1
03866  393C  20 A9 1D           JSR STRPNT
03867  393F  20 E4 FF    BOP0   JSR GETIN
03868  3942  F0 FB              BEQ BOP0
03869  3944  C9 30              CMP #'0'        ;STANDARD
03870  3946  F0 12              BEQ BSC
03871  3948  C9 31              CMP #'1'        ;$2C ABS
03872  394A  F0 0E              BEQ BSC 
03873  394C  C9 32              CMP #'2'        ;$24 ZP
03874  394E  F0 0A              BEQ BSC
03875  3950  C9 33              CMP #'3'        ;$2C AND $24
03876  3952  F0 06              BEQ BSC
03877  3954  C9 0D              CMP #$0D        ;STANDARD
03878  3956  D0 E7              BNE BOP0
03879  3958  A9 30              LDA #'0'
03880  395A              BSC    = *
03881  395A  48                 PHA             ;STASH INPUT
03882  395B  20 D2 FF           JSR CHROUT      ;OUTPUT FEEDBACK
03883  395E  68                 PLA             ;POP INPUT
03884  395F  49 30              EOR #$30        ;MAKE A NUMBER
03885  3961  8D 65 39           STA BITFLG      ;SET FLAG
03886  3964  60                 RTS
03887  3965              ;*********************************
03888  3965              ; BIT INSTRUCTION CODING FLAG
03889  3965              ;*********************************
03890  3965              BITFLG = *
03891  3965  AA                 .BYTE $AA
03892  3966              ;*********************************
03893  3966              
03894  3966              ;*********************************
03895  3966              ; SYMBOL TABLE
03896  3966              ;*********************************
03897  3966              ;  KERNAL JUMP TABLE
03898  3966              ;*********************************
03899  3966              STABLE = *






DISASSEMBLER20......PAGE 0084

LINE# LOC   CODE        LINE


03900  3966  FF                 .BYTE $FF,$80,'IDBYTE',0
03900  3967  80 
03900  3968  49 44 
03900  396E  00 
03901  396F  FF                 .BYTE $FF,$81,'CINT  ',0
03901  3970  81 
03901  3971  43 49 
03901  3977  00 
03902  3978  FF                 .BYTE $FF,$84,'IOINIT',0
03902  3979  84 
03902  397A  49 4F 
03902  3980  00 
03903  3981  FF                 .BYTE $FF,$87,'RAMTAS',0
03903  3982  87 
03903  3983  52 41 
03903  3989  00 
03904  398A  FF                 .BYTE $FF,$8A,'RESTOR',0
03904  398B  8A 
03904  398C  52 45 
03904  3992  00 
03905  3993  FF                 .BYTE $FF,$8D,'VECTOR',0
03905  3994  8D 
03905  3995  56 45 
03905  399B  00 
03906  399C  FF                 .BYTE $FF,$90,'SETMSG',0
03906  399D  90 
03906  399E  53 45 
03906  39A4  00 
03907  39A5  FF                 .BYTE $FF,$93,'SECOND',0
03907  39A6  93 
03907  39A7  53 45 
03907  39AD  00 
03908  39AE  FF                 .BYTE $FF,$96,'TKSA  ',0
03908  39AF  96 
03908  39B0  54 4B 
03908  39B6  00 
03909  39B7  FF                 .BYTE $FF,$99,'MEMTOP',0
03909  39B8  99 
03909  39B9  4D 45 
03909  39BF  00 
03910  39C0  FF                 .BYTE $FF,$9C,'MEMBOT',0
03910  39C1  9C 
03910  39C2  4D 45 
03910  39C8  00 
03911  39C9  FF                 .BYTE $FF,$9F,'SCNKEY',0
03911  39CA  9F 
03911  39CB  53 43 
03911  39D1  00 
03912  39D2  FF                 .BYTE $FF,$A2,'SETTMO',0
03912  39D3  A2 
03912  39D4  53 45 
03912  39DA  00 
03913  39DB  FF                 .BYTE $FF,$A5,'ACPTR ',0
03913  39DC  A5 
03913  39DD  41 43 






DISASSEMBLER20......PAGE 0085

LINE# LOC   CODE        LINE


03913  39E3  00 
03914  39E4  FF                 .BYTE $FF,$A8,'CIOUT ',0
03914  39E5  A8 
03914  39E6  43 49 
03914  39EC  00 
03915  39ED  FF                 .BYTE $FF,$AB,'UNTLK ',0
03915  39EE  AB 
03915  39EF  55 4E 
03915  39F5  00 
03916  39F6  FF                 .BYTE $FF,$AE,'UNLSN ',0
03916  39F7  AE 
03916  39F8  55 4E 
03916  39FE  00 
03917  39FF  FF                 .BYTE $FF,$B1,'LISTEN',0
03917  3A00  B1 
03917  3A01  4C 49 
03917  3A07  00 
03918  3A08  FF                 .BYTE $FF,$B4,'TALK  ',0
03918  3A09  B4 
03918  3A0A  54 41 
03918  3A10  00 
03919  3A11  FF                 .BYTE $FF,$B7,'READST',0
03919  3A12  B7 
03919  3A13  52 45 
03919  3A19  00 
03920  3A1A  FF                 .BYTE $FF,$BA,'SETLFS',0
03920  3A1B  BA 
03920  3A1C  53 45 
03920  3A22  00 
03921  3A23  FF                 .BYTE $FF,$BD,'SETNAM',0
03921  3A24  BD 
03921  3A25  53 45 
03921  3A2B  00 
03922  3A2C  FF                 .BYTE $FF,$C0,'OPEN  ',0
03922  3A2D  C0 
03922  3A2E  4F 50 
03922  3A34  00 
03923  3A35  FF                 .BYTE $FF,$C3,'CLOSE ',0
03923  3A36  C3 
03923  3A37  43 4C 
03923  3A3D  00 
03924  3A3E  FF                 .BYTE $FF,$C6,'CHKIN ',0
03924  3A3F  C6 
03924  3A40  43 48 
03924  3A46  00 
03925  3A47  FF                 .BYTE $FF,$C9,'CHKOUT',0
03925  3A48  C9 
03925  3A49  43 48 
03925  3A4F  00 
03926  3A50  FF                 .BYTE $FF,$CC,'CLRCHN',0
03926  3A51  CC 
03926  3A52  43 4C 
03926  3A58  00 
03927  3A59  FF                 .BYTE $FF,$CF,'CHRIN ',0
03927  3A5A  CF 






DISASSEMBLER20......PAGE 0086

LINE# LOC   CODE        LINE


03927  3A5B  43 48 
03927  3A61  00 
03928  3A62  FF                 .BYTE $FF,$D2,'CHROUT',0
03928  3A63  D2 
03928  3A64  43 48 
03928  3A6A  00 
03929  3A6B  FF                 .BYTE $FF,$D5,'LOAD  ',0
03929  3A6C  D5 
03929  3A6D  4C 4F 
03929  3A73  00 
03930  3A74  FF                 .BYTE $FF,$D8,'SAVE  ',0
03930  3A75  D8 
03930  3A76  53 41 
03930  3A7C  00 
03931  3A7D  FF                 .BYTE $FF,$DB,'SETTIM',0
03931  3A7E  DB 
03931  3A7F  53 45 
03931  3A85  00 
03932  3A86  FF                 .BYTE $FF,$DE,'RDTIM ',0
03932  3A87  DE 
03932  3A88  52 44 
03932  3A8E  00 
03933  3A8F  FF                 .BYTE $FF,$E1,'STOP  ',0
03933  3A90  E1 
03933  3A91  53 54 
03933  3A97  00 
03934  3A98  FF                 .BYTE $FF,$E4,'GETIN ',0
03934  3A99  E4 
03934  3A9A  47 45 
03934  3AA0  00 
03935  3AA1  FF                 .BYTE $FF,$E7,'CLALL ',0
03935  3AA2  E7 
03935  3AA3  43 4C 
03935  3AA9  00 
03936  3AAA  FF                 .BYTE $FF,$EA,'UDTIM ',0
03936  3AAB  EA 
03936  3AAC  55 44 
03936  3AB2  00 
03937  3AB3  FF                 .BYTE $FF,$ED,'SCREEN',0
03937  3AB4  ED 
03937  3AB5  53 43 
03937  3ABB  00 
03938  3ABC  FF                 .BYTE $FF,$F0,'PLOT  ',0
03938  3ABD  F0 
03938  3ABE  50 4C 
03938  3AC4  00 
03939  3AC5  FF                 .BYTE $FF,$F3,'IOBASE',0
03939  3AC6  F3 
03939  3AC7  49 4F 
03939  3ACD  00 
03940  3ACE              ;*********************************
03941  3ACE  FF                 .BYTE $FF,$FA,'NMIVEC',0
03941  3ACF  FA 
03941  3AD0  4E 4D 
03941  3AD6  00 






DISASSEMBLER20......PAGE 0087

LINE# LOC   CODE        LINE


03942  3AD7  FF                 .BYTE $FF,$FC,'RESVEC',0
03942  3AD8  FC 
03942  3AD9  52 45 
03942  3ADF  00 
03943  3AE0  FF                 .BYTE $FF,$FE,'IRQVEC',0
03943  3AE1  FE 
03943  3AE2  49 52 
03943  3AE8  00 
03944  3AE9              ;*********************************
03945  3AE9  00          UTABLE .BYTE 0
03946  3AEA              ;*********************************
03947  3AEA              .END
03948  3AEA              ;*********************************
03949  3AEA              .END


ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 ABSBIT   2138    ABSEXT   215D    ABSLUT   2139    ABSX     215E
 ABSY     2164    AC0      279C    AC1      279F    ACC      20ED
 ACHECK   278A    ADRS     124F    AFILE    1876    AGET     18AA
 AGET1    18B6    ALINE    27CD    ALOP     27DF    AOP      1842
 AOP1     1907    AOP2     1931    AOP3     1956    AOPX     1902
 ASC      1973    ASCCCC   2718    ASCI1    2745    ASCII    273A
 ASCIIQ   2773    ASCKK    272F    B0000    2006    BASIC    120D
 BINARY   1D5A    BITFLG   3965    BITOPT   3938    BOP      186D
 BOP0     393F    BSC      395A    BSTUB    0001    BUF      125C
 BYABIT   1FD5    BYTES    27A2    BYTESX   27CA    BYTT     1FAD
 BYZBIT   1FB0    CASCII   2822    CDATA    12E7    CHKIN    FFC6
 CHKOUT   FFC9    CHRIN    FFCF    CHROUT   FFD2    CLOSE    FFC3
 CLRCHN   FFCC    COK      2E12    COMENT   224F    COMET    2255
 COMOPT   121D    COMPT    2265    CONST0   1F0F    CONST1   1F14
 CPASS    1215    CRLF     22E1    CRLFPR   1E49    CRNO     1D7E
 CRNO1    1D8B    CRYS     1D71    CRYS1    1D89    CSHORT   2263
 DATABE   12EF    DATABP   12EB    DATABS   12ED    DATAO1   26A6
 DATAO2   26DC    DATAOP   2697    DATUT    2784    DBYTES   282E
 DBYTEX   285B    DECSL    2330    DEVICE   1219    DISA     1431
 DISASS   1422    DISB     145F    DISC     14EE    DISERR   1CB2
 DISFUL   14EB    DISL     1F82    DISL1    1F93    DLOOA    1CDD
 DLOOC    1CD3    DLOOE    1CC7    DLOOP    1490    DOLLAR   22BE
 DONE     1565    DONED    1546    DOP      156E    DOP2     183A
 DOP3     183C    DSLINE   1F6B    EA       1220    EAGOL    1228
 EAOUT    122C    EAS      12E4    EASCI1   2806    EASCII   280B
 EFILE    223F    ENDAX    26A3    ENDDAT   2787    EPASS    1214
 EQUATE   311D    EQUEND   2E98    EQUINT   2D23    EQUOP    2E59
 EQUOP1   2E73    EQUPRT   2E2E    ERRCT    125A    FILE     178E
 FILEOK   1788    FINAL    1FAA    FINISH   1E36    FIXSYM   2DE7
 FOP1     19AF    FOP2     19B1    FOROPT   121C    FORWRD   21D7
 GETBYT   1D3D    GETC     2E1F    GETI     24F1    GETIN    FFE4
 GETOPE   296C    GETSL    231A    GETWRD   1D19    GFILE0   177C








SYMBOL TABLE

SYMBOL VALUE
 HEADER   1E68    HEADES   1EBB    HEADFX   1EE3    HEADOK   1ED5
 HEADSY   1ED6    HEXA     1EFF    ILLEGL   20AC    ILLMSG   236C
 ILLOP    294B    IMEXIT   2127    IMMEDT   20F2    IMPLI1   2178
 IMPLID   216A    IMPONE   2177    INCC     2E16    INCI     24E8
 INCIE    24E0    INCSL    2311    INDRCT   2184    INDX     2199
 INDY     21A2    INEND    1D3C    INENX    1D59    INIT     1A56
 INITD    16AC    INITIN   2450    INSTN1   1D0C    INSTNG   1D0A
 INTCH    250F    INTCHA   2500    INTCHK   250C    INTEND   2548
 INTEXT   24DE    INTMAT   254A    INTOUT   2637    INTPR    2642
 INTPRM   2669    INTPRS   2664    INTPRT   2621    INTSA    233C
 INTSET   2462    IPASS    1213    ISKIP    20E6    LARGE    25B2
 LINECK   1C73    LINECO   1CB1    LINECT   1258    LINEFL   12C0
 LINEOK   1EAA    LINES    2FF4    LISTCT   1257    LOADC    30E9
 LOADE    3101    LOADF    30AB    LOADM    30CB    LOOP1    263D
 LOOP2    2691    LPAREN   22C3    LTITLE   1F34    LTITLS   1F5E
 MATCH    2D80    MATCHS   2DA0    MATCHT   2DC7    MATEXT   2DD1
 MATONE   2D9F    MBYTE    291A    MCODES   2AAE    MDBYTE   292A
 MEMSIZ   0037    MNAMES   29D6    MNEMON   2933    MNLOOP   293D
 MODES    2BAE    MPASS    13F2    MSA1     1B72    MSA2     1B95
 MSA3     1BAE    MSAOP    1B53    MSB1     1B07    MSB4     1C31
 MSB5     1C52    MSD1     1A72    MSD2     1A84    MSD4     1A94
 MSD4A    1AAE    MSD5     1AC1    MSF1     19FF    MSF2     1A1B
 MSG      19B5    MSG1     1A30    MSG2     1A58    MSG5     1BC5
 MSGBIT   2349    MSGBZP   2351    MSGDIS   140F    MSGEND   2367
 MSGERR   1405    MSR1     1ADE    MSS1     301B    MSS2     3040
 MSS3     3067    MSS4     3086    MWORD    2922    NAME     300D
 NAMS     3017    NASCII   2813    NBUF     12C4    NCHARS   12C3
 NCOK     2E14    NDATA    12E9    NEGREL   2363    NEWEXT   1D09
 NEWLIN   1CEC    NEXLIN   1E5B    NEXPTR   1E58    NEXPTS   1EAB
 NEXTBY   2901    NEXTC    2DF2    NEXTP    14C1    NEXTSL   22F8
 NOASC    282C    NOBINC   2918    NOFILE   178C    NOHEX    1D6D
 NOID     179F    NOINC    230F    NOPRT    181F    NOTABS   18ED
 NPRAD    229B    NPRAD1   229C    OFFSET   1224    OFILE    17A2
 OFILE1   17B5    OFILE2   17BA    OFILE3   17DD    OFILE4   17EC
 OFILED   1797    ONEBIT   203A    ONEBX    2069    ONEBY    2066
 ONEBYT   203B    OPCPUT   20A5    OPCSYM   20A8    OPEN     FFC0
 OPERN1   295F    OPERND   2967    ORGIN    2229    OUFILE   1761
 OUTPUT   121A    P1       2292    PAGECT   1255    PAGER1   1EA4
 PASS     1212    PAUS1    276C    PAUSE    14BA    PCHAR    1DFF
 PEXIT    1E34    PFILE0   158E    PFILE1   1590    PMSG     13F9
 POSREL   235F    POVER    228F    PRAD     2278    PRBYT    1D93
 PRBYTS   1D8D    PREND    268E    PRFILE   1686    PRIN     1E14
 PRINT    1821    PRLA     226E    PRO2RD   1662    PROGED   15D6
 PROGM    1A52    PROGOK   16AB    PROGRD   15C1    PRTASS   2952
 PRTDAF   240F    PRTDAL   18D1    PRTDAS   18BE    PRTDAT   23F3
 PRTEST   23EC    PRTGET   17ED    PRTNEX   18C9    PRTNU1   1DCE
 PRTNU2   1DD5    PRTNU3   1DD6    PRTNUM   1DC5    PRTOK    2681
 PRTON1   238E    PRTONE   2380    PRTOT1   2422    PRTOTH   2417
 PRTPAG   1DBA    PRTTH1   23E1    PRTTHE   23BB    PRTTW1   23B0
 PRTTWO   2396    PSELEC   22A4    PUIT     24BB    PUT      2FD8
 PUTC     2FCC    PUTI     24A1    PWORK    22AD    PWORKD   22B0
 Q00000   27F4    QUITS    14F4    QUITX    2F1D    QUITXX   2F3D
 QUTERR   150B    RANG     243C    RANGE    242A    READS    2F4E
 READST   FFB7    READX    2F0A    READXF   2EE4    READXX   2E9E
 READY    2F5F    RELATV   21AE    RELND    21E0    RELNEG   220B








SYMBOL TABLE

SYMBOL VALUE
 RELP     221D    RELPC    21FE    RELPM    220F    RELPUT   21FA
 RELSYM   21FD    REOPEN   2EED    RESET    3003    RESINT   2488
 ROPT     1218    ROUT     244E    RPAREN   22C8    S3       259A
 SA       121E    SAGOL    1226    SAOUT    122A    SAVA     1252
 SAVEE    124D    SAVEP    1249    SAVES    124B    SAVINT   246F
 SAVX     1253    SAVY     1254    SBLOK    2913    SCREN    1E28
 SCRNO1   1EF5    SCROFF   1EE6    SCRON    1EF6    SELECT   1222
 SEMIC    22B9    SETLFS   FFBA    SETNAM   FFBD    SEXIT    1DB9
 SKIPER   2720    SLOK     230A    SMALL    25B5    SMALLP   1236
 SMALLS   1234    SOP      2CAE    SOP1     2CC2    SOP2     2EA5
 SOP3     2EB2    SOP4     2CF9    SORT     254C    SORT1    2561
 SORT2    2570    SORT3    25F2    SORT4    261E    SORTOK   261B
 SOUT     1DAF    SPAC     22EB    SPAC6    22E6    SPACE    22F3
 SPACM    22E8    SPASS    1216    SSET     2D16    STABLE   3966
 STARTD   120F    STARTS   16C6    STDREF   2FAE    STOP     FFE1
 STRPNT   1DA9    STRSY1   2DD8    STRSYM   2DD2    SUBP     2982
 SUBS     29BA    SUBS1    299E    SY       2D0B    SYEXIT   2DE6
 SYM      2D36    SYM1     2D4F    SYM2     2D52    SYMBOE   123D
 SYMBOL   1238    SYMBOP   1239    SYMBOS   123B    SYMBUF   12DA
 SYMEND   2D7E    SYMOP    2D4A    SYTAB    2CD7    T2       259D
 TABINE   1232    TABINP   122E    TABINS   1230    TDATA    12F1
 TEMP     1251    TEXTER   12E6    TWOB     20AB    TWOBIT   206F
 TWOBX    20A2    TWOBY    209F    TWOBYT   2070    UTABLE   3AE9
 UYMBOE   1243    UYMBOP   123F    UYMBOS   1241    VERSON   12C2
 VICREG   900F    WIND1    1744    WIND2    1746    WINDOP   1708
 WINDOW   121B    WORD1    2873    WORDM    28B9    WORDPT   28AD
 WORDS    285E    WORDS2   28E9    WORDS3   28FB    WORDSX   28AA
 WORDSY   28B3    WORDXX   28FE    WORKED   1245    WORKER   1247
 WREADY   C474    WRITE    1A4E    XFILE1   2ECD    XGET     2F8E
 XINDEX   22CD    XOP0     198A    XOP1     199A    XOP2     199C
 XOPT     1217    XTITLE   1F19    XTITLS   1F51    YINDEX   22D7
 YSHEX    1D6F    ZERBIT   2128    ZEROPG   2129    ZEROUR   0002
 ZEROX    212C    ZEROY    2132   

END OF ASSEMBLY

CROSS REFERENCE......PAGE    1


DISNOLIST.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































DISASSEMBLER20......PAGE 0002

LINE# LOC   CODE        LINE


00038  120F              .LIB   DIS.ASM
00350  156E              .END
00352  156E              .LIB   OPTION.ASM
01056  1C73              .END
01058  1C73              .LIB   UTIL.ASM
01488  1F6B              .END
01490  1F6B              .LIB   MODE.ASM
02240  242A              .END
02242  242A              .LIB   INTERNAL.ASM
02568  2697              .END
02570  2697              .LIB   ASC.ASM
02914  2933              .END
02916  2933              .LIB   TABLE.ASM
03294  2CAE              .END
03296  2CAE              .LIB   SYM.ASM
03947  3AEA              .END

ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 ABSBIT   2138    ABSEXT   215D    ABSLUT   2139    ABSX     215E
 ABSY     2164    AC0      279C    AC1      279F    ACC      20ED
 ACHECK   278A    ADRS     124F    AFILE    1876    AGET     18AA
 AGET1    18B6    ALINE    27CD    ALOP     27DF    AOP      1842
 AOP1     1907    AOP2     1931    AOP3     1956    AOPX     1902
 ASC      1973    ASCCCC   2718    ASCI1    2745    ASCII    273A
 ASCIIQ   2773    ASCKK    272F    B0000    2006    BASIC    120D
 BINARY   1D5A    BITFLG   3965    BITOPT   3938    BOP      186D
 BOP0     393F    BSC      395A    BSTUB    0001    BUF      125C
 BYABIT   1FD5    BYTES    27A2    BYTESX   27CA    BYTT     1FAD
 BYZBIT   1FB0    CASCII   2822    CDATA    12E7    CHKIN    FFC6
 CHKOUT   FFC9    CHRIN    FFCF    CHROUT   FFD2    CLOSE    FFC3
 CLRCHN   FFCC    COK      2E12    COMENT   224F    COMET    2255
 COMOPT   121D    COMPT    2265    CONST0   1F0F    CONST1   1F14
 CPASS    1215    CRLF     22E1    CRLFPR   1E49    CRNO     1D7E
 CRNO1    1D8B    CRYS     1D71    CRYS1    1D89    CSHORT   2263
 DATABE   12EF    DATABP   12EB    DATABS   12ED    DATAO1   26A6
 DATAO2   26DC    DATAOP   2697    DATUT    2784    DBYTES   282E
 DBYTEX   285B    DECSL    2330    DEVICE   1219    DISA     1431
 DISASS   1422    DISB     145F    DISC     14EE    DISERR   1CB2
 DISFUL   14EB    DISL     1F82    DISL1    1F93    DLOOA    1CDD
 DLOOC    1CD3    DLOOE    1CC7    DLOOP    1490    DOLLAR   22BE
 DONE     1565    DONED    1546    DOP      156E    DOP2     183A
 DOP3     183C    DSLINE   1F6B    EA       1220    EAGOL    1228
 EAOUT    122C    EAS      12E4    EASCI1   2806    EASCII   280B
 EFILE    223F    ENDAX    26A3    ENDDAT   2787    EPASS    1214
 EQUATE   311D    EQUEND   2E98    EQUINT   2D23    EQUOP    2E59
 EQUOP1   2E73    EQUPRT   2E2E    ERRCT    125A    FILE     178E
 FILEOK   1788    FINAL    1FAA    FINISH   1E36    FIXSYM   2DE7
 FOP1     19AF    FOP2     19B1    FOROPT   121C    FORWRD   21D7
 GETBYT   1D3D    GETC     2E1F    GETI     24F1    GETIN    FFE4
 GETOPE   296C    GETSL    231A    GETWRD   1D19    GFILE0   177C








SYMBOL TABLE

SYMBOL VALUE
 HEADER   1E68    HEADES   1EBB    HEADFX   1EE3    HEADOK   1ED5
 HEADSY   1ED6    HEXA     1EFF    ILLEGL   20AC    ILLMSG   236C
 ILLOP    294B    IMEXIT   2127    IMMEDT   20F2    IMPLI1   2178
 IMPLID   216A    IMPONE   2177    INCC     2E16    INCI     24E8
 INCIE    24E0    INCSL    2311    INDRCT   2184    INDX     2199
 INDY     21A2    INEND    1D3C    INENX    1D59    INIT     1A56
 INITD    16AC    INITIN   2450    INSTN1   1D0C    INSTNG   1D0A
 INTCH    250F    INTCHA   2500    INTCHK   250C    INTEND   2548
 INTEXT   24DE    INTMAT   254A    INTOUT   2637    INTPR    2642
 INTPRM   2669    INTPRS   2664    INTPRT   2621    INTSA    233C
 INTSET   2462    IPASS    1213    ISKIP    20E6    LARGE    25B2
 LINECK   1C73    LINECO   1CB1    LINECT   1258    LINEFL   12C0
 LINEOK   1EAA    LINES    2FF4    LISTCT   1257    LOADC    30E9
 LOADE    3101    LOADF    30AB    LOADM    30CB    LOOP1    263D
 LOOP2    2691    LPAREN   22C3    LTITLE   1F34    LTITLS   1F5E
 MATCH    2D80    MATCHS   2DA0    MATCHT   2DC7    MATEXT   2DD1
 MATONE   2D9F    MBYTE    291A    MCODES   2AAE    MDBYTE   292A
 MEMSIZ   0037    MNAMES   29D6    MNEMON   2933    MNLOOP   293D
 MODES    2BAE    MPASS    13F2    MSA1     1B72    MSA2     1B95
 MSA3     1BAE    MSAOP    1B53    MSB1     1B07    MSB4     1C31
 MSB5     1C52    MSD1     1A72    MSD2     1A84    MSD4     1A94
 MSD4A    1AAE    MSD5     1AC1    MSF1     19FF    MSF2     1A1B
 MSG      19B5    MSG1     1A30    MSG2     1A58    MSG5     1BC5
 MSGBIT   2349    MSGBZP   2351    MSGDIS   140F    MSGEND   2367
 MSGERR   1405    MSR1     1ADE    MSS1     301B    MSS2     3040
 MSS3     3067    MSS4     3086    MWORD    2922    NAME     300D
 NAMS     3017    NASCII   2813    NBUF     12C4    NCHARS   12C3
 NCOK     2E14    NDATA    12E9    NEGREL   2363    NEWEXT   1D09
 NEWLIN   1CEC    NEXLIN   1E5B    NEXPTR   1E58    NEXPTS   1EAB
 NEXTBY   2901    NEXTC    2DF2    NEXTP    14C1    NEXTSL   22F8
 NOASC    282C    NOBINC   2918    NOFILE   178C    NOHEX    1D6D
 NOID     179F    NOINC    230F    NOPRT    181F    NOTABS   18ED
 NPRAD    229B    NPRAD1   229C    OFFSET   1224    OFILE    17A2
 OFILE1   17B5    OFILE2   17BA    OFILE3   17DD    OFILE4   17EC
 OFILED   1797    ONEBIT   203A    ONEBX    2069    ONEBY    2066
 ONEBYT   203B    OPCPUT   20A5    OPCSYM   20A8    OPEN     FFC0
 OPERN1   295F    OPERND   2967    ORGIN    2229    OUFILE   1761
 OUTPUT   121A    P1       2292    PAGECT   1255    PAGER1   1EA4
 PASS     1212    PAUS1    276C    PAUSE    14BA    PCHAR    1DFF
 PEXIT    1E34    PFILE0   158E    PFILE1   1590    PMSG     13F9
 POSREL   235F    POVER    228F    PRAD     2278    PRBYT    1D93
 PRBYTS   1D8D    PREND    268E    PRFILE   1686    PRIN     1E14
 PRINT    1821    PRLA     226E    PRO2RD   1662    PROGED   15D6
 PROGM    1A52    PROGOK   16AB    PROGRD   15C1    PRTASS   2952
 PRTDAF   240F    PRTDAL   18D1    PRTDAS   18BE    PRTDAT   23F3
 PRTEST   23EC    PRTGET   17ED    PRTNEX   18C9    PRTNU1   1DCE
 PRTNU2   1DD5    PRTNU3   1DD6    PRTNUM   1DC5    PRTOK    2681
 PRTON1   238E    PRTONE   2380    PRTOT1   2422    PRTOTH   2417
 PRTPAG   1DBA    PRTTH1   23E1    PRTTHE   23BB    PRTTW1   23B0
 PRTTWO   2396    PSELEC   22A4    PUIT     24BB    PUT      2FD8
 PUTC     2FCC    PUTI     24A1    PWORK    22AD    PWORKD   22B0
 Q00000   27F4    QUITS    14F4    QUITX    2F1D    QUITXX   2F3D
 QUTERR   150B    RANG     243C    RANGE    242A    READS    2F4E
 READST   FFB7    READX    2F0A    READXF   2EE4    READXX   2E9E
 READY    2F5F    RELATV   21AE    RELND    21E0    RELNEG   220B








SYMBOL TABLE

SYMBOL VALUE
 RELP     221D    RELPC    21FE    RELPM    220F    RELPUT   21FA
 RELSYM   21FD    REOPEN   2EED    RESET    3003    RESINT   2488
 ROPT     1218    ROUT     244E    RPAREN   22C8    S3       259A
 SA       121E    SAGOL    1226    SAOUT    122A    SAVA     1252
 SAVEE    124D    SAVEP    1249    SAVES    124B    SAVINT   246F
 SAVX     1253    SAVY     1254    SBLOK    2913    SCREN    1E28
 SCRNO1   1EF5    SCROFF   1EE6    SCRON    1EF6    SELECT   1222
 SEMIC    22B9    SETLFS   FFBA    SETNAM   FFBD    SEXIT    1DB9
 SKIPER   2720    SLOK     230A    SMALL    25B5    SMALLP   1236
 SMALLS   1234    SOP      2CAE    SOP1     2CC2    SOP2     2EA5
 SOP3     2EB2    SOP4     2CF9    SORT     254C    SORT1    2561
 SORT2    2570    SORT3    25F2    SORT4    261E    SORTOK   261B
 SOUT     1DAF    SPAC     22EB    SPAC6    22E6    SPACE    22F3
 SPACM    22E8    SPASS    1216    SSET     2D16    STABLE   3966
 STARTD   120F    STARTS   16C6    STDREF   2FAE    STOP     FFE1
 STRPNT   1DA9    STRSY1   2DD8    STRSYM   2DD2    SUBP     2982
 SUBS     29BA    SUBS1    299E    SY       2D0B    SYEXIT   2DE6
 SYM      2D36    SYM1     2D4F    SYM2     2D52    SYMBOE   123D
 SYMBOL   1238    SYMBOP   1239    SYMBOS   123B    SYMBUF   12DA
 SYMEND   2D7E    SYMOP    2D4A    SYTAB    2CD7    T2       259D
 TABINE   1232    TABINP   122E    TABINS   1230    TDATA    12F1
 TEMP     1251    TEXTER   12E6    TWOB     20AB    TWOBIT   206F
 TWOBX    20A2    TWOBY    209F    TWOBYT   2070    UTABLE   3AE9
 UYMBOE   1243    UYMBOP   123F    UYMBOS   1241    VERSON   12C2
 VICREG   900F    WIND1    1744    WIND2    1746    WINDOP   1708
 WINDOW   121B    WORD1    2873    WORDM    28B9    WORDPT   28AD
 WORDS    285E    WORDS2   28E9    WORDS3   28FB    WORDSX   28AA
 WORDSY   28B3    WORDXX   28FE    WORKED   1245    WORKER   1247
 WREADY   C474    WRITE    1A4E    XFILE1   2ECD    XGET     2F8E
 XINDEX   22CD    XOP0     198A    XOP1     199A    XOP2     199C
 XOPT     1217    XTITLE   1F19    XTITLS   1F51    YINDEX   22D7
 YSHEX    1D6F    ZERBIT   2128    ZEROPG   2129    ZEROUR   0002
 ZEROX    212C    ZEROY    2132   

END OF ASSEMBLY

CROSS REFERENCE......PAGE    1


* ABSBIT $2138  1823
  ABSEXT $215D  1836  1841
  ABSLUT $2139  1827  3038
  ABSX   $215E  1845  3039
  ABSY   $2164  1850  3040
  AC0    $279C  2705  2709  2711
  AC1    $279F  2707  2712
  ACC    $20ED  1774  3033
  ACHECK $278A  2665  2703
  ADRS   $124F   134   404   405   410   412   451   454   539   541   550

                 552   561   563   577   579   585   587   815   836   839

                 851   854  1169  1170  1179  1184  2985  2988  2989
  AFILE  $1876   753   758
  AGET   $18AA   779   783
  AGET1  $18B6   769   778   784
  ALINE  $27CD  2726  2735
  ALOP   $27DF  2746  2764
* AOP    $1842   729
  AOP1   $1907   824   886
* AOP2   $1931   846
  AOP3   $1956   864   865   877
  AOPX   $1902   817   819
  ASC    $1973   867   869   871   873   875   878
  ASCCCC $2718  2627  2633  2646
  ASCI1  $2745  2659  2663  2665
  ASCII  $273A  2661  2671  2673  2685
  ASCIIQ $2773  2666  2669  2687
  ASCKK  $272F  2648  2657
  B0000  $2006  1574  1576  1578  1580  1600  1602  1604  1607  1610  1613

                1616  1622
  BASIC  $120D    30    35
  BINARY $1D5A  1190  1195  1206  3728  3736
  BITFLG $3965  1511  1561  1587  3885  3890
  BITOPT $3938   725  3863
  BOP    $186D   744   747
  BOP0   $393F  3867  3868  3878
  BSC    $395A  3870  3872  3874  3876  3880
  BSTUB  $0001     9    29
  BUF    $125C   149   384   499   500   619   754   760   761  1159  1189

                1194  3611  3617  3618
  BYABIT $1FD5  1518  1586
  BYTES  $27A2  2710  2716
  BYTESX $27CA  2718  2731
  BYTT   $1FAD  1507  1533  1550  1625
  BYZBIT $1FB0  1516  1560
  CASCII $2822  1753  1790  2741  2747  2782
  CDATA  $12E7   181   212   791   804   820   824   828   882   883  2587

                2591  2597  2612
  CHKIN  $FFC6    54   396   478   771  3697
  CHKOUT $FFC9    63   694  1327  1336
  CHRIN  $FFCF    55   397   399   406   479   480   481   776   779  1158

                1223  1232  3699  3703  3723  3726  3734  3742  3748
  CHROUT $FFD2    53   878  1127  1129  1131  1330  1339  1346  3595  3701

                3705  3727  3735  3781  3785  3882
  CLOSE  $FFC3    64   300   342   420   492   510   531   670   785  1096

                3664  3686







CROSS REFERENCE......PAGE    2


  CLRCHN $FFCC    57   344   421   493   671   698   786  1331  1340  3665

                3687  3724  3751
  COK    $2E12  3510  3515
  COMENT $224F  1102  1629  1969  1978  2641  2660  2691  3546  3552  3578

  COMET  $2255  1648  1839  1864  1874  1978  1981
* COMOPT $121D    87
  COMPT  $2265  1988  1991
  CONST0 $1F0F  1302  1309  1471
  CONST1 $1F14  1305  1312  1472
  CPASS  $1215    78   221   275  1075  1530  1624  1781  2632  2658  2662

                2688  2717  2794  2814  3439
  CRLF   $22E1   218   440   472   794  1146  1367  2079  3666
  CRLFPR $1E49  1354  1365  1374  1420
  CRNO   $1D7E   571  1232  3344  3352
  CRNO1  $1D8B  1228  1234  1236  1239
  CRYS   $1D71   684   716   893   905  1223  3316
  CRYS1  $1D89  1225  1227  1237
  CSHORT $2263  1984  1987
  DATABE $12EF   185   732   737  2280  2283
  DATABP $12EB   183   730   735
  DATABS $12ED   184   731   736
  DATAO1 $26A6  2588  2591  2613
  DATAO2 $26DC  2611  2617
  DATAOP $2697  1506  2584
  DATUT  $2784  2642  2653  2689  2696
  DBYTES $282E  2712  2793
  DBYTEX $285B  2795  2809
  DECSL  $2330   448  1570  1596  1828  1829  1840  1865  1875  2132  2181

                2202  2203  2640  2692
  DEVICE $1219    83   241   260   263   268   296   304   311   321   326

                 329   337   367  1077  1147  1323  1332  1341  1366  1369

                1383  1388  1401  1452  2208  2213  2215  2674  2677  2682

  DISA   $1431   210   292
  DISASS $1422    71   200
  DISB   $145F   222   229
  DISC   $14EE   277   293
  DISERR $1CB2   507   664   768  1107  3639
  DISFUL $14EB   276   279   292
  DISL   $1F82  1512  1519  1527  1563  1582  1589  1618
  DISL1  $1F93  1531  1537
  DLOOA  $1CDD  1130  1133
  DLOOC  $1CD3  1115  1125
  DLOOE  $1CC7  1116  1118
  DLOOP  $1490   224   227   248   254   256   271
  DOLLAR $22BE   438  1686  1716  1743  1785  1963  2050  2727  2774  2806

                2847  2884  3713
  DONE   $1565   339   344
  DONED  $1546   323   331
  DOP    $156E   203   366
  DOP2   $183A   717   720
  DOP3   $183C   719   721
  DSLINE $1F6B   248  1506
  EA     $1220    92   288   290   415   417   551   553   600   602  2098

                2102
  EAGOL  $1228    96   601   603  2259  2263
  EAOUT  $122C    98   287   289   586   588







CROSS REFERENCE......PAGE    3


  EAS    $12E4   179  2619  2622  2634  2636  2649  2651  2896  2900
  EASCI1 $2806  2759  2766
  EASCII $280B  2748  2763  2766  2770
  EFILE  $223F   294  1094  1969
  ENDAX  $26A3  2585  2589  2593
  ENDDAT $2787  2589  2698
  EPASS  $1214    77   223  1677  1707  1894  2647  2840  2871
  EQUATE $311D  3548  3549  3854
  EQUEND $2E98  3544  3573  3578
  EQUINT $2D23   226  3390
  EQUOP  $2E59  3553  3572  3576
  EQUOP1 $2E73  3560  3562
  EQUPRT $2E2E   246  3537
  ERRCT  $125A   145   236   237   317   318  1737  1739
  FILE   $178E   626   628
* FILEOK $1788   625
  FINAL  $1FAA  1549  1650
  FINISH $1E36   340  1354  1358  1379  1425  1448
  FIXSYM $2DE7  2025  2542  3494  3498
  FOP1   $19AF   906   909
  FOP2   $19B1   908   910
  FOROPT $121C    86   910  1983  2009  2023  2159  2175  2196  2216  2230

  FORWRD $21D7  1907  1909
  GETBYT $1D3D  1177  1182  1189
  GETC   $2E1F  3416  3419  3446  3455  3527
  GETI   $24F1  2369  2385  2388  2425  2428  2439  2450  2534  2537  3553

                3556
  GETIN  $FFE4    56   253   269   864  2670  2683  3589  3867
  GETOPE $296C  2967  2972  2980
  GETSL  $231A  1514  1528  1543  1568  1594  1639  1670  1699  1702  1744

                1786  1830  1855  1905  1935  2119  2157  2169  2173  2186

                2190  2194  2728  2740  2746  2752  2775  2801  2804  2824

                2828
  GETWRD $1D19   538   549   560   576   584   814   834   849  1168
  GFILE0 $177C   619   623
  HEADER $1E68   243  1383
* HEADES $1EBB  1429
  HEADFX $1EE3  1445  1448
  HEADOK $1ED5  1424  1439
  HEADSY $1ED6  1443  2529
  HEXA   $1EFF  1259  1264  1467
  ILLEGL $20AC  1737  3032
  ILLMSG $236C  1768  1769  2153
  ILLOP  $294B  2946  2952
  IMEXIT $2127  1782  1791  1801
  IMMEDT $20F2  1779  3016  3034
  IMPLI1 $2178  1856  1858  1860  1862
  IMPLID $216A  1855  3041
  IMPONE $2177  1861  3014  3015  3023
  INCC   $2E16  3418  3445  3454  3520
  INCI   $24E8  2362  2387  2399  2427  2434  2441  2536  2549  3555  3569

  INCIE  $24E0  2347  2348  2356
  INCSL  $2311   293   409   488  1567  1593  1669  1698  1701  1779  1832

                1833  1838  1863  1873  1892  2104  2112  2172  2189  2193

                2638  2690  2803  2827  2902
  INDRCT $2184  1869  3045







CROSS REFERENCE......PAGE    4


  INDX   $2199  1879  3043
  INDY   $21A2  1885  3044
  INEND  $1D3C  1173  1181  1185
  INENX  $1D59  1193  1202
  INIT   $1A56   522   523   952
  INITD  $16AC   390   521   636   749  3606
  INITIN $2450   204  2280
  INSTN1 $1D0C  1158  1162
  INSTNG $1D0A   379   613   743  1157  1171  3602
  INTCH  $250F  2385  2402  2406
  INTCHA $2500  2007  2379
  INTCHK $250C  2330  2384
  INTEND $2548  2403  2408
  INTEXT $24DE  2331  2350
  INTMAT $254A  2397  2410
  INTOUT $2637  2526  2529
  INTPR  $2642  2534  2561
  INTPRM $2669  2545  2548
  INTPRS $2664  2541  2546
  INTPRT $2621   327  2519
  INTSA  $233C   210   401  2140
  INTSET $2462  2289  2384  2415  2515
  IPASS  $1213    76  1675  1705  1916  2838  2869
  ISKIP  $20E6  1754  1766
  LARGE  $25B2  2454  2458
  LINECK $1C73   250  1074
  LINECO $1CB1  1076  1079  1090  1103
  LINECT $1258   144   230   233  1140  1142  2218  2219
  LINEFL $12C0   163   238   239  1084  1087  1099  1100  1143  1145
  LINEOK $1EAA  1378  1385  1414
  LINES  $2FF4  3655  3776
  LISTCT $1257   143   235  1355  1356  1360  1375  1376  1421  1422  1443

  LOADC  $30E9  3677  3678  3838
  LOADE  $3101  3688  3689  3846
  LOADF  $30AB  3598  3599  3824
  LOADM  $30CB  3644  3645  3831
  LOOP1  $263D  2532  2564
  LOOP2  $2691  2558  2563
  LPAREN $22C3  1869  1879  1885  2055
  LTITLE $1F34  1402  1403  1478
  LTITLS $1F5E  1435  1436  1484
  MATCH  $2D80  3429  3438
  MATCHS $2DA0  3440  3454
  MATCHT $2DC7  3442  3457  3474
  MATEXT $2DD1  3444  3479
  MATONE $2D9F  3448  3450
  MBYTE  $291A  1740  1741  2721  2722  2908
  MCODES $2AAE  2942  3134
  MDBYTE $292A  2798  2799  2910
  MEMSIZ $0037    67   444   446
  MNAMES $29D6  2944  3049
  MNEMON $2933  1545  2939
  MNLOOP $293D  2944  2956
  MODES  $2BAE  2982  3224
  MPASS  $13F2   193   213   214
  MSA1   $1B72   811   812  1006







CROSS REFERENCE......PAGE    5


  MSA2   $1B95   831   832  1012
  MSA3   $1BAE   846   847  1018
  MSAOP  $1B53   740   741  1003
  MSB1   $1B07   992  3864  3865
  MSB4   $1C31   890   891  1040
  MSB5   $1C52   902   903  1047
  MSD1   $1A72   535   536   573   574   961
  MSD2   $1A84   546   547   581   582   965
  MSD4   $1A94   557   558   969
  MSD4A  $1AAE   468   469   973
  MSD5   $1AC1   568   569   977
  MSF1   $19FF   376   377   930
  MSF2   $1A1B   426   427   936
  MSG    $19B5   370   371   916
  MSG1   $1A30   607   608   943
  MSG2   $1A58   681   682   954
  MSG5   $1BC5   861   862  1024
  MSGBIT $2349  1635  1636  2148
  MSGBZP $2351  1642  1643  2149
  MSGDIS $140F   196   333   334
  MSGEND $2367  1971  1972  2152
  MSGERR $1405   195   314   315
  MSR1   $1ADE   713   714   983
  MSS1   $301B  3312  3313  3792
  MSS2   $3040  3341  3342  3799
  MSS3   $3067  3586  3587  3808
  MSS4   $3086  3349  3350  3817
  MWORD  $2922  2818  2819  2909
  NAME   $300D  3625  3626  3789
  NAMS   $3017   753  3610  3790
  NASCII $2813  2742  2774
  NBUF   $12C4   166   620   645   650   656   657
  NCHARS $12C3   165   612   617   622   634   639
  NCOK   $2E14  3511  3514  3517
  NDATA  $12E9   182   777   790   816   884  2584  2592
  NEGREL $2363  1941  1942  2151
  NEWEXT $1D09  1149  1151
  NEWLIN $1CEC   312   313   331   332   336  1140  1549  1646  1837  1862

                1872  1965  1974  1979  2730  2772  2777  2808  2849  2890

                3551  3567
  NEXLIN $1E5B  1150  1375
  NEXPTR $1E58  1374  1386  1398  1399  1405  1412  1413
  NEXPTS $1EAB  1420  1429  1433  1434  1438  1446  1447  2562  2563
  NEXTBY $2901  2731  2758  2778  2809  2850  2852  2854  2891  2895
  NEXTC  $2DF2  3430  3502
  NEXTP  $14C1   249   273
  NEXTSL $22F8  1550  2097
  NOASC  $282C  2783  2785  2788
  NOBINC $2918  2898  2901  2905
  NOFILE $178C   614   627
  NOHEX  $1D6D  1208  1213  1216
  NOID   $179F   635   637
  NOINC  $230F  2100  2103  2107
  NOPRT  $181F   685   700   703
  NOTABS $18ED   745   811
  NPRAD  $229B  2021  2024







CROSS REFERENCE......PAGE    6


  NPRAD1 $229C  2004  2023
  OFFSET $1224    94   462   466   562   564  2121  2124
  OFILE  $17A2   639  1097
  OFILE1 $17B5   643   647
  OFILE2 $17BA   649   654
* OFILE3 $17DD   669
  OFILE4 $17EC   640   665   677
  OFILED $1797   244   634
* ONEBIT $203A  1665
  ONEBX  $2069  1687  1689
  ONEBY  $2066  1685  1688
  ONEBYT $203B  1669  1809  1813  1818  1886  3017  3018  3019  3025  3026

  OPCPUT $20A5  1676  1706  1725
  OPCSYM $20A8  1678  1708  1727
  OPEN   $FFC0    62   506   529   663   692   767  3635
  OPERN1 $295F  1532  2969
  OPERND $2967  1548  2974
  ORGIN  $2229   245  1101  1958  2639
* OUFILE $1761   607
  OUTPUT $121A    84   240   301   303   308   310   325   330   369   628

                 629   704   705  1368  2207
  P1     $2292  2006  2008  2016
  PAGECT $1255   142   231   234  1395  1396  1409  1411
  PAGER1 $1EA4  1410  1412
  PASS   $1212    75   206   216   220   273   274  1074  1529  1623  1674

                1704  1780  1893  1915  2631  2646  2657  2661  2687  2716

                2793  2813  2837  2868  3438
  PAUS1  $276C  2683  2684
  PAUSE  $14BA   269   270
  PCHAR  $1DFF   217   437  1260  1265  1274  1315  1322  1759  1761  1763

                1775  1784  1796  1798  1800  1960  1962  1989  1997  1999

                2046  2051  2056  2061  2066  2068  2073  2075  2080  2093

                2744  2749  2755  2771  2879  2881  2949  3468  3470  3490

                3496  3563  3565
  PEXIT  $1E34  1343  1347
  PFILE0 $158E   380   382
  PFILE1 $1590   383   388
  PMSG   $13F9   194   264   265  2678  2679
  POSREL $235F  1938  1939  2150
  POVER  $228F  2010  2012
  PRAD   $2278  1538  1633  2003  2720  2797  2817
  PRBYT  $1D93   799  1248  1253  1640  1690  1749  1788  1951  2158  2170

                2174  2187  2191  2195  2729  2776  3745  3750
  PRBYTS $1D8D  1246  2031  2041
  PREND  $268E  2553  2556  2562
  PRFILE $1686   391   476   498
  PRIN   $1E14  1325  1332
  PRINT  $1821   702   704
  PRLA   $226E  1688  1722  1996  2016  2035
  PRO2RD $1662   481   490
  PROGED $15D6   408   414
  PROGM  $1A52   383   951
  PROGOK $16AB   508   517
  PROGRD $15C1   406   413
  PRTASS $2952  1537  2961
  PRTDAF $240F  2217  2223







CROSS REFERENCE......PAGE    7


  PRTDAL $18D1   797   803
* PRTDAS $18BE   790
  PRTDAT $23F3  1631  2213  2229  2664  2962
  PRTEST $23EC  2165  2182  2207  2236
  PRTGET $17ED   630   681
  PRTNEX $18C9   794   805
  PRTNU1 $1DCE  1285  1296  1317
  PRTNU2 $1DD5  1299  1307
  PRTNU3 $1DD6  1298  1300
  PRTNUM $1DC5   319  1289  2220
  PRTOK  $2681  2552  2557
  PRTON1 $238E  2160  2163
  PRTONE $2380  1632  2157  2719  2996  2997  3005
  PRTOT1 $2422  2231  2234
  PRTOTH $2417  1958  1970  1981  2229  3547  3558
  PRTPAG $1DBA  1281  1397
  PRTTH1 $23E1  2197  2200
  PRTTHE $23BB  2186  3002  3003  3004  3009
  PRTTW1 $23B0  2176  2179
  PRTTWO $2396  2169  2796  2816  2998  2999  3000  3001  3006  3007  3008

  PSELEC $22A4   439  1964  2017  2029  2223
  PUIT   $24BB  2328  2333
  PUT    $2FD8  3760  3764
  PUTC   $2FCC  3654  3755
  PUTI   $24A1  1726  1929  2321  2851  3449
  PWORK  $22AD  1926  1954  2035  3561
  PWORKD $22B0   433   471  1724  2039  2345  2548  2807  2848  2889  3566

  Q00000 $27F4  2754  2756
  QUITS  $14F4   252   296
  QUITX  $2F1D  3657  3663
  QUITXX $2F3D  3640  3685
  QUTERR $150B   298   308
  RANG   $243C  2260  2266
  RANGE  $242A  1684  1714  2258  3443
  READS  $2F4E  3653  3696
  READST $FFB7    59   407   489   695   782  3658
  READX  $2F0A  3653  3659
  READXF $2EE4  3603  3624
  READXX $2E9E  3361  3586
  READY  $2F5F  3703  3708
  RELATV $21AE  1892  3024  3042
  RELND  $21E0  1911  1913
  RELNEG $220B  1937  1941
  RELP   $221D  1947  1951
  RELPC  $21FE  1924  1935
  RELPM  $220F  1940  1943
  RELPUT $21FA  1917  1928
  RELSYM $21FD  1895  1920  1931
  REOPEN $2EED  3620  3631
  RESET  $3003  3779  3782
  RESINT $2488  2309  3579
  ROPT   $1218    82   721  1922
  ROUT   $244E  2261  2264  2268  2271  2275
  RPAREN $22C8  1871  1881  1887  2060
  S3     $259A  2445  2449
  SA     $121E    91   284   286   398   400   429   431   461   465   540








CROSS REFERENCE......PAGE    8


                 542   596   598  2140  2142
  SAGOL  $1226    95   597   599  2267  2270
  SAOUT  $122A    97   283   285   578   580
  SAVA   $1252   136   389   498  2533  2557
  SAVEE  $124D   130  2302  2304  2313  2315
* SAVEP  $1249   128
  SAVES  $124B   129  2298  2300  2309  2311
  SAVINT $246F   225  2297
  SAVX   $1253   137   796   802  1284  1292  1296  1316  2948  2950
  SAVY   $1254   138   793   797   801   829   835   842   850   857   879

                3744  3746
  SBLOK  $2913  2897  2902
  SCREN  $1E28  1334  1341
  SCRNO1 $1EF5  1454  1458
  SCROFF $1EE6   637  1452
  SCRON  $1EF6   345  1460
  SELECT $1222    93   414   416   445   447   450   452   453   455   460

                 464   482   484  1897  1899  2029  2030  2097  2101  2112

                2114  2120  2123  2132  2134  2135  2141  2143  2379  2381

                2606  2609  2635  2637  2650  2652  2895  2899  3402  3404

  SEMIC  $22B9  1757  1794  1953  1982  2045  2344
  SETLFS $FFBA    61   505   528   662   691   766  3634
  SETNAM $FFBD    60   501   524   658   687   762  3619  3627
  SEXIT  $1DB9  1273  1277
* SKIPER $2720  2649
  SLOK   $230A  2099  2104
  SMALL  $25B5  2453  2457  2463
  SMALLP $1236   109  2418  2421  2436  2438  2477  2479  2826  2830  2885

                2887
  SMALLS $1234   108  2417  2420  2463  2465  2488  2490  2498  2500  2502

                2504  2506  2510
  SOP    $2CAE   709  3312
  SOP1   $2CC2  3317  3327
  SOP2   $2EA5  3589  3590  3594
  SOP3   $2EB2  3592  3595
  SOP4   $2CF9  3353  3361
  SORT   $254C  2415  2530  3545
  SORT1  $2561  2425  2492  2513
  SORT2  $2570  2434  2458
  SORT3  $25F2  2449  2497
  SORT4  $261E  2509  2512  2515
  SORTOK $261B  2508  2513
  SOUT   $1DAF  1272  1276
  SPAC   $22EB  2086  2088
  SPAC6  $22E6  1793  1952  2012  2084
  SPACE  $22F3   800  1539  1546  1634  1750  1756  1764  2011  2086  2092

                2171  2188  2192  2221  2222  2539  3712
  SPACM  $22E8  2085  2164  2180  2201  2225  2235  2544  2547  2560
  SPASS  $1216    79  3441
  SSET   $2D16  3382  3415
  STABLE $3966  3332  3335  3899
* STARTD $120F    71
  STARTS $16C6   381   535
  STDREF $2FAE  3717  3741
  STOP   $FFE1    58   251  2668  3656
  STRPNT $1DA9   215   266   316   335   372   378   428   470   537   548








CROSS REFERENCE......PAGE    9


                 559   570   575   583   609   683   715   742   813   833

                 848   863   892   904  1269  1391  1404  1432  1437  1637

                1644  1742  1770  1943  1973  2680  2723  2800  2820  3314

                3343  3351  3550  3588  3600  3646  3679  3690  3866
  STRSY1 $2DD8  3486  3492
  STRSYM $2DD2  3466  3476  3483
  SUBP   $2982  2965  2966  2995
  SUBS   $29BA  2975  2976  3031
  SUBS1  $299E  2970  2971  3013
  SY     $2D0B  3323  3345  3362  3374
  SYEXIT $2DE6  3487  3489  3493  3495
  SYM    $2D36  2003  3400
  SYM1   $2D4F  3406  3415
  SYM2   $2D52  3416  3432
  SYMBOE $123D   116   729   734  3367  3369  3375  3377  3509  3513  3671

                3673
  SYMBOL $1238   113  3322  3328  3400  3410
  SYMBOP $1239   114  3334  3337  3355  3357  3366  3368  3383  3385  3459

                3462  3474  3475  3503  3505  3506  3508  3512  3520  3522

                3527  3529  3670  3672  3756  3758  3766  3768  3769  3771

  SYMBOS $123B   115  3333  3336  3382  3384
  SYMBUF $12DA   174  3700  3704  3710  3733  3737  3738  3743  3749  3760

  SYMEND $2D7E  3401  3411  3431  3433
  SYMOP  $2D4A  1682  1712  1728  1919  2540  2845  2853  2876  3410  3559

* SYTAB  $2CD7  3341
  T2     $259D  2444  2448  2450
  TABINE $1232   104  2282  2285  2301  2303  2314  2316  2323  2326  2333

                2335  2356  2358  2401  2405  2443  2447  2507  2511  2521

                2524  2551  2555  3390  3393  3539  3542  3571  3575
  TABINP $122E   102  2290  2292  2362  2364  2369  2371  2400  2404  2435

                2437  2442  2446  2489  2491  2501  2505  2550  2554  3391

                3394  3570  3574
  TABINS $1230   103  2281  2284  2289  2291  2297  2299  2310  2312  2322

                2325  2416  2419  2520  2523  3392  3395  3538  3541
  TDATA  $12F1   189   780   798   837   840   852   855   880  2599  2602

                2618  2621  2624
  TEMP   $1251   135  1086  1089  1178  1183  1191  1200  1201  2085  2087

                2324  2327  2393  2396  2426  2429  2452  2456  2482  2485

                2522  2525  2607  2610  2736  2760  2761  2940  2955  3425

                3428  3540  3543  3649  3776  3778  3783
  TEXTER $12E6   180  2625  2703  2724  2831  3596  3715
  TWOB   $20AB  1683  1713  1729
* TWOBIT $206F  1694
  TWOBX  $20A2  1717  1723
  TWOBY  $209F  1715  1721
  TWOBYT $2070  1698  1827  1845  1850  1870  3020  3021  3022  3027
  UTABLE $3AE9  3354  3356  3374  3376  3945
* UYMBOE $1243   122
* UYMBOP $123F   120
* UYMBOS $1241   121
  VERSON $12C2   164   616   641   644   647
  VICREG $900F    52  1455  1457  1460  1462
  WIND1  $1744   572   591
  WIND2  $1746   590   592
  WINDOP $1708   494   568
  WINDOW $121B    85   278   592







CROSS REFERENCE......PAGE   10


  WORD1  $2873  2815  2824
  WORDM  $28B9  2833  2858
  WORDPT $28AD  2839  2851  2870
  WORDS  $285E  2711  2813
  WORDS2 $28E9  2877  2884
  WORDS3 $28FB  2846  2882  2890
* WORDSX $28AA  2850
  WORDSY $28B3  2841  2853  2872
* WORDXX $28FE  2891
  WORKED $1245   126   430   432   463   467  1671  1673  1689  1700  1703

                1898  1900  1901  1903  1908  1910  1912  1913  2039  2040

                2258  2262  2266  2269  2338  2341  2380  2382  2391  2394

                2440  2451  2455  2468  2471  2535  2538  2802  2805  2825

                2829  2859  2861  2862  2864  2886  2888  3403  3405  3424

                3427  3554  3557
  WORKER $1247   127  2386  2389  2392  2395  2600  2603  2605  2608  3417

                3420  3423  3426
  WREADY $C474    65   346   515   676
  WRITE  $1A4E   649   950
  XFILE1 $2ECD  3610  3615
  XGET   $2F8E  3720  3722  3726
  XINDEX $22CD  1814  1846  2065
  XOP0   $198A   807   818   885   890
  XOP1   $199A   894   897
  XOP2   $199C   896   898
  XOPT   $1217    81   898  2005
  XTITLE $1F19  1389  1390  1476
  XTITLS $1F51  1430  1431  1483
  YINDEX $22D7  1819  1851  1888  2072
  YSHEX  $1D6F  1210  1215  1218
* ZERBIT $2128  1805
  ZEROPG $2129  1809  3035
  ZEROUR $0002    66   483   485   487   733   738  1269  1270  1272  1281

                1282  1289  1290  1301  1303  1304  1306  1308  1310  1311

                1313  2122  2125  2127  2334  2336  2339  2342  2370  2372

                2374  2464  2466  2469  2472  2478  2480  2483  2486  2980

                2981  2984  2987  3483  3484  3486  3494  3528  3530  3532

                3757  3759  3761
  ZEROX  $212C  1813  1880  3036
  ZEROY  $2132  1818  3037
























































































